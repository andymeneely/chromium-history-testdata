{"files":{"native_client_sdk/src/build_tools/parse_dsc.py":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":11003,"is_binary":false},"native_client_sdk/src/build_tools/generate_make.py":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":11002,"is_binary":false},"native_client_sdk/src/examples/demo/drive/example.dsc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":5,"messages":[],"id":11006,"is_binary":false},"native_client_sdk/src/examples/api/mouse_lock/example.dsc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":4,"messages":[],"id":11005,"is_binary":false},"native_client_sdk/src/examples/resources/manifest.json.template":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":4,"messages":[{"author":"binji","author_email":"binji@chromium.org","text":"Maybe simpler to just omit it entirely if it isn't defined.","draft":false,"lineno":22,"date":"2013-07-24 21:39:09.632860","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> Maybe simpler to just omit it entirely if it isn't defined.\nI've simplified this a bit.\n","draft":false,"lineno":22,"date":"2013-07-24 22:38:19.273030","left":false}],"id":11008,"is_binary":false},"native_client_sdk/src/examples/api/file_io/example.dsc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":3,"messages":[],"id":11004,"is_binary":false},"native_client_sdk/src/build_tools/build_app.py":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":27,"num_removed":6,"messages":[{"author":"binji","author_email":"binji@chromium.org","text":"this isn't recursive, but it looks like it is not necessary: http://developer.chrome.com/apps/declare_permissions.html\n\nOnly \"socket\" and \"mediaGalleries\" are dicts, and they always have lists of strings.","draft":false,"lineno":117,"date":"2013-07-24 21:39:09.630360","left":false},{"author":"binji","author_email":"binji@chromium.org","text":"BTW, make a new function for this.","draft":false,"lineno":117,"date":"2013-07-24 21:39:09.630810","left":false},{"author":"binji","author_email":"binji@chromium.org","text":"clearer to just iterate and continue:\n\nfor permission in permssions:\n  if not isinstance(permission, dict):\n    continue\n  ...\n\nEDIT: though in this case you want to handle the non-dict case too.","draft":false,"lineno":118,"date":"2013-07-24 21:39:09.631210","left":false},{"author":"binji","author_email":"binji@chromium.org","text":"If you depend on this, then assert","draft":false,"lineno":119,"date":"2013-07-24 21:39:09.631670","left":false},{"author":"binji","author_email":"binji@chromium.org","text":"why loop? just:\n\nall_permissions.get(k)\n\nand check that it is a dict","draft":false,"lineno":122,"date":"2013-07-24 21:39:09.632070","left":false},{"author":"binji","author_email":"binji@chromium.org","text":"why not just do this as part of the above loop:\n\nfor permission in permissions:\n  if isinstance(permission, dict):\n    # dict handling...\n  else:\n    # list handling...","draft":false,"lineno":130,"date":"2013-07-24 21:39:09.632460","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> BTW, make a new function for this.\n\nDone.","draft":false,"lineno":117,"date":"2013-07-24 22:38:19.270790","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> this isn't recursive, but it looks like it is not necessary:\n> http://developer.chrome.com/apps/declare_permissions.html\n> \n> Only \"socket\" and \"mediaGalleries\" are dicts, and they always have lists of\n> strings.\n\nWhoops, the comment was based on an earlier version of the code. I obviously don't need to do a true recursive merge, but I do need to merge the lists inside the dicts.\n","draft":false,"lineno":117,"date":"2013-07-24 22:38:19.271130","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> clearer to just iterate and continue:\n> \n> for permission in permssions:\n>   if not isinstance(permission, dict):\n>     continue\n>   ...\n> \n> EDIT: though in this case you want to handle the non-dict case too.\n\nDone.","draft":false,"lineno":118,"date":"2013-07-24 22:38:19.271460","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> If you depend on this, then assert\n\nDone.","draft":false,"lineno":119,"date":"2013-07-24 22:38:19.271780","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> If you depend on this, then assert\n\nDone.","draft":false,"lineno":119,"date":"2013-07-24 22:38:19.272090","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> why loop? just:\n> \n> all_permissions.get(k)\n> \n> and check that it is a dict\n\nI don't think this will work. I'm looking for a dict in all_permissions that contains k, not an element k in all_permissions that is a dict.","draft":false,"lineno":122,"date":"2013-07-24 22:38:19.272420","left":false},{"author":"torinmr","author_email":"torinmr@chromium.org","text":"On 2013/07/24 21:39:09, binji wrote:\n> why not just do this as part of the above loop:\n> \n> for permission in permissions:\n>   if isinstance(permission, dict):\n>     # dict handling...\n>   else:\n>     # list handling...\n\nDone.","draft":false,"lineno":130,"date":"2013-07-24 22:38:19.272730","left":false},{"author":"binji","author_email":"binji@chromium.org","text":"On 2013/07/24 22:38:19, torinmr wrote:\n> On 2013/07/24 21:39:09, binji wrote:\n> > why loop? just:\n> > \n> > all_permissions.get(k)\n> > \n> > and check that it is a dict\n> \n> I don't think this will work. I'm looking for a dict in all_permissions that\n> contains k, not an element k in all_permissions that is a dict.\n\nAh, I see.","draft":false,"lineno":122,"date":"2013-07-24 23:33:54.629080","left":false}],"id":11001,"is_binary":false},"native_client_sdk/src/examples/demo/nacl_io/example.dsc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":3,"messages":[],"id":11007,"is_binary":false}},"owner_email":"torinmr@chromium.org","owner":"torinmr","message":"Updated build_app.py to properly merge permissions.","try_job_results":[{"parent_name":null,"tests":["defaulttests"],"slave":"vm520-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_nacl_sdk/builds/867","timestamp":"2013-07-24 21:59:44.164793","builder":"win_nacl_sdk","clobber":false,"project":"Chromium Try Server","reason":"example#d3955fb","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUY8qysCQwLEghQYXRjaFNldBiRTgwLEgxUcnlKb2JSZXN1bHQY4V0M","requester":null,"buildnumber":"867","revision":"213441"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave272-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_nacl_sdk/builds/1044","timestamp":"2013-07-24 21:53:01.125186","builder":"linux_nacl_sdk","clobber":false,"project":"Chromium Try Server","reason":"example#d3955fb","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUY8qysCQwLEghQYXRjaFNldBiRTgwLEgxUcnlKb2JSZXN1bHQYsW0M","requester":null,"buildnumber":"1044","revision":"213441"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm607-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_nacl_sdk/builds/810","timestamp":"2013-07-24 21:41:53.406229","builder":"mac_nacl_sdk","clobber":false,"project":"Chromium Try Server","reason":"example#d3955fb","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUY8qysCQwLEghQYXRjaFNldBiRTgwLEgxUcnlKb2JSZXN1bHQYmXUM","requester":null,"buildnumber":"810","revision":"213441"}],"created":"2013-07-24 21:10:00.834300","url":null,"num_comments":16,"modified":"2013-07-24 23:33:54.700370","patchset":10001,"issue":19601010}