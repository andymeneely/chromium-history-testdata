{"description":"Textfield::GetBaseline() should return the actual baseline.\n\nThe actual baseline can be different from the one in the font list.  Should respect the actual value.\n\nTEST=none\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=217785","cc":["chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"reviewers":["msw@chromium.org","asvitkine@chromium.org","estade@chromium.org"],"messages":[{"sender":"yukishiino@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"Could you review this CL?","disapproval":false,"date":"2013-08-13 08:27:33.623700","approval":false},{"sender":"msw@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"LGTM. Can you think of a way to test this that would previously fail? Maybe set textfield text that will fallback to a non-font-list font with a different baseline?","disapproval":false,"date":"2013-08-13 08:32:43.310630","approval":true},{"sender":"asvitkine@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-08-13 13:22:00.541530","approval":true},{"sender":"yukishiino@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"Thanks for the review.  I've tried to add a unittest, but I only succeeded on GNU/Linux and Chrome OS.  It's tough job to implement it on Windows 8.  So I'd like to drop it on Windows.","disapproval":false,"date":"2013-08-14 09:36:01.530130","approval":false},{"sender":"msw@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"Thanks for adding a test, I just have a few comments there.\n\nhttps://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc\nFile ui/views/controls/textfield/native_textfield_views_unittest.cc (right):\n\nhttps://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1887\nui/views/controls/textfield/native_textfield_views_unittest.cc:1887: // This test fails on Win8 because two different text have the same baseline.\nSince this passes on the Win bot (Win7), can you only early return\nif (base::win::GetVersion() >= base::win::VERSION_WIN8)\n\nhttps://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1896\nui/views/controls/textfield/native_textfield_views_unittest.cc:1896: // \"=͟͟͞͞(๑•̀=͟͟͞͞(๑•̀д•́=͟͟͞͞(๑•̀д•́๑)=͟͟͞͞(๑•̀д•́\"\nI'm not sure you can/should actually include the chars directly in the file.\n\nhttps://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1897\nui/views/controls/textfield/native_textfield_views_unittest.cc:1897: \"\\x3D\\xCD\\x9E\\xCD\\x9F\\xCD\\x9F\\xCD\\x9E\\x28\\xE0\\xB9\\x91\\xE2\\x80\\xA2\\xCC\\x80\"\nShorten the test strings to only include each necessary character once.","disapproval":false,"date":"2013-08-14 15:00:58.770520","approval":false},{"sender":"yukishiino@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"https://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc\nFile ui/views/controls/textfield/native_textfield_views_unittest.cc (right):\n\nhttps://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1887\nui/views/controls/textfield/native_textfield_views_unittest.cc:1887: // This test fails on Win8 because two different text have the same baseline.\nOn 2013/08/14 15:00:58, msw wrote:\n> Since this passes on the Win bot (Win7), can you only early return\n> if (base::win::GetVersion() >= base::win::VERSION_WIN8)\n\nDone.\n\nhttps://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1896\nui/views/controls/textfield/native_textfield_views_unittest.cc:1896: // \"=͟͟͞͞(๑•̀=͟͟͞͞(๑•̀д•́=͟͟͞͞(๑•̀д•́๑)=͟͟͞͞(๑•̀д•́\"\nOn 2013/08/14 15:00:58, msw wrote:\n> I'm not sure you can/should actually include the chars directly in the file.\n\nDone.\n\nhttps://codereview.chromium.org/22843004/diff/32001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1897\nui/views/controls/textfield/native_textfield_views_unittest.cc:1897: \"\\x3D\\xCD\\x9E\\xCD\\x9F\\xCD\\x9F\\xCD\\x9E\\x28\\xE0\\xB9\\x91\\xE2\\x80\\xA2\\xCC\\x80\"\nOn 2013/08/14 15:00:58, msw wrote:\n> Shorten the test strings to only include each necessary character once.\n\nDone.","disapproval":false,"date":"2013-08-14 16:52:31.974630","approval":false},{"sender":"msw@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"LGTM; nice work!","disapproval":false,"date":"2013-08-14 17:03:56.545510","approval":true},{"sender":"commit-bot@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/yukishiino@chromium.org/22843004/40001","disapproval":false,"date":"2013-08-15 05:58:49.525040","approval":false},{"sender":"commit-bot@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"Change committed as 217785","disapproval":false,"date":"2013-08-15 11:38:11.438380","approval":false},{"sender":"estade@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","estade@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"https://chromiumcodereview.appspot.com/22843004/diff/40001/ui/views/controls/textfield/native_textfield_views_unittest.cc\nFile ui/views/controls/textfield/native_textfield_views_unittest.cc (right):\n\nhttps://chromiumcodereview.appspot.com/22843004/diff/40001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1893\nui/views/controls/textfield/native_textfield_views_unittest.cc:1893: if (base::win::GetVersion() >= base::win::VERSION_WIN8)\nseems to also be failing on win xp.\n\nhttp://build.chromium.org/p/chromium.win/builders/XP%20Tests%20%283%29/builds/23904","disapproval":false,"date":"2013-08-15 17:16:54.142380","approval":false},{"sender":"msw@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","estade@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"On 2013/08/15 17:16:54, Evan Stade wrote:\n> https://chromiumcodereview.appspot.com/22843004/diff/40001/ui/views/controls/textfield/native_textfield_views_unittest.cc\n> File ui/views/controls/textfield/native_textfield_views_unittest.cc (right):\n> \n> https://chromiumcodereview.appspot.com/22843004/diff/40001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1893\n> ui/views/controls/textfield/native_textfield_views_unittest.cc:1893: if\n> (base::win::GetVersion() >= base::win::VERSION_WIN8)\n> seems to also be failing on win xp.\n> \n> http://build.chromium.org/p/chromium.win/builders/XP%2520Tests%2520%25283%2529/builds/23904\n\nI'll fix that ASAP, CL coming.","disapproval":false,"date":"2013-08-15 17:18:53.699250","approval":false},{"sender":"msw@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","estade@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"On 2013/08/15 17:18:53, msw wrote:\n> On 2013/08/15 17:16:54, Evan Stade wrote:\n> >\n> https://chromiumcodereview.appspot.com/22843004/diff/40001/ui/views/controls/textfield/native_textfield_views_unittest.cc\n> > File ui/views/controls/textfield/native_textfield_views_unittest.cc (right):\n> > \n> >\n> https://chromiumcodereview.appspot.com/22843004/diff/40001/ui/views/controls/textfield/native_textfield_views_unittest.cc#newcode1893\n> > ui/views/controls/textfield/native_textfield_views_unittest.cc:1893: if\n> > (base::win::GetVersion() >= base::win::VERSION_WIN8)\n> > seems to also be failing on win xp.\n> > \n> >\n> http://build.chromium.org/p/chromium.win/builders/XP%252520Tests%252520%2525283%252529/builds/23904\n> \n> I'll fix that ASAP, CL coming.\n\nOh, you already disabled altogether on Win in http://crrev.com/217806","disapproval":false,"date":"2013-08-15 17:25:33.614730","approval":false},{"sender":"estade@chromium.org","recipients":["yukishiino@chromium.org","msw@chromium.org","asvitkine@chromium.org","estade@chromium.org","chromium-reviews@chromium.org","nona+watch@chromium.org","tfarina@chromium.org","suzhe@chromium.org","penghuang+watch@chromium.org","yusukes+watch@chromium.org","sadrul@chromium.org"],"text":"Indeed. If there's something better to do than disabling, by all means go ahead. I am just trying to keep the tree green.","disapproval":false,"date":"2013-08-15 17:28:32.498680","approval":false}],"owner_email":"yukishiino@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Yuki","subject":"Textfield::GetBaseline() should return the actual baseline.","created":"2013-08-13 08:25:52.600270","patchsets":[1,8001,11001,19001,32001,40001],"modified":"2013-08-15 17:28:33.183830","closed":true,"commit":false,"issue":22843004}