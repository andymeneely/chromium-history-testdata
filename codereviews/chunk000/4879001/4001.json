{"files":{"webkit/fileapi/sandboxed_file_system_operation.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":6,"messages":[],"id":2003,"is_binary":false},"webkit/tools/test_shell/test_webview_delegate.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":9,"messages":[],"id":2010,"is_binary":false},"webkit/support/webkit_support.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":12,"messages":[],"id":2004,"is_binary":false},"webkit/tools/test_shell/test_shell.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":7,"messages":[],"id":2009,"is_binary":false},"webkit/tools/test_shell/simple_file_system.cc":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":96,"num_removed":34,"messages":[{"author":"michaeln","author_email":"michaeln@chromium.org","text":"~SimpleFileSystemCallbackDispatcher() invokes RemoveOperation(), in that code path is operation_ ever holding a non-NULL ptr? Could that call in the dtor be changed to a DCHECK(!operation_.get())?","draft":false,"lineno":114,"date":"2010-11-13 00:16:42.555455","left":false},{"author":"kinuko","author_email":"kinuko@chromium.org","text":"On 2010/11/13 00:16:42, michaeln wrote:\n> ~SimpleFileSystemCallbackDispatcher() invokes RemoveOperation(), in that code\n> path is operation_ ever holding a non-NULL ptr? Could that call in the dtor be\n> changed to a DCHECK(!operation_.get())?\n\nSounds right.  It can be changed.  Btw I have another patch trying to cleanup Operation lifetime issues -- the patch tries to make Operation self-destructed.  If you have time can you also take a look at this one?  (It's not in a hurry)\nhttp://codereview.chromium.org/4821005/\n","draft":false,"lineno":114,"date":"2010-11-13 00:38:14.639164","left":false},{"author":"kinuko","author_email":"kinuko@chromium.org","text":"On 2010/11/13 00:16:42, michaeln wrote:\n> ~SimpleFileSystemCallbackDispatcher() invokes RemoveOperation(), in that code\n> path is operation_ ever holding a non-NULL ptr? Could that call in the dtor be\n> changed to a DCHECK(!operation_.get())?\n\nDone.","draft":false,"lineno":114,"date":"2010-11-19 20:44:38.984709","left":false}],"id":2006,"is_binary":false},"webkit/tools/test_shell/simple_file_system.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":23,"num_removed":8,"messages":[],"id":2007,"is_binary":false},"webkit/tools/layout_tests/test_expectations.txt":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":1,"messages":[],"id":2005,"is_binary":false},"webkit/fileapi/sandboxed_file_system_operation.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":13,"messages":[],"id":2002,"is_binary":false},"webkit/tools/test_shell/test_shell.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":6,"messages":[],"id":2008,"is_binary":false}},"owner_email":"kinuko@chromium.org","owner":"kinuko","message":"''","try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac&number=2142","timestamp":"2010-11-19 20:44:39.008975","builder":"mac","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUYmeWpAgwLEghQYXRjaFNldBihHwwLEgxUcnlKb2JSZXN1bHQY0YYDDA","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win&number=2513","timestamp":"2010-11-19 20:44:39.008975","builder":"win","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUYmeWpAgwLEghQYXRjaFNldBihHwwLEgxUcnlKb2JSZXN1bHQY0oYDDA","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux&number=2190","timestamp":"2010-11-19 20:44:39.008975","builder":"linux","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUYmeWpAgwLEghQYXRjaFNldBihHwwLEgxUcnlKb2JSZXN1bHQY04YDDA","requester":null,"buildnumber":null,"revision":null}],"created":"2010-11-12 08:10:22.698233","url":null,"num_comments":3,"modified":"2012-01-13 14:28:01.578548","patchset":4001,"issue":4879001}