{"files":{"content/browser/renderer_host/render_widget_host_view_mac.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":0,"messages":[],"id":4,"is_binary":false},"content/browser/renderer_host/render_widget_host_view_mac.mm":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":14,"num_removed":2,"messages":[],"id":5,"is_binary":false},"content/browser/renderer_host/compositing_iosurface_mac.mm":{"status":"M","num_chunks":21,"no_base_file":false,"property_changes":"","num_added":131,"num_removed":50,"messages":[{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"I have yet to find an instance where just skipping this logic results in incorrect rendering. Is there an example that I can try? I tried the scenarios listed in crbug.com/161603\n\nOf note is that if I take this branch inappropriately, there is incorrect rendering (and setting below/above dynamically before draw also results in incorrect rendering).","draft":false,"lineno":241,"date":"2013-03-26 20:52:43.137960","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"This needs to be a pointer because we have warnings to disallow at-exit dtors (having it as a pointer feels a bit hacky)","draft":false,"lineno":325,"date":"2013-03-26 20:52:43.138140","left":false},{"author":"Avi","author_email":"avi@chromium.org","text":"For tab web contents, we set this flag so that the find bar will display above web contents. For web contents used in things like extensions, we don't bother with this flag for sanity's sake.\n\nIf you want to verify this logic, type Command-F and make sure you can see the find bar. Without hole punching and this ordering stuff, the find bar won't be visible.","draft":false,"lineno":241,"date":"2013-03-26 20:59:39.888020","left":false},{"author":"Ken Russell","author_email":"kbr@chromium.org","text":"Did you run this in debug mode? Isn't the sense of this DCHECK reversed?","draft":false,"lineno":314,"date":"2013-03-28 00:55:00.086460","left":false},{"author":"Ken Russell","author_email":"kbr@chromium.org","text":"On 2013/03/26 20:52:43, ccameron1 wrote:\n> This needs to be a pointer because we have warnings to disallow at-exit dtors\n> (having it as a pointer feels a bit hacky)\n\nConsider using base's LazyInstance or Singleton for this; it looks like they will reduce the amount of error checking code throughout.","draft":false,"lineno":325,"date":"2013-03-28 00:55:00.086710","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"On 2013/03/28 00:55:00, kbr wrote:\n> Did you run this in debug mode? Isn't the sense of this DCHECK reversed?\n\nFixed (eek... that got flipped just after I uploaded...).","draft":false,"lineno":314,"date":"2013-03-28 19:16:15.261660","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"Thanks -- LazyInstance is what I needed here.","draft":false,"lineno":325,"date":"2013-03-28 19:16:15.261950","left":false}],"id":3,"is_binary":false},"content/browser/renderer_host/compositing_iosurface_mac.h":{"status":"M","num_chunks":7,"no_base_file":false,"property_changes":"","num_added":52,"num_removed":21,"messages":[{"author":"Ken Russell","author_email":"kbr@chromium.org","text":"The public fields here violate the style guide. http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml#Access_Control\n\nI realize this is only used internally so this isn't a big deal, but consider whether this should be a struct (would also violate the style guide since it isn't entirely a passive object).\n","draft":false,"lineno":220,"date":"2013-03-28 00:55:00.086240","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"Thanks -- I changed this to use accessors, and make the members private. It's more consistent that way.","draft":false,"lineno":220,"date":"2013-03-28 19:16:15.261340","left":false}],"id":2,"is_binary":false}},"owner_email":"ccameron@chromium.org","owner":"ccameron1","message":null,"try_job_results":[],"created":"2013-03-26 20:45:28.062070","url":null,"num_comments":9,"modified":"2013-03-28 19:16:15.298280","patchset":1,"issue":13097002}