{"files":{"content/browser/renderer_host/compositing_iosurface_context_mac.h":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":18,"num_removed":2,"messages":[{"author":"Yuri","author_email":"miu@chromium.org","text":"Use the SurfaceOrder enum as the type for |surface_order| here, and everywhere else in this patch.  FWICT, the only code that needs the -1 or +1 GLint value is CompositingIOSurfaceContext::Get() line 65, so just do the conversion there.\n","draft":false,"lineno":27,"date":"2013-04-01 21:37:37.931190","left":false},{"author":"Yuri","author_email":"miu@chromium.org","text":"Should return SurfaceOrder instead of GLint (see comment above).  Or, consider getting rid of this accessor if no code calls it.","draft":false,"lineno":36,"date":"2013-04-01 21:37:37.931500","left":false},{"author":"Yuri","author_email":"miu@chromium.org","text":"You should not in-line the window_map() function.  LazyInstance::Pointer() is a templated method, and therefore non-trivial code bloat could result everywhere you call window_map().\n","draft":false,"lineno":65,"date":"2013-04-01 21:37:37.931800","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"On 2013/04/01 21:37:37, Yuri wrote:\n> Use the SurfaceOrder enum as the type for |surface_order| here, and everywhere\n> else in this patch.  FWICT, the only code that needs the -1 or +1 GLint value is\n> CompositingIOSurfaceContext::Get() line 65, so just do the conversion there.\n\nDone (pulled it into the CL this is put on top of).","draft":false,"lineno":27,"date":"2013-04-01 23:55:49.802640","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"On 2013/04/01 21:37:37, Yuri wrote:\n> Should return SurfaceOrder instead of GLint (see comment above).  Or, consider\n> getting rid of this accessor if no code calls it.\n\nDone.","draft":false,"lineno":36,"date":"2013-04-01 23:55:49.802930","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"On 2013/04/01 21:37:37, Yuri wrote:\n> You should not in-line the window_map() function.  LazyInstance::Pointer() is a\n> templated method, and therefore non-trivial code bloat could result everywhere\n> you call window_map().\n\nDone.","draft":false,"lineno":65,"date":"2013-04-01 23:55:49.803200","left":false}],"id":24001,"is_binary":false},"content/browser/renderer_host/compositing_iosurface_mac.mm":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":33,"num_removed":3,"messages":[{"author":"Yuri","author_email":"miu@chromium.org","text":"Suggestion: I wouldn't bother adding this method since it is only called from one place.  Just do this (in SwitchToContextOnNewWindow()):\n\n  if (!copy_requests_.empty())\n    return;\n","draft":false,"lineno":840,"date":"2013-04-01 21:37:37.932100","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"On 2013/04/01 21:37:37, Yuri wrote:\n> Suggestion: I wouldn't bother adding this method since it is only called from\n> one place.  Just do this (in SwitchToContextOnNewWindow()):\n> \n>   if (!copy_requests_.empty())\n>     return;\n\nDone.","draft":false,"lineno":840,"date":"2013-04-01 23:55:49.803680","left":false}],"id":24004,"is_binary":false},"content/browser/renderer_host/compositing_iosurface_mac.h":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":11,"num_removed":3,"messages":[{"author":"Ken Russell","author_email":"kbr@chromium.org","text":"Does \"if possible\" mean that this should return a bool?\n","draft":false,"lineno":214,"date":"2013-04-01 20:18:07.722440","left":false},{"author":"ccameron1","author_email":"ccameron@chromium.org","text":"On 2013/04/01 20:18:07, kbr wrote:\n> Does \"if possible\" mean that this should return a bool?\n\nIf this decides not to move the context (or fails to), it just keeps using the old context, which can sometimes cause bad performance (setView stalling makes hitting 60fps hard, so it drops down to 30fps if there are multiple windows). But, because the return value isn't used, I'd prefer to keep it as void.","draft":false,"lineno":214,"date":"2013-04-01 23:55:49.803490","left":false}],"id":24003,"is_binary":false},"content/browser/renderer_host/render_widget_host_view_mac.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":0,"messages":[],"id":24005,"is_binary":false},"content/browser/renderer_host/render_widget_host_view_mac.mm":{"status":"M","num_chunks":6,"no_base_file":false,"property_changes":"","num_added":16,"num_removed":4,"messages":[],"id":24006,"is_binary":false},"content/browser/renderer_host/compositing_iosurface_context_mac.mm":{"status":"M","num_chunks":6,"no_base_file":false,"property_changes":"","num_added":40,"num_removed":7,"messages":[],"id":24002,"is_binary":false}},"owner_email":"ccameron@chromium.org","owner":"ccameron1","message":"Resolve against https://codereview.chromium.org/13363002/","try_job_results":[],"created":"2013-04-01 19:55:36.240260","url":null,"num_comments":10,"modified":"2013-04-01 23:55:49.838650","patchset":23001,"issue":13097002}