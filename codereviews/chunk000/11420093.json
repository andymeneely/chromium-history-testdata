{"description":"Double click on column separators to autofit contents\n\nTo prevent freezing UI contents of at most 1000 items around visible area is measured.\n\nBUG=138010\nTEST=Test autofit in File Manager and Tasks. In File Manager test performance on a few thousand files.\n\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=169022","cc":["chromium-reviews@chromium.org","arv@chromium.org"],"reviewers":["arv@chromium.org"],"messages":[{"sender":"serya@chromium.org","recipients":["serya@chromium.org","arv@chromium.org","chromium-reviews@chromium.org","arv@chromium.org"],"text":"","disapproval":false,"date":"2012-11-20 14:42:24.174920","approval":false},{"sender":"arv@chromium.org","recipients":["serya@chromium.org","arv@chromium.org","chromium-reviews@chromium.org","arv@chromium.org"],"text":"https://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js\nFile chrome/browser/resources/shared/js/cr/ui/table.js (right):\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js#newcode342\nchrome/browser/resources/shared/js/cr/ui/table.js:342: (items.last + items.first - MAXIMUM_ROWS_TO_MEASURE) / 2));\nuseless parentheses\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js#newcode353\nchrome/browser/resources/shared/js/cr/ui/table.js:353: var width = parseInt(doc.defaultView.getComputedStyle(container).width);\nparseFloat\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js#newcode353\nchrome/browser/resources/shared/js/cr/ui/table.js:353: var width = parseInt(doc.defaultView.getComputedStyle(container).width);\nI think you are fine with just getComputedStyle, no need for doc.defaultView.\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table/table_header.js\nFile chrome/browser/resources/shared/js/cr/ui/table/table_header.js (right):\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table/table_header.js#newcode120\nchrome/browser/resources/shared/js/cr/ui/table/table_header.js:120: this.handleDblClick_.bind(this, i));\nfix indentation","disapproval":false,"date":"2012-11-20 15:27:37.278160","approval":false},{"sender":"serya@chromium.org","recipients":["serya@chromium.org","arv@chromium.org","chromium-reviews@chromium.org","arv@chromium.org"],"text":"https://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js\nFile chrome/browser/resources/shared/js/cr/ui/table.js (right):\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js#newcode342\nchrome/browser/resources/shared/js/cr/ui/table.js:342: (items.last + items.first - MAXIMUM_ROWS_TO_MEASURE) / 2));\nOn 2012/11/20 15:27:37, arv wrote:\n> useless parentheses\n\nIt needed because division has higher priority than addition.\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js#newcode353\nchrome/browser/resources/shared/js/cr/ui/table.js:353: var width = parseInt(doc.defaultView.getComputedStyle(container).width);\nOn 2012/11/20 15:27:37, arv wrote:\n> parseFloat\n\nDone.\n\nhttps://codereview.chromium.org/11420093/diff/1/chrome/browser/resources/shared/js/cr/ui/table.js#newcode353\nchrome/browser/resources/shared/js/cr/ui/table.js:353: var width = parseInt(doc.defaultView.getComputedStyle(container).width);\nOn 2012/11/20 15:27:37, arv wrote:\n> I think you are fine with just getComputedStyle, no need for doc.defaultView.\n\nDone.","disapproval":false,"date":"2012-11-20 20:07:19.928220","approval":false},{"sender":"arv@chromium.org","recipients":["serya@chromium.org","arv@chromium.org","chromium-reviews@chromium.org","arv@chromium.org"],"text":"LGTM","disapproval":false,"date":"2012-11-20 20:15:54.678310","approval":true},{"sender":"commit-bot@chromium.org","recipients":["serya@chromium.org","arv@chromium.org","chromium-reviews@chromium.org","arv@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/serya@chromium.org/11420093/5001","disapproval":false,"date":"2012-11-21 09:32:43.302790","approval":false},{"sender":"commit-bot@chromium.org","recipients":["serya@chromium.org","arv@chromium.org","chromium-reviews@chromium.org","arv@chromium.org"],"text":"Change committed as 169022","disapproval":false,"date":"2012-11-21 12:33:37.412170","approval":false}],"owner_email":"serya@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"SeRya","subject":"Double click on column separators to autofit contents","created":"2012-11-20 14:40:39.290100","patchsets":[1,5001],"modified":"2012-11-21 12:33:37.504370","closed":true,"commit":false,"issue":11420093}