{"description":"[Sync] Add password support to sync api\n\nThis change modifies the password protobuf definition and the sync generic\nchange processor in order to support passwords custom encryption scheme.\n\nBUG=117445\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=210915","cc":["chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"reviewers":["tim@chromium.org"],"messages":[{"sender":"zea@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"PTAL","disapproval":false,"date":"2013-07-02 22:39:43.691180","approval":false},{"sender":"zea@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"On 2013/07/02 22:39:43, Nicolas Zea wrote:\n> PTAL\n\nping?","disapproval":false,"date":"2013-07-09 00:59:48.993390","approval":false},{"sender":"tim@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"https://codereview.chromium.org/18551007/diff/1/chrome/browser/sync/glue/generic_change_processor.cc\nFile chrome/browser/sync/glue/generic_change_processor.cc (right):\n\nhttps://codereview.chromium.org/18551007/diff/1/chrome/browser/sync/glue/generic_change_processor.cc#newcode50\nchrome/browser/sync/glue/generic_change_processor.cc:50: password_holder.mutable_password()->mutable_raw_data()->CopyFrom(\nDid you consider having a component (maybe part of GCP?) responsible for dealing with this legacy issue by keeping the unencrypted specifics in an in-memory \"lookaside\" buffer? It's awkward, but it's also awkward to have the need for a workaround at the glue layer travel all the way over the wire to the server...\n\nhttps://codereview.chromium.org/18551007/diff/1/sync/protocol/password_specifics.proto\nFile sync/protocol/password_specifics.proto (right):\n\nhttps://codereview.chromium.org/18551007/diff/1/sync/protocol/password_specifics.proto#newcode43\nsync/protocol/password_specifics.proto:43: optional PasswordSpecificsData raw_data = 2;\nAt the very least, we should call this something like client_only_unencrypted_data","disapproval":false,"date":"2013-07-09 20:09:00.737730","approval":false},{"sender":"zea@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"Done, PTAL\n\nhttps://codereview.chromium.org/18551007/diff/1/chrome/browser/sync/glue/generic_change_processor.cc\nFile chrome/browser/sync/glue/generic_change_processor.cc (right):\n\nhttps://codereview.chromium.org/18551007/diff/1/chrome/browser/sync/glue/generic_change_processor.cc#newcode50\nchrome/browser/sync/glue/generic_change_processor.cc:50: password_holder.mutable_password()->mutable_raw_data()->CopyFrom(\nOn 2013/07/09 20:09:00, timsteele wrote:\n> Did you consider having a component (maybe part of GCP?) responsible for dealing\n> with this legacy issue by keeping the unencrypted specifics in an in-memory\n> \"lookaside\" buffer? It's awkward, but it's also awkward to have the need for a\n> workaround at the glue layer travel all the way over the wire to the server...\n\nDiscussed offline. Any approach that doesn't modify the EntitySpecifics breaks the API abstraction, which has serious drawbacks. Instead, I've opted to add some more CHECK's to be extra safe.\n\nhttps://codereview.chromium.org/18551007/diff/1/sync/protocol/password_specifics.proto\nFile sync/protocol/password_specifics.proto (right):\n\nhttps://codereview.chromium.org/18551007/diff/1/sync/protocol/password_specifics.proto#newcode43\nsync/protocol/password_specifics.proto:43: optional PasswordSpecificsData raw_data = 2;\nOn 2013/07/09 20:09:00, timsteele wrote:\n> At the very least, we should call this something like\n> client_only_unencrypted_data\n\nDone.","disapproval":false,"date":"2013-07-09 21:13:09.723810","approval":false},{"sender":"tim@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-07-10 16:41:31.796350","approval":true},{"sender":"commit-bot@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/zea@chromium.org/18551007/13001","disapproval":false,"date":"2013-07-10 17:23:00.228820","approval":false},{"sender":"commit-bot@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"Retried try job too often on linux_chromeos for step(s) content_browsertests\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_chromeos&number=133901","disapproval":false,"date":"2013-07-10 19:15:08.346770","approval":false},{"sender":"commit-bot@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/zea@chromium.org/18551007/13001","disapproval":false,"date":"2013-07-10 19:17:04.673640","approval":false},{"sender":"commit-bot@chromium.org","recipients":["zea@chromium.org","tim@chromium.org","chromium-reviews@chromium.org","tim+watch@chromium.org","rsimha+watch@chromium.org","haitaol+watch@chromium.org","albertb+watch@chromium.org"],"text":"Change committed as 210915","disapproval":false,"date":"2013-07-10 19:47:44.047860","approval":false}],"owner_email":"zea@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Nicolas Zea","subject":"[Sync] Add password support to sync api","created":"2013-07-02 22:37:35.279350","patchsets":[1,7001,13001],"modified":"2013-07-10 19:47:44.175670","closed":true,"commit":false,"issue":18551007}