{"description":"[NaCl SDK] Some improvements to the PNaCl Bullet demo.\n\n* Uses similar layout to pnacl-earth-demo\n* Shares CSS in /static/common.css\n* Automatically loads the 20 block tower.\n\nBUG=none\nR=jvoung@chromium.org, sbc@chromium.org, eliben@chromium.org\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=227389","cc":["chromium-reviews@chromium.org","sbc@chromium.org"],"reviewers":["eliben@chromium.org","sbc@chromium.org","jvoung@chromium.org"],"messages":[{"sender":"binji@chromium.org","recipients":["binji@chromium.org","eliben@chromium.org","sbc@chromium.org","chromium-reviews@chromium.org","binji@chromium.org","sbc@chromium.org"],"text":"","disapproval":false,"date":"2013-10-07 19:35:14.287590","approval":false},{"sender":"sbc@chromium.org","recipients":["binji@chromium.org","eliben@chromium.org","sbc@chromium.org","jvoung@chromium.org","chromium-reviews@chromium.org","binji@chromium.org","sbc@chromium.org"],"text":"lgtm\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js (right):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js#newcode39\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js:39: // document.getElementById('simulationTime').innerHTML = '<p>Simulation time: ' + simTime + ' microseconds</p>';\nIs this sometimes useful?\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js (right):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js#newcode5\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js:5: NaClAMModule = null;\nWhat is AM?   Maybe we should rename it?\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js#newcode28\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js:28: console.log('loaded in ' + getLastLoadTime());\nRemove?\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js (right):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js#newcode243\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js:243: */\nremove?","disapproval":false,"date":"2013-10-07 20:12:13.054980","approval":true},{"sender":"jvoung@chromium.org","recipients":["binji@chromium.org","eliben@chromium.org","sbc@chromium.org","jvoung@chromium.org","chromium-reviews@chromium.org","binji@chromium.org","sbc@chromium.org"],"text":"lgtm\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js (left):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js#oldcode289\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js:289: window.addEventListener('resize', onWindowResize, false );\nHmm I saw some really weird behavior with resize events when embedded within an iframe and using the \"flex\" stuff.  The height would just grow every second or something.  Is that what the change to polling is for?\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js (right):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js#newcode198\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js:198: controls = new THREE.TrackballControls( camera );\ncould remove the commented-out TrackballControls","disapproval":false,"date":"2013-10-07 20:33:49.757780","approval":true},{"sender":"binji@chromium.org","recipients":["binji@chromium.org","eliben@chromium.org","sbc@chromium.org","jvoung@chromium.org","chromium-reviews@chromium.org","binji@chromium.org","sbc@chromium.org"],"text":"I've also made the progress bar work, and faded in the graphics when the module loads.\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js (right):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js#newcode39\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/NaClAMBullet.js:39: // document.getElementById('simulationTime').innerHTML = '<p>Simulation time: ' + simTime + ' microseconds</p>';\nOn 2013/10/07 20:12:13, Sam Clegg wrote:\n> Is this sometimes useful?\n\nYes, I guess so. I've added it back in.\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js (right):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js#newcode5\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js:5: NaClAMModule = null;\nOn 2013/10/07 20:12:13, Sam Clegg wrote:\n> What is AM?   Maybe we should rename it?\n\nAcceleration Module. This variable isn't used however, so I've removed it.\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js#newcode28\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/main.js:28: console.log('loaded in ' + getLastLoadTime());\nOn 2013/10/07 20:12:13, Sam Clegg wrote:\n> Remove?\n\nDone.\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js (left):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js#oldcode289\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js:289: window.addEventListener('resize', onWindowResize, false );\nOn 2013/10/07 20:33:51, jvoung (cr) wrote:\n> Hmm I saw some really weird behavior with resize events when embedded within an\n> iframe and using the \"flex\" stuff.  The height would just grow every second or\n> something.  Is that what the change to polling is for?\n\nNo, it's so I can resize the THREE.js canvas. AFAICT, there is no way to get an event when an element is resized.\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js\nFile native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js (right):\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js#newcode198\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js:198: controls = new THREE.TrackballControls( camera );\nOn 2013/10/07 20:33:51, jvoung (cr) wrote:\n> could remove the commented-out TrackballControls\n\nDone.\n\nhttps://codereview.chromium.org/26176009/diff/1/native_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js#newcode243\nnative_client_sdk/src/gonacl_appengine/static/pnacl-demo-bullet/scene.js:243: */\nOn 2013/10/07 20:12:13, Sam Clegg wrote:\n> remove?\n\nDone.","disapproval":false,"date":"2013-10-07 22:47:05.767860","approval":false},{"sender":"binji@chromium.org","recipients":["binji@chromium.org","eliben@chromium.org","sbc@chromium.org","jvoung@chromium.org","chromium-reviews@chromium.org","sbc@chromium.org"],"text":"Committed patchset #3 manually as r227389 (presubmit successful).","disapproval":false,"date":"2013-10-07 23:44:06.761120","approval":false}],"owner_email":"binji@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"binji","subject":"[NaCl SDK] Some improvements to the PNaCl Bullet demo.","created":"2013-10-07 19:34:38.788910","patchsets":[1,8001,11001],"modified":"2013-10-07 23:44:06.965890","closed":true,"commit":false,"issue":26176009}