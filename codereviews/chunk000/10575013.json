{"description":"Don't look in the locale pak files when trying to load a raw resource.\n\nIn other words, the locale pak files shouldn't contain html, css, images\nor other binary data values.\n\nBUG=None\n\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=143212","cc":["chromium-reviews@chromium.org","scr@chromium.org","joaodasilva@chromium.org"],"reviewers":["flackr@chromium.org","sail@chromium.org"],"messages":[{"sender":"tony@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org"],"text":"sail, it looks like you added the locale data packs check in http://codereview.chromium.org/10051012.  I'm pretty sure we don't need that check.\n\nscr: FYI. I won't land this until after we've verified that the ASAN race is gone.","disapproval":false,"date":"2012-06-19 17:58:40.359253","approval":false},{"sender":"flackr@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org"],"text":"As far as I know this should always be okay, lgtm.","disapproval":false,"date":"2012-06-20 02:02:31.805774","approval":true},{"sender":"scr@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org"],"text":"On 2012/06/19 17:58:40, tony wrote:\n> sail, it looks like you added the locale data packs check in\n> http://codereview.chromium.org/10051012.  I'm pretty sure we don't need that\n> check.\n> \n> scr: FYI. I won't land this until after we've verified that the ASAN race is\n> gone.\n\nWith this change should we roll back all of the IO thread stuff?","disapproval":false,"date":"2012-06-20 02:13:39.050908","approval":false},{"sender":"tony@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org","joaodasilva@chromium.org"],"text":"On 2012/06/20 02:13:39, Sheridan Rawlins wrote:\n> On 2012/06/19 17:58:40, tony wrote:\n> > sail, it looks like you added the locale data packs check in\n> > http://codereview.chromium.org/10051012.  I'm pretty sure we don't need that\n> > check.\n> > \n> > scr: FYI. I won't land this until after we've verified that the ASAN race is\n> > gone.\n> \n> With this change should we roll back all of the IO thread stuff?\n\nOh, since the locale_resources_data_lock_ will protect locale_resources_data_? Hmm, maybe. I think the changes to bidi_checker_web_ui_test.cc are good to have because it makes sure we flush the message loops before calling ReloadLocaleResources.\n\nsail: I'm going to check this in, but if you remember why this was added, feel free to comment and I'm happy to revert.","disapproval":false,"date":"2012-06-20 16:56:04.445672","approval":false},{"sender":"commit-bot@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org","joaodasilva@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/tony@chromium.org/10575013/10001","disapproval":false,"date":"2012-06-20 16:57:26.200834","approval":false},{"sender":"commit-bot@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org","joaodasilva@chromium.org"],"text":"Change committed as 143212","disapproval":false,"date":"2012-06-20 18:34:27.519768","approval":false},{"sender":"estade@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org","joaodasilva@chromium.org"],"text":"On 2012/06/20 18:34:27, I haz the power (commit-bot) wrote:\n> Change committed as 143212\n\nwhen you say that locale pak files shouldn't contain html, does that mean that IDS_CERT_ERROR_COMMON_NAME_INVALID_DETAILS in generated_resources.grd is not ok?","disapproval":false,"date":"2012-06-20 21:15:24.802740","approval":false},{"sender":"tony@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org","joaodasilva@chromium.org"],"text":"On 2012/06/20 21:15:24, Evan Stade wrote:\n> On 2012/06/20 18:34:27, I haz the power (commit-bot) wrote:\n> > Change committed as 143212\n> \n> when you say that locale pak files shouldn't contain html, does that mean that\n> IDS_CERT_ERROR_COMMON_NAME_INVALID_DETAILS in generated_resources.grd is not ok?\n\nNo, that's fine.  You still use l10n_util::GetString* to get the value.  I mean we shouldn't be putting things in generated_resources.grd then using ResourceBundle::* to get the data.","disapproval":false,"date":"2012-06-20 21:18:59.095657","approval":false},{"sender":"tony@chromium.org","recipients":["tony@chromium.org","flackr@chromium.org","sail@chromium.org","chromium-reviews@chromium.org","scr@chromium.org","joaodasilva@chromium.org"],"text":"On 2012/06/20 21:18:59, tony wrote:\n> On 2012/06/20 21:15:24, Evan Stade wrote:\n> > On 2012/06/20 18:34:27, I haz the power (commit-bot) wrote:\n> > > Change committed as 143212\n> > \n> > when you say that locale pak files shouldn't contain html, does that mean that\n> > IDS_CERT_ERROR_COMMON_NAME_INVALID_DETAILS in generated_resources.grd is not\n> ok?\n> \n> No, that's fine.  You still use l10n_util::GetString* to get the value.  I mean\n> we shouldn't be putting things in generated_resources.grd then using\n> ResourceBundle::* to get the data.\n\nHmm, I might have broken IDR_TERMS_HTML.","disapproval":false,"date":"2012-06-20 21:26:57.400336","approval":false}],"owner_email":"tony@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"tony","subject":"Don't look in the locale pak files when trying to load a raw resource.","created":"2012-06-18 23:55:46.041472","patchsets":[1,10001],"modified":"2012-06-20 21:26:57.589219","closed":true,"commit":false,"issue":10575013}