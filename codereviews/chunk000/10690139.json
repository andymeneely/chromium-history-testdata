{"description":"Don't create external extension providers for a TestExtensionSystem.\n\nOtherwise, we might pick up external extensions during unit tests, which Breaks Stuff(tm).\n\nBUG=136596\nTEST=see bug for manual test\n\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=146130","cc":["chromium-reviews@chromium.org","aa@chromium.org","mihaip-chromium-reviews@chromium.org"],"reviewers":["yoz@chromium.org"],"messages":[{"sender":"bauerb@chromium.org","recipients":["bauerb@chromium.org","yoz@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","mihaip-chromium-reviews@chromium.org"],"text":"Please review.","disapproval":false,"date":"2012-07-11 15:39:25.747980","approval":false},{"sender":"yoz@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"LGTM, I've run into that problem before.\r\n\r\nOn Wed, Jul 11, 2012 at 8:39 AM,  <bauerb@chromium.org> wrote:\r\n> Reviewers: Yoyo Zhou,\r\n>\r\n> Message:\r\n> Please review.\r\n>\r\n> Description:\r\n> Don't create external extension providers for a TestExtensionSystem.\r\n>\r\n> Otherwise, we might pick up external extensions during unit tests, which\r\n> Breaks\r\n> Stuff(tm).\r\n>\r\n> BUG=136596\r\n> TEST=see bug for manual test\r\n>\r\n>\r\n> Please review this at https://chromiumcodereview.appspot.com/10690139/\r\n>\r\n> SVN Base: svn://svn.chromium.org/chrome/trunk/src\r\n>\r\n> Affected files:\r\n>   M chrome/browser/extensions/test_extension_system.cc\r\n>\r\n>\r\n> Index: chrome/browser/extensions/test_extension_system.cc\r\n> diff --git a/chrome/browser/extensions/test_extension_system.cc\r\n> b/chrome/browser/extensions/test_extension_system.cc\r\n> index\r\n> 94093204ec75edd15738f66c8a9b0db694baa641..a129702985e3387cd066da0eeef3d88ad2f51657\r\n> 100644\r\n> --- a/chrome/browser/extensions/test_extension_system.cc\r\n> +++ b/chrome/browser/extensions/test_extension_system.cc\r\n> @@ -68,6 +68,7 @@ ExtensionService*\r\n> TestExtensionSystem::CreateExtensionService(\r\n>                                                  extension_prefs_.get(),\r\n>                                                  autoupdate_enabled,\r\n>                                                  true));\r\n> +  extension_service_->ClearProvidersForTesting();\r\n>    return extension_service_.get();\r\n>  }\r\n>\r\n>\r\n>\r\n","disapproval":false,"date":"2012-07-11 15:44:31.922360","approval":true},{"sender":"commit-bot@chromium.org","recipients":["bauerb@chromium.org","yoz@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","mihaip-chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/bauerb@chromium.org/10690139/1","disapproval":false,"date":"2012-07-11 15:46:05.512810","approval":false},{"sender":"commit-bot@chromium.org","recipients":["bauerb@chromium.org","yoz@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","mihaip-chromium-reviews@chromium.org"],"text":"Change committed as 146130","disapproval":false,"date":"2012-07-11 16:53:00.744370","approval":false}],"owner_email":"bauerb@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Bernhard Bauer","subject":"Don't create external extension providers for a TestExtensionSystem.","created":"2012-07-11 15:37:12.511340","patchsets":[1],"modified":"2012-07-11 16:53:00.823080","closed":true,"commit":false,"issue":10690139}