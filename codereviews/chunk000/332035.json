{"description":"linux: add -fvisibility=hidden to build flags\n\nWe use this on OS X, so it shouldn't be harmful and it will fix a visibility\nissue that came up in\n  http://groups.google.com/group/chromium-dev/browse_thread/thread/800bda968bdc8f29\n\nBUG=17943\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=30253","cc":["chromium-reviews@googlegroups.com"],"reviewers":["piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org"],"messages":[{"sender":"evan@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/332035/diff/1001/1003\nFile webkit/glue/plugins/test/npapi_test.cc (right):\n\nhttp://codereview.chromium.org/332035/diff/1001/1003#newcode56\nLine 56: #endif\nNote that this is kinda premature, since this code doesn't yet run on Linux, but it can't hurt to set the stage.","disapproval":false,"date":"2009-10-27 18:21:42.393515","approval":false},{"sender":"gspencer@google.com","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","chromium-reviews@googlegroups.com"],"text":"LGTM","disapproval":false,"date":"2009-10-27 18:25:48.481810","approval":true},{"sender":"evan@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","chromium-reviews@googlegroups.com"],"text":"Will this break the o3d build?  How should/can I test?","disapproval":false,"date":"2009-10-27 18:27:52.600835","approval":false},{"sender":"gspencer@google.com","recipients":[],"text":"AFAICT, this will not break the O3D build -- we don't build webkit, and our\ncommon.gypi already has the hidden flag set, so no flags should change for\nus.  If you'd like to test, you'll have to create an O3D client and patch in\nyour change and build using GYP, but I don't think it's likely to break\nanything.\n\n-Greg.\n\nOn Tue, Oct 27, 2009 at 11:27 AM, <evan@chromium.org> wrote:\n\n> Will this break the o3d build?  How should/can I test?\n>\n>\n> http://codereview.chromium.org/332035\n>\n","disapproval":false,"date":"2009-10-27 18:35:29.652034","approval":false},{"sender":"mark@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","chromium-reviews@googlegroups.com"],"text":"LGTM very much.  We've been using this on the Mac for a really long time.\n\nOn Linux, this might even reduce load (ld.so) time.\n\nhttp://codereview.chromium.org/332035/diff/1001/1003\nFile webkit/glue/plugins/test/npapi_test.cc (right):\n\nhttp://codereview.chromium.org/332035/diff/1001/1003#newcode52\nLine 52: #if defined(OS_LINUX)\nCan you make this || defined(OS_MACOSX) too?\n\nhttp://codereview.chromium.org/332035/diff/1001/1004\nFile webkit/tools/npapi_layout_test_plugin/main.cpp (right):\n\nhttp://codereview.chromium.org/332035/diff/1001/1004#newcode42\nLine 42: #elif defined(__linux)\nSame.","disapproval":false,"date":"2009-10-27 18:39:39.088346","approval":true},{"sender":"evan@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org","chromium-reviews@googlegroups.com"],"text":"Hm, since you've been using this on OS X, how has the layout test plugin been working?\n\nMaybe I should just make it conditional on GCC?","disapproval":false,"date":"2009-10-27 18:40:48.908746","approval":false},{"sender":"mark@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org","chromium-reviews@googlegroups.com"],"text":"I don't think we're doing the plugin tests on the Mac yet.","disapproval":false,"date":"2009-10-27 18:46:16.080147","approval":false},{"sender":"evan@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org","chromium-reviews@googlegroups.com"],"text":"Please re-review, had to rejigger it to make it compile on Windows.","disapproval":false,"date":"2009-10-27 19:26:50.422367","approval":false},{"sender":"piman@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org","chromium-reviews@googlegroups.com"],"text":"LGTM. Thanks a lot for doing this !","disapproval":false,"date":"2009-10-27 19:40:42.377809","approval":true},{"sender":"piman@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org","chromium-reviews@googlegroups.com"],"text":"Actually, I think this may break the shared library build. Maybe you want to make that flag conditional ?","disapproval":false,"date":"2009-10-27 19:51:07.746028","approval":false},{"sender":"evan@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org","chromium-reviews@googlegroups.com"],"text":"updated with fix for shared; verified by re-gypping and seeing the flag go away","disapproval":false,"date":"2009-10-27 21:01:23.147709","approval":false},{"sender":"piman@chromium.org","recipients":["evan@chromium.org","piman@chromium.org","gspencer@google.com","mark@chromium.org","amanda@chromium.org","chromium-reviews@googlegroups.com"],"text":"LGTM","disapproval":false,"date":"2009-10-27 21:06:44.422724","approval":true}],"owner_email":"evan@chromium.org","private":false,"base_url":"","owner":"Evan Martin","subject":"linux: add -fvisibility=hidden to build flags","created":"2009-10-26 21:33:27.158282","patchsets":[1,1001,7003,9001],"modified":"2011-05-24 20:17:06.233042","closed":true,"commit":false,"issue":332035}