{"description":"Add JSON.pm to third_party\n\nWe're using JSON as an exchange format both:\n1. To make the existing Perl more modular\n   (so we can connect the parser and code generator via intermediate files),\n2. To ease porting to Python, so we can connect existing Perl scripts\n   to new Python scripts.\n\nThis is build-only: the module is used during the build, but not included\nin the distributed binary, and thus should not pose licensing problems.\n\nSource: http://www.cpan.org/authors/id/M/MA/MAKAMAKA/JSON-2.59.tar.gz\nSHA-1: 8a82c442088ffa0d605747fd5e65f51e037aad94\n\nLicense is same as Perl, meaning GPL v1+ or Artistic license:\nhttp://search.cpan.org/~makamaka/JSON-2.58/lib/JSON.pm#COPYRIGHT_AND_LICENSE\nhttp://dev.perl.org/licenses/\n\nBUG=239771\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=205057\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=205157","cc":["chromium-reviews@chromium.org","kojih@chromium.org"],"reviewers":["haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org"],"messages":[{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Hi haraken,\nHere's the JSON Perl Module!\n(Adam: per description, this is part of modularization for porting bindings generator to Python)\nI haven't added a third_party module before, so I'm not sure of detailed procedure; hope this is ok.","disapproval":false,"date":"2013-06-03 02:15:13.710570","approval":false},{"sender":"abarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"I'd prefer to avoid creating a third_party directory if at all possible.  Is there some other way of solving this problem?","disapproval":false,"date":"2013-06-03 02:50:49.603420","approval":false},{"sender":"abarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Oh, this is in the Chromium repo.  Please ignore me.  :)","disapproval":false,"date":"2013-06-03 02:51:10.734160","approval":false},{"sender":"haraken@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"LGTM.\n\nWe discussed offline. We're planning to connect the IDL parser and the code generator via a JSON file, where JSON.pm is needed. We will remove JSON.pm once we completely replace the Perl scripts with Python.\n\nYou need to get LGTM from an OWNER.","disapproval":false,"date":"2013-06-03 06:41:25.005020","approval":true},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Hi Brett, Carlos, and Darin,\n\nWe're adding a Perl module to third_party, so we need your approval.\nThis is a temporary addition, while we port the bindings generator from Perl to Python, using JSON as an interchange format.\n\nI think license is ok -- the code is used only in the build, the module is GPL v1+, and I've included the source, together with a README.chromium.\n\nIf there's anything I should do or any concerns, please advise!","disapproval":false,"date":"2013-06-03 07:05:39.934020","approval":false},{"sender":"darin@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"There's a new convention brewing to have owners listed for each third party module.  Please add a third_party/JSON/OWNERS file with you in it, so that we can keep track of who is responsible for this module.  Thanks!\n\nhttps://codereview.chromium.org/15736030/diff/1/third_party/JSON/README.chromium\nFile third_party/JSON/README.chromium (right):\n\nhttps://codereview.chromium.org/15736030/diff/1/third_party/JSON/README.chromium#newcode12\nthird_party/JSON/README.chromium:12: This module is used in Blink, as part of the bindings generator\nComments like this can get stale quickly.  Plus if someone is interested in why this code was added they can always have a look at this CL.","disapproval":false,"date":"2013-06-03 16:59:09.051910","approval":false},{"sender":"cpu@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"what Darin said.\n\nAlso stills need approval from the license person, I think it can be via email, is that Chris DiBona?","disapproval":false,"date":"2013-06-03 19:46:28.414290","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/03 16:59:09, darin wrote:\n> There's a new convention brewing to have owners listed for each third party\n> module.  Please add a third_party/JSON/OWNERS file with you in it, so that we\n> can keep track of who is responsible for this module.  Thanks!\n\nDone. OSPO specifies at least two full-time employees, so I've added haraken as well.\n\n> https://codereview.chromium.org/15736030/diff/1/third_party/JSON/README.chromium#newcode12\n> third_party/JSON/README.chromium:12: This module is used in Blink, as part of\n> the bindings generator\n> Comments like this can get stale quickly.  Plus if someone is interested in why\n> this code was added they can always have a look at this CL.\n\nGot it -- removed, and instead rewritten README.chromium to be clearer.\n(We're only planning on having this library for a few weeks, but point taken.)","disapproval":false,"date":"2013-06-04 02:27:02.151020","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/03 19:46:28, cpu wrote:\n> Also stills need approval from the license person, I think it can be via email,\n> is that Chris DiBona?\n\nThanks, got it!\nSent mail to Chris and OSPO folk, CC'ing you, Carlos.","disapproval":false,"date":"2013-06-04 02:27:38.771090","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Daniel Berlin advised regarding proper procedure, adding as OSPO reviewer.\n\nFor reference, procedure is at \"Adding third_party Libraries\":\nhttp://www.chromium.org/developers/adding-3rd-party-libraries\n\nAlso patch to\ntools/checklicenses/checklicenses.py\nto handle missing license headers in code (and in pylint, which was also barfing).","disapproval":false,"date":"2013-06-04 03:43:25.230060","approval":false},{"sender":"darin@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"LGTM","disapproval":false,"date":"2013-06-04 03:47:52.153090","approval":true},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Hi Daniel,\n\nAdding you as reviewer and updated patch to handle update checklicenses.py (handle missing license headers);\n(also fixes pylint license failures, which were also present).\nDoes it look ok?\n\nAs I understand, I need approval from:\n1. OSPO (eg: Daniel)\n2. OWNERS (eg: darin, cpu)\n3. security\n\nThanks!\nNils","disapproval":false,"date":"2013-06-04 03:50:57.051670","approval":false},{"sender":"jln@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Hey,\n\nsince this is for building only, I don't think we (security) will want to review it.\n\nWe would just like to make sure it's not actively malicious.\n\nFor ease of tracking, could you do / document (including in commit message) the following?\n\n- Mention the original source more specifically and give a hash of the source (If it's git: git hash of check-ed-out revision)\n- Retrieve the code as securely as you can (check GPG signatures if any, using https if available)","disapproval":false,"date":"2013-06-04 04:43:23.137970","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/04 04:43:23, Julien Tinnes wrote:\n> since this is for building only, I don't think we (security) will want to review\n> it.\n\nThanks Julien!\n\nI'll do the steps below now.\n\n> For ease of tracking, could you do / document (including in commit message) the\n> following?\n> \n> - Mention the original source more specifically and give a hash of the source\n> (If it's git: git hash of check-ed-out revision)\n> - Retrieve the code as securely as you can (check GPG signatures if any, using\n> https if available)","disapproval":false,"date":"2013-06-04 05:02:14.615000","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Hi Julien,\n\nI've added source information, SHA-1 hash, and security checks;\nlook ok to you?\n\n> For ease of tracking, could you do / document (including in commit message) the\n> following?\n>\n> - Mention the original source more specifically and give a hash of the source\n> (If it's git: git hash of check-ed-out revision)\n\nI've listed source URL and SHA-1 hash of contents in the CL description,\nand in README.chromium:\nhttps://codereview.chromium.org/15736030/diff/54001/third_party/JSON/README.chromium\n\nSource: http://www.cpan.org/authors/id/M/MA/MAKAMAKA/JSON-2.58.tar.gz\nSHA-1: d278466392e544385029dcf61267a019a36535e7\n\n> - Retrieve the code as securely as you can (check GPG signatures if any, using\n> https if available)\n\nPackage is from CPAN, which does not support https or GPG;\nthere's no mention of either in the FAQ:\nhttp://www.cpan.org/misc/cpan-faq.html\n\nI've added a file containing the SHA-1 hash and added a check to the\n\"retrieve and build\" file at:\nget_and_build_json_pm.sh\nhttps://codereview.chromium.org/15736030/diff/54001/third_party/JSON/get_and_build_json_pm.sh","disapproval":false,"date":"2013-06-04 05:53:41.436610","approval":false},{"sender":"dannyb@google.com","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-06-04 06:09:28.545740","approval":true},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/nbarth@chromium.org/15736030/54001","disapproval":false,"date":"2013-06-05 02:23:28.150540","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Retried try job too often on chromium_presubmit for step(s) presubmit\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=chromium_presubmit&number=6818","disapproval":false,"date":"2013-06-05 02:35:31.403670","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Hi Paweł and Lei,\n\nI need an OWNERS approval due to change in checklicenses.py\nI've added whitelists for the JSON.pm model I'm adding here,\ntogether with pylint (existing failure).\nThese are both build-time only (not included in build), hence GPL ok.\n\nThis makes checklicenses.py pass, in compliance with:\nhttp://www.chromium.org/developers/adding-3rd-party-libraries\n\nJSON.pm has license information at the *bottom* of the file;\nthis is common in Perl modules on CPAN.\n\nThanks!\n\nBest,\nNils","disapproval":false,"date":"2013-06-05 02:48:06.301240","approval":false},{"sender":"phajdan.jr@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"NAK in current shape.\n\nI can help with the necessary modification, but the suppression list you're modifying is not intended for new code - it was used to suppress all the existing problems.\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py\nFile tools/checklicenses/checklicenses.py (right):\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode242\ntools/checklicenses/checklicenses.py:242: 'UNKNOWN',\nNew files should have this resolved. The file has a license header - so we should make licensecheck.pl recognize it.\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode387\ntools/checklicenses/checklicenses.py:387: 'third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled': [\nWhy is it here? I don't see this patch having anything to do with that directory.","disapproval":false,"date":"2013-06-05 03:04:23.260360","approval":false},{"sender":"thestig@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"https://codereview.chromium.org/15736030/diff/54001/tools/checklicenses/checklicenses.py\nFile tools/checklicenses/checklicenses.py (right):\n\nhttps://codereview.chromium.org/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode242\ntools/checklicenses/checklicenses.py:242: 'UNKNOWN',\nOn 2013/06/05 03:04:23, Paweł Hajdan Jr. wrote:\n> New files should have this resolved. The file has a license header - so we\n> should make licensecheck.pl recognize it.\n\nNot all files being checked in have the license though.","disapproval":false,"date":"2013-06-05 03:08:57.645920","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/05 03:04:23, Paweł Hajdan Jr. wrote:\n> I can help with the necessary modification, but the suppression list you're\n> modifying is not intended for new code - it was used to suppress all the\n> existing problems.\n\nGot it.\n\n> https://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode242\n> tools/checklicenses/checklicenses.py:242: 'UNKNOWN',\n> New files should have this resolved. The file has a license header - so we\n> should make licensecheck.pl recognize it.\n\nThe Perl modules have the license at the *bottom*, in POD format.\n\nThese are generally:\n\n=head1 COPYRIGHT AND LICENSE\n\nCopyright 2007-2012 by Makamaka Hannyaharamitu\n\nThis library is free software; you can redistribute it and/or modify\nit under the same terms as Perl itself. \n\n=cut\n\n\nThere's already a check for\n/This library is free software; you can redistribute it and\\/or modify it under the same terms as Perl itself/\nin licensecheck.pl\n...but it seems it's not catching this (b/c it's at the bottom??).\n\n> https://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode387\n> tools/checklicenses/checklicenses.py:387:\n> 'third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled': [\n> Why is it here? I don't see this patch having anything to do with that\n> directory.\n\nThis fixes an existing failure; I just added it while I was there.\nOn Chromium HEAD, checklicenses.py currently fails:\ncd $CHROMIUM_ROOT && src/tools/checklicenses/checklicenses.py\n\nreturns:\n'third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled/pylint/pyreverse/diagrams.py' has non-whitelisted license 'GPL (v2 or later)'\n...etc., etc.\n\nAs this is an existing issue, would you like me to post a CL with just this change?","disapproval":false,"date":"2013-06-05 03:22:56.614660","approval":false},{"sender":"thestig@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/05 03:22:56, Nils Barth wrote:\n> On 2013/06/05 03:04:23, Paweł Hajdan Jr. wrote:\n> https://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode387\n> > tools/checklicenses/checklicenses.py:387:\n> > 'third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled': [\n> > Why is it here? I don't see this patch having anything to do with that\n> > directory.\n> \n> This fixes an existing failure; I just added it while I was there.\n> On Chromium HEAD, checklicenses.py currently fails:\n> cd $CHROMIUM_ROOT && src/tools/checklicenses/checklicenses.py\n> \n> returns:\n> 'third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled/pylint/pyreverse/diagrams.py'\n> has non-whitelisted license 'GPL (v2 or later)'\n> ...etc., etc.\n> \n> As this is an existing issue, would you like me to post a CL with just this\n> change?\n\nI have third_party/WebKit/Tools/Scripts/webkitpy/thirdparty, but not the autoinstalled subdir. That must be local to your machine, otherwise the main waterfall bots that run checklicenses.py would have gone red.","disapproval":false,"date":"2013-06-05 03:29:40.982390","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Hi Paweł,\nThanks for the swift feedback!\n\nConcretely, shall I:\n1. Post a CL so licensecheck.pl checks the *footer* for licenses as well?\n2. Post a CL to special-case the separate (and failing) third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled\n ?\n\nOn 2013/06/05 03:04:23, Paweł Hajdan Jr. wrote:\n> I can help with the necessary modification, but the suppression list you're\n> modifying is not intended for new code - it was used to suppress all the\n> existing problems.\n\nGot it.\n\n> https://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode242\n> tools/checklicenses/checklicenses.py:242: 'UNKNOWN',\n> New files should have this resolved. The file has a license header - so we\n> should make licensecheck.pl recognize it.\n\nThe Perl modules and scripts have the license at the *bottom*, which is why licensecheck.pl is not catching these.\nThis is very common in CPAN modules, so perhaps worth adding to the script.\n\nThe license is in Perl's POD format, as in:\n\n=head1 COPYRIGHT AND LICENSE\n\nCopyright 2005-2013 by Makamaka Hannyaharamitu\n\nThis library is free software; you can redistribute it and/or modify\nit under the same terms as Perl itself. \n\n=cut\n\nlicensecheck.pl already has a check for Perl; it matches:\n/This program is free software; you can redistribute it and\\/or modify it under the same terms as Perl itself/\n...but it's not catching this because it's at the bottom.\n\nThe easiest fix would be to licensecheck.pl to read the header *and* footer.\nShall I post a CL for this?\n\n\n> https://chromiumcodereview.appspot.com/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode387\n> tools/checklicenses/checklicenses.py:387:\n> 'third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled': [\n> Why is it here? I don't see this patch having anything to do with that\n> directory.\n\nThis fixes an existing failure; I just added it while I was there.\nOn Chromium HEAD, checklicenses.py currently fails:\ncd $CHROMIUM_ROOT && src/tools/checklicenses/checklicenses.py\n\nreturns:\n'third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/autoinstalled/pylint/pyreverse/diagrams.py' has non-whitelisted license 'GPL (v2 or later)'\n...etc., etc.\n\nAs this is an existing issue, would you like me to post a CL with just this change?","disapproval":false,"date":"2013-06-05 03:31:37.392840","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/05 03:29:40, Lei Zhang wrote:\n> I have third_party/WebKit/Tools/Scripts/webkitpy/thirdparty, but not the\n> autoinstalled subdir. That must be local to your machine, otherwise the main\n> waterfall bots that run checklicenses.py would have gone red.\n\nThanks for checking Lei!\nI checked further, and turns out the directory is autogenerated, via:\nchromium/src/third_party/WebKit/Tools/Scripts/webkitpy/thirdparty/__init__.py\nThus the main waterfall bots won't go red, but when a developer runs checklicenses.py locally\n(when checking their new package), they get this noise.\nAny suggestions for making this easier or making this local warning go away?","disapproval":false,"date":"2013-06-05 03:37:20.217130","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/05 03:08:57, Lei Zhang wrote:\n> Not all files being checked in have the license though.\n\nFollowing up:\nper Lei's comment, the following very small files do not have a license header or footer,\nhence even with a fixed licensecheck.pl (I have a local fix, will post shortly) these have UNKNOWN type:\nthird_party/JSON/out/lib/perl5/JSON/backportPP/Boolean.pm\nthird_party/JSON/JSON-2.58/blib/lib/JSON/backportPP/Boolean.pm\nthird_party/JSON/JSON-2.58/lib/JSON/backportPP/Boolean.pm\nthird_party/JSON/JSON-2.58/t/_unicode_handling.pm\n\nPaweł, Lei - what should we do?","disapproval":false,"date":"2013-06-05 04:42:39.162140","approval":false},{"sender":"dannyb@google.com","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"FWIW: Given the files do not contain *anything* real (they are completely functional and exist mainly because of perl hilariousness), i'm fine with them not having a header, adding a header, or anything in between :)\n\nI defer to Pawel/et al to figure out what makes the most sense (IE fixing licensecheck vs adding a header)","disapproval":false,"date":"2013-06-05 18:03:06.205710","approval":false},{"sender":"phajdan.jr@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/05 04:42:39, Nils Barth wrote:\n> On 2013/06/05 03:08:57, Lei Zhang wrote:\n> > Not all files being checked in have the license though.\n> \n> Following up:\n> per Lei's comment, the following very small files do not have a license header\n> or footer,\n> hence even with a fixed licensecheck.pl (I have a local fix, will post shortly)\n> these have UNKNOWN type:\n> third_party/JSON/out/lib/perl5/JSON/backportPP/Boolean.pm\n> third_party/JSON/JSON-2.58/blib/lib/JSON/backportPP/Boolean.pm\n> third_party/JSON/JSON-2.58/lib/JSON/backportPP/Boolean.pm\n> third_party/JSON/JSON-2.58/t/_unicode_handling.pm\n> \n> Paweł, Lei - what should we do?\n\nPlease report this upstream (preferably via a bug tracker, so you can reference a URL), and add these as suppressions to checklicenses.py referencing the URL if possible.","disapproval":false,"date":"2013-06-05 19:07:15.566660","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"> On 2013/06/05 04:42:39, Nils Barth wrote:\n> > per Lei's comment, the following very small files do not have a license header\n> > or footer,\n\nOn 2013/06/05 19:07:15, Paweł Hajdan Jr. wrote:\n> Please report this upstream (preferably via a bug tracker, so you can reference\n> a URL), and add these as suppressions to checklicenses.py referencing the URL if\n> possible.\n\nDone!\nCPAN #85915 for JSON: Missing \"COPYRIGHT AND LICENSE\" sections for 3 dummy files\nhttps://rt.cpan.org/Public/Bug/Display.html?id=85915\n\nOnce the licensecheck.pl footer fix lands in:\nCL 16426003: Add footer license check to licensecheck.pl and Perl to checklicenses.py\nhttps://codereview.chromium.org/16426003/\n\n...this will just add a 'Perl' (manual ok) and 'UNKNOWN' supression to checklicenses.py,\nas requested.","disapproval":false,"date":"2013-06-06 07:32:45.533890","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"On 2013/06/05 18:03:06, Daniel Berlin wrote:\n> FWIW: Given the files do not contain *anything* real (they are completely\n> functional and exist mainly because of perl hilariousness), i'm fine with them\n> not having a header, adding a header, or anything in between :)\n> \n> I defer to Pawel/et al to figure out what makes the most sense (IE fixing\n> licensecheck vs adding a header)\n\nThanks Daniel!\n\nPer Paweł, I've added an override for now, filed a bug at CPAN, and referenced it:\nCPAN #85915 for JSON: Missing \"COPYRIGHT AND LICENSE\" sections for 3 dummy files\nhttps://rt.cpan.org/Public/Bug/Display.html?id=85915\n\nI trust you're not just saying \"anything in between\" to avoid Loki's Wager... >;-)\nhttp://en.wikipedia.org/wiki/Loki's_Wager","disapproval":false,"date":"2013-06-06 07:35:12.698830","approval":false},{"sender":"phajdan.jr@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Just minor comments, feel free to check in if you remove the .tar.gz file.\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/84001/third_party/JSON/JSON-2.59.tar.gz.sha1\nFile third_party/JSON/JSON-2.59.tar.gz.sha1 (right):\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/84001/third_party/JSON/JSON-2.59.tar.gz.sha1#newcode1\nthird_party/JSON/JSON-2.59.tar.gz.sha1:1: 8a82c442088ffa0d605747fd5e65f51e037aad94  JSON-2.59.tar.gz\nI didn't notice it before, but why exactly are you checking in the tarball into the tree? We usually don't do that.\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/84001/third_party/devscripts/licensecheck.pl\nFile third_party/devscripts/licensecheck.pl (right):\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/84001/third_party/devscripts/licensecheck.pl#newcode290\nthird_party/devscripts/licensecheck.pl:290: my $header = '';\nPlease remove these modifications from this CL.\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/84001/tools/checklicenses/checklicenses.py\nFile tools/checklicenses/checklicenses.py (right):\n\nhttps://chromiumcodereview.appspot.com/15736030/diff/84001/tools/checklicenses/checklicenses.py#newcode242\ntools/checklicenses/checklicenses.py:242: 'Perl',  # Build-only\nnit: End each comment with a dot, here and below.","disapproval":false,"date":"2013-06-06 18:16:02.415900","approval":false},{"sender":"cpu@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-06-06 19:35:35.972460","approval":true},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/nbarth@chromium.org/15736030/97001","disapproval":false,"date":"2013-06-07 09:09:10.251620","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Thanks Paweł,\nComments addressed (removed tarball and licensecheck.pl changes), committing.\n\nhttps://codereview.chromium.org/15736030/diff/54001/tools/checklicenses/checklicenses.py\nFile tools/checklicenses/checklicenses.py (right):\n\nhttps://codereview.chromium.org/15736030/diff/54001/tools/checklicenses/checklicenses.py#newcode242\ntools/checklicenses/checklicenses.py:242: 'UNKNOWN',\nTo follow up:\nadding 'Perl' in general, and 'UNKNOWN' due to files with missing license.\n\nhttps://codereview.chromium.org/15736030/diff/84001/third_party/JSON/JSON-2.59.tar.gz.sha1\nFile third_party/JSON/JSON-2.59.tar.gz.sha1 (right):\n\nhttps://codereview.chromium.org/15736030/diff/84001/third_party/JSON/JSON-2.59.tar.gz.sha1#newcode1\nthird_party/JSON/JSON-2.59.tar.gz.sha1:1: 8a82c442088ffa0d605747fd5e65f51e037aad94  JSON-2.59.tar.gz\nOn 2013/06/06 18:16:03, Paweł Hajdan Jr. wrote:\n> I didn't notice it before, but why exactly are you checking in the tarball into\n> the tree? We usually don't do that.\n\nDidn't know policy for this - thanks!\nI've removed the tarball from the CL and documented this on the wiki.\n\nhttps://codereview.chromium.org/15736030/diff/84001/third_party/devscripts/licensecheck.pl\nFile third_party/devscripts/licensecheck.pl (right):\n\nhttps://codereview.chromium.org/15736030/diff/84001/third_party/devscripts/licensecheck.pl#newcode290\nthird_party/devscripts/licensecheck.pl:290: my $header = '';\nOn 2013/06/06 18:16:03, Paweł Hajdan Jr. wrote:\n> Please remove these modifications from this CL.\n\nGot it, handled in:\nIssue 16426003: Add footer license check to licensecheck.pl and Perl to checklicenses.py\nhttps://codereview.chromium.org/16426003/\n\n(B/c of adding 'UNKNOWN' below, ok for this CL to land before the licensecheck.pl one)\n\nhttps://codereview.chromium.org/15736030/diff/84001/tools/checklicenses/checklicenses.py\nFile tools/checklicenses/checklicenses.py (right):\n\nhttps://codereview.chromium.org/15736030/diff/84001/tools/checklicenses/checklicenses.py#newcode242\ntools/checklicenses/checklicenses.py:242: 'Perl',  # Build-only\nOn 2013/06/06 18:16:03, Paweł Hajdan Jr. wrote:\n> nit: End each comment with a dot, here and below.\n\nDone.","disapproval":false,"date":"2013-06-07 09:10:13.320840","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Retried try job too often on chromium_presubmit for step(s) presubmit\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=chromium_presubmit&number=7557","disapproval":false,"date":"2013-06-07 09:23:24.313100","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Paweł, I need at LGTM from you for the tools/checklicenses/checklicenses.py changes, if you please.\n(\"Feel free to check it in\" isn't recognized)","disapproval":false,"date":"2013-06-07 09:36:54.340740","approval":false},{"sender":"thestig@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-06-07 17:36:02.024470","approval":true},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/nbarth@chromium.org/15736030/97001","disapproval":false,"date":"2013-06-07 17:36:12.085830","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Retried try job too often on win_rel for step(s) base_unittests, browser_tests, cacheinvalidation_unittests, cc_unittests, check_deps, chrome_frame_net_tests, chrome_frame_tests, chrome_frame_unittests, chromedriver2_unittests, components_unittests, content_browsertests, content_unittests, crypto_unittests, gpu_unittests, installer_util_unittests, interactive_ui_tests, ipc_tests, jingle_unittests, media_unittests, mini_installer_test, nacl_integration, net_unittests, ppapi_unittests, printing_unittests, remoting_unittests, sql_unittests, sync_integration_tests, sync_unit_tests, unit_tests\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win_rel&number=159637","disapproval":false,"date":"2013-06-07 18:24:02.514550","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/nbarth@chromium.org/15736030/97001","disapproval":false,"date":"2013-06-08 10:46:09.106270","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Retried try job too often on win_x64_rel for step(s) compile\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win_x64_rel&number=16686","disapproval":false,"date":"2013-06-08 11:10:11.243210","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/nbarth@chromium.org/15736030/166002","disapproval":false,"date":"2013-06-08 11:33:02.359580","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Change committed as 205057","disapproval":false,"date":"2013-06-08 13:47:21.863230","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/nbarth@chromium.org/15736030/174001","disapproval":false,"date":"2013-06-10 03:47:31.508190","approval":false},{"sender":"nbarth@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"FYI, this was reverted;\nI've fixed the issue and am resubmitting.\n\nDetails:\nThis was reverted by Carlos in:\nIssue 16539003: Revert 205057 \"Add JSON.pm to third_party\"\nhttps://codereview.chromium.org/16539003/\nbecause it broke the check_perms check in ChromiumOS.\n\nThis had been flagged earlier in the presubmit check,\nbut the test bots passed and so I didn't realize it would break anything.\nI'd already filed an upstream bug at CPAN:\nhttps://rt.cpan.org/Public/Bug/Display.html?id=85917\n\nI've fixed this by adding a \"fix permissions\" step\nto the download-and-build script.\n(With an ed script in a heredoc ;-)","disapproval":false,"date":"2013-06-10 03:51:05.999890","approval":false},{"sender":"commit-bot@chromium.org","recipients":["nbarth@chromium.org","haraken@chromium.org","abarth@chromium.org","brettw@chromium.org","cpu@chromium.org","darin@chromium.org","open-source-third-party-reviews@google.com","security@chromium.org","dannyb@google.com","phajdan.jr@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","kojih@chromium.org"],"text":"Change committed as 205157","disapproval":false,"date":"2013-06-10 08:19:12.652250","approval":false}],"owner_email":"nbarth@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Nils Barth","subject":"Add JSON.pm to third_party","created":"2013-06-03 02:07:02.087440","patchsets":[1,21001,21019,36002,54001,84001,97001,166002,174001],"modified":"2013-06-10 08:19:13.345210","closed":true,"commit":false,"issue":15736030}