{"description":"[Android] Test for the country codes support in PDM.AutofillProfile\n\nBUG=259385\nTEST=PersonalDataManagerTest\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=215406","cc":["chromium-reviews@chromium.org","ramankk@chromium.org","benquan@chromium.org","ahutter@chromium.org","browser-components-watch@chromium.org","dgwallinga@chromium.org","dyu@chromium.org","abodenha@chromium.org","estade+watch@chromium.org","isherman@chromium.org","rouslan+autofillwatch@chromium.org"],"reviewers":["isherman@chromium.org"],"messages":[{"sender":"aruslan@chromium.org","recipients":["aruslan@chromium.org","isherman@chromium.org","chromium-reviews@chromium.org","ramankk@chromium.org","benquan@chromium.org","ahutter@chromium.org","browser-components-watch@chromium.org","dgwallinga@chromium.org","dyu@chromium.org","abodenha@chromium.org","estade+watch@chromium.org","isherman@chromium.org","rouslan+autofillwatch@chromium.org"],"text":"Hi Ilya, please take a look.\nThis is just to make sure that we will see at least some smokes if something is changed in the country codes / country names support.","disapproval":false,"date":"2013-07-11 16:08:12.830530","approval":false},{"sender":"isherman@chromium.org","recipients":["aruslan@chromium.org","isherman@chromium.org","chromium-reviews@chromium.org","ramankk@chromium.org","benquan@chromium.org","ahutter@chromium.org","browser-components-watch@chromium.org","dgwallinga@chromium.org","dyu@chromium.org","abodenha@chromium.org","estade+watch@chromium.org","isherman@chromium.org","rouslan+autofillwatch@chromium.org"],"text":"https://codereview.chromium.org/18341030/diff/3001/chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java\nFile chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java (right):\n\nhttps://codereview.chromium.org/18341030/diff/3001/chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java#newcode145\nchrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java:145: assertEquals(\"Italy\", storedProfile2.getCountry());\nSeems like this will break if the test ever runs on a computer that has anything other than English set as the locale.  Am I mistaken?","disapproval":false,"date":"2013-07-12 01:27:35.124360","approval":false},{"sender":"aruslan@chromium.org","recipients":["aruslan@chromium.org","isherman@chromium.org","chromium-reviews@chromium.org","ramankk@chromium.org","benquan@chromium.org","ahutter@chromium.org","browser-components-watch@chromium.org","dgwallinga@chromium.org","dyu@chromium.org","abodenha@chromium.org","estade+watch@chromium.org","isherman@chromium.org","rouslan+autofillwatch@chromium.org"],"text":"https://codereview.chromium.org/18341030/diff/3001/chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java\nFile chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java (right):\n\nhttps://codereview.chromium.org/18341030/diff/3001/chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java#newcode145\nchrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java:145: assertEquals(\"Italy\", storedProfile2.getCountry());\nOn 2013/07/12 01:27:35, Ilya Sherman wrote:\n> Seems like this will break if the test ever runs on a computer that has anything\n> other than English set as the locale.  Am I mistaken?\n\nI thought there is some convention on the default locale in the tests -- otherwise the existing testAddAndEditProfiles() is in error as well.\n\nI changed both tests to use getCountryCode() so that they wouldn't depend on the locale.","disapproval":false,"date":"2013-07-13 00:46:09.568930","approval":false},{"sender":"isherman@chromium.org","recipients":["aruslan@chromium.org","isherman@chromium.org","chromium-reviews@chromium.org","ramankk@chromium.org","benquan@chromium.org","ahutter@chromium.org","browser-components-watch@chromium.org","dgwallinga@chromium.org","dyu@chromium.org","abodenha@chromium.org","estade+watch@chromium.org","isherman@chromium.org","rouslan+autofillwatch@chromium.org"],"text":"LGTM\n\nhttps://codereview.chromium.org/18341030/diff/3001/chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java\nFile chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java (right):\n\nhttps://codereview.chromium.org/18341030/diff/3001/chrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java#newcode145\nchrome/android/javatests/src/org/chromium/chrome/browser/autofill/PersonalDataManagerTest.java:145: assertEquals(\"Italy\", storedProfile2.getCountry());\nOn 2013/07/13 00:46:09, aruslan wrote:\n> On 2013/07/12 01:27:35, Ilya Sherman wrote:\n> > Seems like this will break if the test ever runs on a computer that has\n> anything\n> > other than English set as the locale.  Am I mistaken?\n> \n> I thought there is some convention on the default locale in the tests --\n> otherwise the existing testAddAndEditProfiles() is in error as well.\n> \n> I changed both tests to use getCountryCode() so that they wouldn't depend on the\n> locale.\n\nThe code is ok as-is, but it would be even better to set the locale to \"en-US\" for these tests, and then test the full behavior that you want to test.","disapproval":false,"date":"2013-07-13 01:20:55.921630","approval":true},{"sender":"commit-bot@chromium.org","recipients":["aruslan@chromium.org","isherman@chromium.org","chromium-reviews@chromium.org","ramankk@chromium.org","benquan@chromium.org","ahutter@chromium.org","browser-components-watch@chromium.org","dgwallinga@chromium.org","dyu@chromium.org","abodenha@chromium.org","estade+watch@chromium.org","isherman@chromium.org","rouslan+autofillwatch@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/aruslan@chromium.org/18341030/22001","disapproval":false,"date":"2013-08-02 20:11:09.166780","approval":false},{"sender":"commit-bot@chromium.org","recipients":["aruslan@chromium.org","isherman@chromium.org","chromium-reviews@chromium.org","ramankk@chromium.org","benquan@chromium.org","ahutter@chromium.org","browser-components-watch@chromium.org","dgwallinga@chromium.org","dyu@chromium.org","abodenha@chromium.org","estade+watch@chromium.org","isherman@chromium.org","rouslan+autofillwatch@chromium.org"],"text":"Change committed as 215406","disapproval":false,"date":"2013-08-02 23:58:00.784100","approval":false}],"owner_email":"aruslan@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"aruslan","subject":"[Android] Test for the country codes support in PDM.AutofillProfile","created":"2013-07-11 16:04:14.594080","patchsets":[1,3001,9001,11001,22001],"modified":"2013-08-02 23:58:01.110950","closed":true,"commit":false,"issue":18341030}