{"files":{"tools/android/adb_reboot/adb_reboot.c":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":1,"messages":[{"author":"Isaac","author_email":"ilevy@chromium.org","text":"You may need to add a sleep here, stop adbd might be an asynchronous call.","draft":false,"lineno":30,"date":"2013-03-21 03:18:54.571680","left":false},{"author":"navabi","author_email":"navabi@google.com","text":"On 2013/03/21 03:18:54, Isaac wrote:\n> You may need to add a sleep here, stop adbd might be an asynchronous call.\n\nI've tested locally, and adbd seems to restart fine. To test I pushed this version of the daemon to a device, then I wrote a script that every second will do an \"adb devices\". When the device detects a missed heartbeat it restarts adbd and you can see the host not see the devices for a couple seconds and then see the devices come back. Seems to work. Do you have any reason to believe it is asynchronous?","draft":false,"lineno":30,"date":"2013-03-21 03:24:31.640480","left":false},{"author":"pliard","author_email":"pliard@google.com","text":"On 2013/03/21 03:24:31, navabi wrote:\n> On 2013/03/21 03:18:54, Isaac wrote:\n> > You may need to add a sleep here, stop adbd might be an asynchronous call.\n> \n> I've tested locally, and adbd seems to restart fine. To test I pushed this\n> version of the daemon to a device, then I wrote a script that every second will\n> do an \"adb devices\". When the device detects a missed heartbeat it restarts adbd\n> and you can see the host not see the devices for a couple seconds and then see\n> the devices come back. Seems to work. Do you have any reason to believe it is\n> asynchronous?\n\nA plain kill would definitely be asynchronous. We already had flakiness in the past caused by this pattern. I don't know how 'stop' behaves though. I would just add a sleep in case as Isaac said if we cannot learn more about how 'stop' behaves. The fact that it worked a couple of times doesn't guarantee that it is not flaky.","draft":false,"lineno":30,"date":"2013-03-21 13:29:55.751970","left":false}],"id":2,"is_binary":false}},"owner_email":"navabi@google.com","owner":"navabi","message":null,"try_job_results":[{"parent_name":null,"tests":["interactive_ui_tests"],"slave":"vm225-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win7_aura/builds/21975","timestamp":"2013-03-21 11:29:47.937826","builder":"win7_aura","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjphAEM","requester":"commit-bot@chromium.org","buildnumber":"21975","revision":"HEAD"},{"parent_name":null,"tests":["base_unittests","browser_tests","cacheinvalidation_unittests","check_deps","chrome_frame_net_tests","chrome_frame_tests","chrome_frame_unittests","chromedriver2_unittests","components_unittests","content_browsertests","content_unittests","crypto_unittests","gpu_unittests","installer_util_unittests","interactive_ui_tests","ipc_tests","jingle_unittests","media_unittests","mini_installer_test","nacl_integration","net_unittests","ppapi_unittests","printing_unittests","remoting_unittests","sql_unittests","sync_integration_tests","sync_unit_tests","unit_tests"],"slave":"vm320-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/125478","timestamp":"2013-03-21 09:50:54.639258","builder":"win_rel","clobber":true,"project":"Chromium Try Server","reason":"CQ","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBirRgw","requester":"commit-bot@chromium.org","buildnumber":"125478","revision":"HEAD"},{"parent_name":null,"tests":["compile"],"slave":"vm232-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_x64_rel/builds/4113","timestamp":"2013-03-21 09:27:34.096519","builder":"win_x64_rel","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiqRgw","requester":"commit-bot@chromium.org","buildnumber":"4113","revision":"HEAD"},{"parent_name":null,"tests":["ash_unittests","aura_unittests","browser_tests","compositor_unittests","content_browsertests","content_unittests","interactive_ui_tests","unit_tests","views_unittests"],"slave":"vm206-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win7_aura/builds/21914","timestamp":"2013-03-21 06:40:07.379447","builder":"win7_aura","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiSTgw","requester":"commit-bot@chromium.org","buildnumber":"21914","revision":"HEAD"},{"parent_name":null,"tests":["browser_tests"],"slave":"vm721-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_rel/builds/111144","timestamp":"2013-03-21 05:39:56.066690","builder":"mac_rel","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiBfQw","requester":"commit-bot@chromium.org","buildnumber":"111144","revision":"HEAD"},{"parent_name":null,"tests":["ash_unittests","aura_unittests","base_unittests","browser_tests","cacheinvalidation_unittests","check_deps","chromeos_unittests","components_unittests","content_browsertests","content_unittests","crypto_unittests","dbus_unittests","device_unittests","gpu_unittests","interactive_ui_tests","ipc_tests","jingle_unittests","media_unittests","net_unittests","ppapi_unittests","printing_unittests","sandbox_linux_unittests","sql_unittests","sync_unit_tests","unit_tests"],"slave":"slave54-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_chromeos/builds/95465","timestamp":"2013-03-21 05:02:15.624505","builder":"linux_chromeos","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiKJww","requester":"commit-bot@chromium.org","buildnumber":"95465","revision":"HEAD"},{"parent_name":null,"tests":["aura_unittests","browser_tests","compositor_unittests","content_browsertests","content_unittests","interactive_ui_tests","unit_tests","views_unittests"],"slave":"slave49-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_aura/builds/26162","timestamp":"2013-03-21 04:54:28.320338","builder":"linux_aura","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBi6Fww","requester":"commit-bot@chromium.org","buildnumber":"26162","revision":"HEAD"},{"parent_name":null,"tests":["base_unittests","browser_tests","cacheinvalidation_unittests","check_deps","chromedriver2_unittests","components_unittests","content_browsertests","content_unittests","crypto_unittests","gpu_unittests","interactive_ui_tests","ipc_tests","jingle_unittests","media_unittests","nacl_integration","net_unittests","ppapi_unittests","printing_unittests","remoting_unittests","sandbox_linux_unittests","sql_unittests","sync_integration_tests","sync_unit_tests","unit_tests"],"slave":"slave27-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_rel/builds/109676","timestamp":"2013-03-21 04:49:22.070387","builder":"linux_rel","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjaNgw","requester":"commit-bot@chromium.org","buildnumber":"109676","revision":"HEAD"},{"parent_name":null,"tests":["compile"],"slave":"vm364-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win/builds/58291","timestamp":"2013-03-21 04:38:52.477583","builder":"win","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiiHww","requester":"commit-bot@chromium.org","buildnumber":"58291","revision":"HEAD"},{"parent_name":"android_dbg","tests":["slave_steps"],"slave":"chromeperf70","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg_triggered_tests/builds/39704","timestamp":"2013-03-21 04:37:53.601339","builder":"android_dbg_triggered_tests","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(android_dbg)","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiZdQw","requester":null,"buildnumber":"39704","revision":"HEAD"},{"parent_name":null,"tests":["base_unittests","browser_tests","cacheinvalidation_unittests","check_deps","chromedriver2_unittests","components_unittests","content_browsertests","content_unittests","crypto_unittests","gpu_unittests","interactive_ui_tests","ipc_tests","jingle_unittests","media_unittests","nacl_integration","net_unittests","ppapi_unittests","printing_unittests","remoting_unittests","sql_unittests","sync_integration_tests","sync_unit_tests","unit_tests"],"slave":"vm706-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_rel/builds/111132","timestamp":"2013-03-21 04:33:01.845368","builder":"mac_rel","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjJZQw","requester":"commit-bot@chromium.org","buildnumber":"111132","revision":"HEAD"},{"parent_name":null,"tests":["compile"],"slave":"vm389-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_clang/builds/93047","timestamp":"2013-03-21 03:59:59.298343","builder":"linux_clang","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBj6VQw","requester":"commit-bot@chromium.org","buildnumber":"93047","revision":"HEAD"},{"parent_name":null,"tests":["slave_steps"],"slave":"vm431-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg/builds/46655","timestamp":"2013-03-21 03:59:56.073323","builder":"android_dbg","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBj5VQw","requester":"commit-bot@chromium.org","buildnumber":"46655","revision":"HEAD"},{"parent_name":null,"tests":["slave_steps"],"slave":"vm454-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_clang_dbg/builds/29022","timestamp":"2013-03-21 03:58:32.915498","builder":"android_clang_dbg","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjyLgw","requester":"commit-bot@chromium.org","buildnumber":"29022","revision":"HEAD"},{"parent_name":null,"tests":["compile"],"slave":"vm736-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac/builds/37272","timestamp":"2013-03-21 03:52:52.582215","builder":"mac","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIuCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBgEDA","requester":"commit-bot@chromium.org","buildnumber":"37272","revision":"HEAD"},{"parent_name":null,"tests":["base_unittests","browser_tests","cacheinvalidation_unittests","check_deps","chrome_frame_net_tests","chrome_frame_tests","chrome_frame_unittests","chromedriver2_unittests","components_unittests","content_browsertests","content_unittests","crypto_unittests","gpu_unittests","installer_util_unittests","interactive_ui_tests","ipc_tests","jingle_unittests","media_unittests","mini_installer_test","nacl_integration","net_unittests","ppapi_unittests","printing_unittests","remoting_unittests","sql_unittests","sync_integration_tests","sync_unit_tests","unit_tests"],"slave":"vm375-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/125415","timestamp":"2013-03-21 03:52:20.251951","builder":"win_rel","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBixbQw","requester":"commit-bot@chromium.org","buildnumber":"125415","revision":"HEAD"},{"parent_name":null,"tests":["compile"],"slave":"slave20-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_chromeos_clang/builds/16740","timestamp":"2013-03-21 03:49:43.502353","builder":"linux_chromeos_clang","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIuCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBgDDA","requester":"commit-bot@chromium.org","buildnumber":"16740","revision":"HEAD"},{"parent_name":null,"tests":["base_unittests","compile","content_unittests","crypto_unittests","googleurl_unittests","media_unittests","net_unittests","sql_unittests","ui_unittests"],"slave":"mini32-l1","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_dbg_simulator/builds/36663","timestamp":"2013-03-21 03:43:30.454769","builder":"ios_dbg_simulator","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjhXQw","requester":"commit-bot@chromium.org","buildnumber":"36663","revision":"HEAD"},{"parent_name":null,"tests":["compile"],"slave":"mini63-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_rel_device/builds/35261","timestamp":"2013-03-21 03:38:31.070562","builder":"ios_rel_device","clobber":false,"project":"Chromium Try Server","reason":"CQ","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYoICVBgwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjqBww","requester":"commit-bot@chromium.org","buildnumber":"35261","revision":"HEAD"}],"created":"2013-03-21 02:57:28.381540","url":null,"num_comments":3,"modified":"2013-03-21 13:29:55.802810","patchset":1,"issue":12927008}