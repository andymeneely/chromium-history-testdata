{"description":"Fix browser crash when tabs that call chrome.webstore.install get closed before the call completes\r\n\r\nThis manifested itself as WebstoreInlineInstallTest.ArgumentValidation test\r\ncrashes because the test would make several chrome.webstore.install() calls\r\nand not wait for responses before the test completed.\r\n\r\nThe fix was to make WebstoreInlineInstaller subclass TabContentsObserver and\r\ncheck if the tab is still alive before trying to send responses back to it.\r\n\r\nBUG=95713\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=100295","cc":["chromium-reviews@chromium.org","erikkay@chromium.org","mihaip+watch@chromium.org","phajdan.jr@chromium.org"],"reviewers":["aa@chromium.org"],"messages":[{"sender":"mihaip@chromium.org","recipients":["mihaip@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","mihaip+watch@chromium.org","phajdan.jr@chromium.org"],"text":"","disapproval":false,"date":"2011-09-08 22:22:19.166061","approval":false},{"sender":"aa@chromium.org","recipients":["mihaip@chromium.org","aa@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","mihaip+watch@chromium.org","phajdan.jr@chromium.org"],"text":"lgtm\n\nI'm not sure if this is possible, but you might consider using TabContentsDestroyed() to cancel the in-flight work rather than checking whether the TC was destroyed each time you need it. This would centralize handling cancellation in one place.","disapproval":false,"date":"2011-09-08 22:43:32.562583","approval":true},{"sender":"mihaip@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"On Thu, Sep 8, 2011 at 3:43 PM, <aa@chromium.org> wrote:\n\n> I'm not sure if this is possible, but you might consider using\n> TabContentsDestroyed() to cancel the in-flight work rather than checking\n> whether\n> the TC was destroyed each time you need it. This would centralize handling\n> cancellation in one place.\n\n\nUnfortunately it can't be done everywhere (e.g. there's no way to cancel the\ndialog), but I switched to that for the URLFetcher. PTAL.\n\nMihai\n","disapproval":false,"date":"2011-09-08 23:04:05.900442","approval":false},{"sender":"aa@chromium.org","recipients":["mihaip@chromium.org","aa@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","mihaip+watch@chromium.org","phajdan.jr@chromium.org"],"text":"lgtm","disapproval":false,"date":"2011-09-08 23:19:37.715059","approval":true}],"owner_email":"mihaip@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Mihai Parparita -not on Chrome","subject":"Fix browser crash when tabs that call chrome.webstore.install get closed before the call completes","created":"2011-09-08 20:46:18.730638","patchsets":[1,2001,3002,2002],"modified":"2011-09-08 23:35:34.754787","closed":true,"commit":false,"issue":7861008}