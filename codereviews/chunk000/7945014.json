{"description":"Applied review comments from oshima for CL 7850026.\r\n\r\nBUG=none\r\nTEST=none\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=101983","cc":["chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"reviewers":["oshima@chromium.org","commit-bot@chromium.org"],"messages":[{"sender":"saintlou@chromium.org","recipients":["saintlou@chromium.org","oshima@chromium.org","chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"text":"All your comments have been applied. Thanks for the feedback!\n\n-- Emmanuel","disapproval":false,"date":"2011-09-19 20:16:27.073103","approval":false},{"sender":"oshima@chromium.org","recipients":["saintlou@chromium.org","oshima@chromium.org","chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"text":"http://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc\nFile chrome/browser/chromeos/frame/panel_browser_view.cc (left):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc#oldcode112\nchrome/browser/chromeos/frame/panel_browser_view.cc:112: #else\nkeep this.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc\nFile chrome/browser/chromeos/frame/panel_browser_view.cc (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc#newcode36\nchrome/browser/chromeos/frame/panel_browser_view.cc:36: GdkScreen* screen = gtk_widget_get_screen(GetWidget()->GetNativeView());\nWhat I meant was that you could comment out the entire method body.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_controller.cc\nFile chrome/browser/chromeos/frame/panel_controller.cc (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_controller.cc#newcode189\nchrome/browser/chromeos/frame/panel_controller.cc:189: title_window_->Init(params);\n#if !defined(USE_AURA)\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_controller.cc#newcode212\nchrome/browser/chromeos/frame/panel_controller.cc:212: \n#end\n\nexclude OnPanelClientEvent for AURA.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_controller.cc#newcode267\nchrome/browser/chromeos/frame/panel_controller.cc:267: #if !defined(TOUCH_UI)\nUSE_ONLY_PURE_VIEWS (or TOOLKIT_USES_GTK after sadrul's change)\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/login/background_view.cc\nFile chrome/browser/chromeos/login/background_view.cc (left):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/login/background_view.cc#oldcode135\nchrome/browser/chromeos/login/background_view.cc:135: #else\nwould it be possible to compile & link only webui version for aura?\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/idle_linux.cc\nFile chrome/browser/idle_linux.cc (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/idle_linux.cc#newcode29\nchrome/browser/idle_linux.cc:29: // TODO(saintlou): We have no Screensaver in Aura.\nwe will have, just different implementation. We just need aura version of ScreenSaverWindowFinder (which can be an empty for now)\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/process_singleton.h\nFile chrome/browser/process_singleton.h (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/process_singleton.h#newcode171\nchrome/browser/process_singleton.h:171: // not in process_singleton_aura.cc.\nwhy we don't need it on linux/aura?\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/chrome_browser.gypi\nFile chrome/chrome_browser.gypi (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/chrome_browser.gypi#newcode4982\nchrome/chrome_browser.gypi:4982: ['exclude', '^browser/screensaver_window_finder_linux.h'],\nwe should rename this to _gtk.cc and have stub _aura file.","disapproval":false,"date":"2011-09-19 22:31:03.471876","approval":false},{"sender":"saintlou@chromium.org","recipients":["saintlou@chromium.org","oshima@chromium.org","chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"text":"Thanks for the feedback Oshima. PTAL.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc\nFile chrome/browser/chromeos/frame/panel_browser_view.cc (left):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc#oldcode112\nchrome/browser/chromeos/frame/panel_browser_view.cc:112: #else\nOn 2011/09/19 22:31:03, oshima wrote:\n> keep this.\n\nDone.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc\nFile chrome/browser/chromeos/frame/panel_browser_view.cc (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_browser_view.cc#newcode36\nchrome/browser/chromeos/frame/panel_browser_view.cc:36: GdkScreen* screen = gtk_widget_get_screen(GetWidget()->GetNativeView());\nOn 2011/09/19 22:31:03, oshima wrote:\n> What I meant was that you could comment out the entire method body.\n\nDone.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_controller.cc\nFile chrome/browser/chromeos/frame/panel_controller.cc (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_controller.cc#newcode189\nchrome/browser/chromeos/frame/panel_controller.cc:189: title_window_->Init(params);\nOn 2011/09/19 22:31:03, oshima wrote:\n> #if !defined(USE_AURA)\n\nDone.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/frame/panel_controller.cc#newcode212\nchrome/browser/chromeos/frame/panel_controller.cc:212: \nOn 2011/09/19 22:31:03, oshima wrote:\n> #end\n> \n> exclude OnPanelClientEvent for AURA.\n\nDone.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/login/background_view.cc\nFile chrome/browser/chromeos/login/background_view.cc (left):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/login/background_view.cc#oldcode135\nchrome/browser/chromeos/login/background_view.cc:135: #else\nThat would be the goal. I am not sure we are ready yet.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/idle_linux.cc\nFile chrome/browser/idle_linux.cc (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/idle_linux.cc#newcode29\nchrome/browser/idle_linux.cc:29: // TODO(saintlou): We have no Screensaver in Aura.\nOn 2011/09/19 22:31:03, oshima wrote:\n> we will have, just different implementation. We just need aura version of\n> ScreenSaverWindowFinder (which can be an empty for now)\n\nDone.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/process_singleton.h\nFile chrome/browser/process_singleton.h (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/process_singleton.h#newcode171\nchrome/browser/process_singleton.h:171: // not in process_singleton_aura.cc.\nWe probably need it eventually but process_singleton_aura.cc is just a stub.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/chrome_browser.gypi\nFile chrome/chrome_browser.gypi (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/chrome_browser.gypi#newcode4982\nchrome/chrome_browser.gypi:4982: ['exclude', '^browser/screensaver_window_finder_linux.h'],\nOn 2011/09/19 22:31:03, oshima wrote:\n> we should rename this to _gtk.cc and have stub _aura file.\n\nDone.","disapproval":false,"date":"2011-09-19 23:26:02.391261","approval":false},{"sender":"oshima@chromium.org","recipients":["saintlou@chromium.org","oshima@chromium.org","chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"text":"Sorry ScreensaverWindowFinder is my mistake. Please see my comments below.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/login/background_view.cc\nFile chrome/browser/chromeos/login/background_view.cc (left):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/chromeos/login/background_view.cc#oldcode135\nchrome/browser/chromeos/login/background_view.cc:135: #else\nOn 2011/09/19 23:26:02, Emmanuel Saint-loubert wrote:\n> That would be the goal. I am not sure we are ready yet.\n\nwebui oobe/login has been enabled for chromeos, so that should be possible.\nscreen locker can be simply removed for now.\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/process_singleton.h\nFile chrome/browser/process_singleton.h (right):\n\nhttp://codereview.chromium.org/7945014/diff/2001/chrome/browser/process_singleton.h#newcode171\nchrome/browser/process_singleton.h:171: // not in process_singleton_aura.cc.\nOn 2011/09/19 23:26:02, Emmanuel Saint-loubert wrote:\n> We probably need it eventually but process_singleton_aura.cc is just a stub.\n> \ni see. thanks.\n\nhttp://codereview.chromium.org/7945014/diff/4018/chrome/browser/idle_linux.cc\nFile chrome/browser/idle_linux.cc (right):\n\nhttp://codereview.chromium.org/7945014/diff/4018/chrome/browser/idle_linux.cc#newcode13\nchrome/browser/idle_linux.cc:13: #include \"chrome/browser/screensaver_window_finder_gtk.h\"\nDoh, I was stupid. I thought ScreensaverWindowFinder is a shared class. Looks like this is gtk only. My bad. You may revert this, and simply\nreturn false in \"bool CheckIdleStateIsLocked\" and rename screensaver_window_filter_linux.cc to gtk.cc. Sorry about that.","disapproval":false,"date":"2011-09-20 04:59:17.853562","approval":false},{"sender":"saintlou@chromium.org","recipients":["saintlou@chromium.org","oshima@chromium.org","chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"text":"No pb Oshima! PTAL. Thanks,\n\n-- E","disapproval":false,"date":"2011-09-20 16:25:32.177872","approval":false},{"sender":"oshima@chromium.org","recipients":["saintlou@chromium.org","oshima@chromium.org","chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"text":"LGTM","disapproval":false,"date":"2011-09-20 17:09:20.639709","approval":true},{"sender":"commit-bot@chromium.org","recipients":["saintlou@chromium.org","oshima@chromium.org","commit-bot@chromium.org","chromium-reviews@chromium.org","davemoore+watch@chromium.org","stevenjb@chromium.org","nkostylev+cc@chromium.org","dhollowa@chromium.org"],"text":"Can't apply patch for file chrome/browser/screensaver_window_finder_gtk.cc.\nWhile running patch -p1 --forward --force;\npatching file chrome/browser/screensaver_window_finder_gtk.cc\nHunk #1 FAILED at 2.\nHunk #2 FAILED at 17.\n2 out of 2 hunks FAILED -- saving rejects to file chrome/browser/screensaver_window_finder_gtk.cc.rej","disapproval":false,"date":"2011-09-20 18:06:39.849734","approval":false}],"owner_email":"saintlou@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Emmanuel Saint-loubert-Bié","subject":"Applied review comments from oshima for CL 7850026.","created":"2011-09-19 20:11:50.744793","patchsets":[1,2001,8001,6003,4018,13001,16001],"modified":"2011-09-20 18:09:51.740129","closed":true,"commit":false,"issue":7945014}