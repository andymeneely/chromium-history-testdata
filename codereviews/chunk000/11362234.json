{"description":"Check existence of spelling engine before dereferencing.\n\nR=rlp@chromium.org\nBUG=160762\n\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=167588","cc":["chromium-reviews@chromium.org","groby+spellwatch@chromium.org","darin-cc@chromium.org"],"reviewers":["rlp@chromium.org"],"messages":[{"sender":"rlp@chromium.org","recipients":["groby@chromium.org","rlp@chromium.org","chromium-reviews@chromium.org","groby+spellwatch@chromium.org","rlp@chromium.org","darin-cc@chromium.org"],"text":"https://codereview.chromium.org/11362234/diff/1/chrome/renderer/spellchecker/spellcheck.cc\nFile chrome/renderer/spellchecker/spellcheck.cc (right):\n\nhttps://codereview.chromium.org/11362234/diff/1/chrome/renderer/spellchecker/spellcheck.cc#newcode89\nchrome/renderer/spellchecker/spellcheck.cc:89: // is called.\nI'm confused in general why you need these checks. It looks like a platform_spelling_engine is created in all code paths below. Is it possible those other fucntions can be called before Init?\n\nhttps://codereview.chromium.org/11362234/diff/1/chrome/renderer/spellchecker/spellcheck.cc#newcode318\nchrome/renderer/spellchecker/spellcheck.cc:318: DCHECK(platform_spelling_engine_.get());\nI don't think this DCHECK is relevant given the line added below.","disapproval":false,"date":"2012-11-13 23:52:09.254510","approval":false},{"sender":"groby@chromium.org","recipients":["groby@chromium.org","rlp@chromium.org","chromium-reviews@chromium.org","groby+spellwatch@chromium.org","rlp@chromium.org","darin-cc@chromium.org"],"text":"https://codereview.chromium.org/11362234/diff/1/chrome/renderer/spellchecker/spellcheck.cc\nFile chrome/renderer/spellchecker/spellcheck.cc (right):\n\nhttps://codereview.chromium.org/11362234/diff/1/chrome/renderer/spellchecker/spellcheck.cc#newcode89\nchrome/renderer/spellchecker/spellcheck.cc:89: // is called.\nYep, that's the only explanation for the crash we're seeing. \n\nI'll try to track down more closely why, but I'm trying to get the crash fixed.\nOn 2012/11/13 23:52:09, rpetterson wrote:\n> I'm confused in general why you need these checks. It looks like a\n> platform_spelling_engine is created in all code paths below. Is it possible\n> those other fucntions can be called before Init?\n\nhttps://codereview.chromium.org/11362234/diff/1/chrome/renderer/spellchecker/spellcheck.cc#newcode318\nchrome/renderer/spellchecker/spellcheck.cc:318: DCHECK(platform_spelling_engine_.get());\nOn 2012/11/13 23:52:09, rpetterson wrote:\n> I don't think this DCHECK is relevant given the line added below.\n\nDone.","disapproval":false,"date":"2012-11-14 00:38:36.399900","approval":false},{"sender":"rlp@chromium.org","recipients":["groby@chromium.org","rlp@chromium.org","chromium-reviews@chromium.org","groby+spellwatch@chromium.org","darin-cc@chromium.org"],"text":"LGTM","disapproval":false,"date":"2012-11-14 00:43:15.125030","approval":true},{"sender":"commit-bot@chromium.org","recipients":["groby@chromium.org","rlp@chromium.org","chromium-reviews@chromium.org","groby+spellwatch@chromium.org","darin-cc@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/groby@chromium.org/11362234/4001","disapproval":false,"date":"2012-11-14 00:46:39.143640","approval":false},{"sender":"commit-bot@chromium.org","recipients":["groby@chromium.org","rlp@chromium.org","chromium-reviews@chromium.org","groby+spellwatch@chromium.org","darin-cc@chromium.org"],"text":"Change committed as 167588","disapproval":false,"date":"2012-11-14 04:06:50.155090","approval":false}],"owner_email":"groby@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"groby","subject":"Check existence of spelling engine before dereferencing.","created":"2012-11-13 21:22:32.671270","patchsets":[1,4001],"modified":"2012-11-14 04:06:50.255340","closed":true,"commit":false,"issue":11362234}