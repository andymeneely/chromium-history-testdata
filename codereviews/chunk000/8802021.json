{"description":"Fix a couple panel overflow related bugs.\r\n1) Moving mouse to left screen edge causes the expanded overflow panels to shrink back.\r\n2) Overflow panel is brought to normal area cannot be dragged correctly.\r\n\r\nBUG=106434\r\nTEST=Enable overflow test plus manual test by moving mouse to left screen edge or clicking on overflow panel\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=113053","cc":["chromium-reviews@chromium.org","jennb@chromium.org","dimich@chromium.org","jianli@chromium.org","prasadt@chromium.org","dcheng@chromium.org","phajdan.jr@chromium.org"],"reviewers":["jennb@chromium.org"],"messages":[{"sender":"jianli@chromium.org","recipients":["jianli@chromium.org","jennb@chromium.org","chromium-reviews@chromium.org","jennb@chromium.org","dimich@chromium.org","jianli@chromium.org","prasadt@chromium.org","dcheng@chromium.org","phajdan.jr@chromium.org"],"text":"","disapproval":false,"date":"2011-12-05 21:10:46.475981","approval":false},{"sender":"jennb@chromium.org","recipients":["jianli@chromium.org","jennb@chromium.org","chromium-reviews@chromium.org","jennb@chromium.org","dimich@chromium.org","jianli@chromium.org","prasadt@chromium.org","dcheng@chromium.org","phajdan.jr@chromium.org"],"text":"LGTM if try bots are happy.\n\nhttp://codereview.chromium.org/8802021/diff/1/chrome/browser/ui/panels/panel_browsertest.cc\nFile chrome/browser/ui/panels/panel_browsertest.cc (left):\n\nhttp://codereview.chromium.org/8802021/diff/1/chrome/browser/ui/panels/panel_browsertest.cc#oldcode124\nchrome/browser/ui/panels/panel_browsertest.cc:124: EXPECT_EQ(Panel::IN_OVERFLOW, panel4->expansion_state());\nProbably ok to leave these lines in. especially line 133 to make sure that panel5 going to overflow did not affect panel4's state.\n\nhttp://codereview.chromium.org/8802021/diff/1/chrome/browser/ui/panels/panel_browsertest.cc\nFile chrome/browser/ui/panels/panel_browsertest.cc (right):\n\nhttp://codereview.chromium.org/8802021/diff/1/chrome/browser/ui/panels/panel_browsertest.cc#newcode552\nchrome/browser/ui/panels/panel_browsertest.cc:552: #if defined(OS_WIN)\nCan you put a comment here referencing the bug # that overflow is only enabled for Win right now?\n\nhttp://codereview.chromium.org/8802021/diff/1/chrome/browser/ui/panels/panel_strip.cc\nFile chrome/browser/ui/panels/panel_strip.cc (right):\n\nhttp://codereview.chromium.org/8802021/diff/1/chrome/browser/ui/panels/panel_strip.cc#newcode102\nchrome/browser/ui/panels/panel_strip.cc:102: panel->SetExpansionState(Panel::EXPANDED);\nMove this after line 104. Seems better than putting this in the middle of bounds calculations as SetExpansionState also results in bounds calculations.\n\nhttp://codereview.chromium.org/8802021/diff/1/chrome/browser/ui/panels/panel_strip.cc#newcode153\nchrome/browser/ui/panels/panel_strip.cc:153: panels_.push_back(panel);\nAdd DCHECK before this line that expansion state is EXPANDED.","disapproval":false,"date":"2011-12-05 21:20:09.930659","approval":true},{"sender":"jianli@chromium.org","recipients":["jianli@chromium.org","jennb@chromium.org","chromium-reviews@chromium.org","jennb@chromium.org","dimich@chromium.org","jianli@chromium.org","prasadt@chromium.org","dcheng@chromium.org","phajdan.jr@chromium.org"],"text":"All Jenn's feedbacks have been addressed.\n\nI only ran panel related tests for WIN try bot.\n\nWIN: http://build.chromium.org/p/tryserver.chromium/builders/win/builds/6706\n\nMAC: http://build.chromium.org/p/tryserver.chromium/builders/linux/builds/6371","disapproval":false,"date":"2011-12-05 23:05:38.195049","approval":false}],"owner_email":"jianli@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"jianli","subject":"Fix a couple panel overflow related bugs.","created":"2011-12-05 21:09:16.623230","patchsets":[1,5001],"modified":"2011-12-05 23:12:59.009610","closed":true,"commit":false,"issue":8802021}