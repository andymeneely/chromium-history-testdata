{"description":"Temporarily work around GPU process crash on Mac OS X.\n\nBUG=52957\nTEST=none (ran 3D CSS demos with --enable-accelerated-compositing)\n\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=57130","cc":["chromium-reviews@chromium.org","apatrick@chromium.org","rlp@chromium.org","vangelis@chromium.org","thakis@chromium.org"],"reviewers":["rlp@chromium.org","maf@chromium.org"],"messages":[{"sender":"kbr@chromium.org","recipients":["kbr@chromium.org","thakis@chromium.org","chromium-reviews@chromium.org","apatrick@chromium.org","rlp@chromium.org","maf@chromium.org","vangelis@chromium.org"],"text":"Please review. Thanks.","disapproval":false,"date":"2010-08-23 23:36:40.828417","approval":false},{"sender":"thakis@chromium.org","recipients":["kbr@chromium.org","thakis@chromium.org","chromium-reviews@chromium.org","apatrick@chromium.org","rlp@chromium.org","maf@chromium.org","vangelis@chromium.org"],"text":"temporarily LGTM.\n\nhave you cc'd rlp or informed him of this otherwise?","disapproval":false,"date":"2010-08-23 23:45:44.470548","approval":true},{"sender":"rlp@google.com","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"I'd rather fix this by commenting out the mac code temporarily as this will\nalso stop information from windows. I can get a fix for this now.\n\n- Rachel\n\nOn Mon, Aug 23, 2010 at 4:36 PM, <kbr@chromium.org> wrote:\n\n> Reviewers: Nico,\n>\n> Message:\n> Please review. Thanks.\n>\n>\n> Description:\n> Temporarily work around GPU process crash on Mac OS X.\n>\n> BUG=52957\n> TEST=none\n>\n>\n> Please review this at http://codereview.chromium.org/3150030/show\n>\n> SVN Base: svn://svn.chromium.org/chrome/trunk/src/\n>\n> Affected files:\n>  M     chrome/gpu/gpu_thread.cc\n>\n>\n> Index: chrome/gpu/gpu_thread.cc\n> ===================================================================\n> --- chrome/gpu/gpu_thread.cc    (revision 57118)\n> +++ chrome/gpu/gpu_thread.cc    (working copy)\n> @@ -122,8 +122,11 @@\n>   }\n>\n>   GPUInfo gpu_info;\n> -  gpu_info_collector::CollectGraphicsInfo(gpu_info);\n>\n> +  // TODO(rlp): this is crashing on Mac OS X because no OpenGL context\n> +  // is current at this point.\n> +  // gpu_info_collector::CollectGraphicsInfo(gpu_info);\n> +\n>   Send(new GpuHostMsg_ChannelEstablished(channel_handle, gpu_info));\n>  }\n>\n>\n>\n>\n","disapproval":false,"date":"2010-08-23 23:46:16.724266","approval":false},{"sender":"thakis@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"I think it's better to uncomment this on all 3 platforms until there's\na fix that works on all 3 platforms. Else it's hard for the ports to\nkeep up.\n\nOn Mon, Aug 23, 2010 at 4:45 PM, Rachel Weinstein Petterson\n<rlp@google.com> wrote:\n> I'd rather fix this by commenting out the mac code temporarily as this will\n> also stop information from windows. I can get a fix for this now.\n> - Rachel\n>\n> On Mon, Aug 23, 2010 at 4:36 PM, <kbr@chromium.org> wrote:\n>>\n>> Reviewers: Nico,\n>>\n>> Message:\n>> Please review. Thanks.\n>>\n>>\n>> Description:\n>> Temporarily work around GPU process crash on Mac OS X.\n>>\n>> BUG=52957\n>> TEST=none\n>>\n>>\n>> Please review this at http://codereview.chromium.org/3150030/show\n>>\n>> SVN Base: svn://svn.chromium.org/chrome/trunk/src/\n>>\n>> Affected files:\n>>  M     chrome/gpu/gpu_thread.cc\n>>\n>>\n>> Index: chrome/gpu/gpu_thread.cc\n>> ===================================================================\n>> --- chrome/gpu/gpu_thread.cc    (revision 57118)\n>> +++ chrome/gpu/gpu_thread.cc    (working copy)\n>> @@ -122,8 +122,11 @@\n>>   }\n>>\n>>   GPUInfo gpu_info;\n>> -  gpu_info_collector::CollectGraphicsInfo(gpu_info);\n>>\n>> +  // TODO(rlp): this is crashing on Mac OS X because no OpenGL context\n>> +  // is current at this point.\n>> +  // gpu_info_collector::CollectGraphicsInfo(gpu_info);\n>> +\n>>   Send(new GpuHostMsg_ChannelEstablished(channel_handle, gpu_info));\n>>  }\n>>\n>>\n>>\n>\n>\n","disapproval":false,"date":"2010-08-23 23:54:21.105286","approval":false},{"sender":"rlp@google.com","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"This doesn't exist for linux yet (my current project) so it's already\ncommented out there. This was first time mac was checked in. Given that most\nof our users are windows users, we'd be losing a lot of data and we're at\nthe stages of trying to figure out if we're even collecting. Maf says he can\nget a fix for this in the next day or so, so I'm fine keeping it commented\nout until then. But I'd like to make sure we keep the windows one sending us\ninformation for M7, even if the linux version doesn't make it into M7.\n\n- Rachel\n\nOn Mon, Aug 23, 2010 at 4:54 PM, Nico Weber <thakis@chromium.org> wrote:\n\n> I think it's better to uncomment this on all 3 platforms until there's\n> a fix that works on all 3 platforms. Else it's hard for the ports to\n> keep up.\n>\n> On Mon, Aug 23, 2010 at 4:45 PM, Rachel Weinstein Petterson\n> <rlp@google.com> wrote:\n> > I'd rather fix this by commenting out the mac code temporarily as this\n> will\n> > also stop information from windows. I can get a fix for this now.\n> > - Rachel\n> >\n> > On Mon, Aug 23, 2010 at 4:36 PM, <kbr@chromium.org> wrote:\n> >>\n> >> Reviewers: Nico,\n> >>\n> >> Message:\n> >> Please review. Thanks.\n> >>\n> >>\n> >> Description:\n> >> Temporarily work around GPU process crash on Mac OS X.\n> >>\n> >> BUG=52957\n> >> TEST=none\n> >>\n> >>\n> >> Please review this at http://codereview.chromium.org/3150030/show\n> >>\n> >> SVN Base: svn://svn.chromium.org/chrome/trunk/src/\n> >>\n> >> Affected files:\n> >>  M     chrome/gpu/gpu_thread.cc\n> >>\n> >>\n> >> Index: chrome/gpu/gpu_thread.cc\n> >> ===================================================================\n> >> --- chrome/gpu/gpu_thread.cc    (revision 57118)\n> >> +++ chrome/gpu/gpu_thread.cc    (working copy)\n> >> @@ -122,8 +122,11 @@\n> >>   }\n> >>\n> >>   GPUInfo gpu_info;\n> >> -  gpu_info_collector::CollectGraphicsInfo(gpu_info);\n> >>\n> >> +  // TODO(rlp): this is crashing on Mac OS X because no OpenGL context\n> >> +  // is current at this point.\n> >> +  // gpu_info_collector::CollectGraphicsInfo(gpu_info);\n> >> +\n> >>   Send(new GpuHostMsg_ChannelEstablished(channel_handle, gpu_info));\n> >>  }\n> >>\n> >>\n> >>\n> >\n> >\n>\n","disapproval":false,"date":"2010-08-24 00:03:27.733551","approval":false},{"sender":"kbr@chromium.org","recipients":["kbr@chromium.org","thakis@chromium.org","chromium-reviews@chromium.org","apatrick@chromium.org","rlp@chromium.org","maf@chromium.org","vangelis@chromium.org"],"text":"On 2010/08/23 23:46:16, rlp wrote:\n> I'd rather fix this by commenting out the mac code temporarily as this will\n> also stop information from windows. I can get a fix for this now.\n\nOK. I've uploaded a revised patch which only disables the Mac port and verified that the GPU process no longer crashes. Please review.\n\n> - Rachel\n> \n> On Mon, Aug 23, 2010 at 4:36 PM, <mailto:kbr@chromium.org> wrote:\n> \n> > Reviewers: Nico,\n> >\n> > Message:\n> > Please review. Thanks.\n> >\n> >\n> > Description:\n> > Temporarily work around GPU process crash on Mac OS X.\n> >\n> > BUG=52957\n> > TEST=none\n> >\n> >\n> > Please review this at http://codereview.chromium.org/3150030/show\n> >\n> > SVN Base: svn://svn.chromium.org/chrome/trunk/src/\n> >\n> > Affected files:\n> >  M     chrome/gpu/gpu_thread.cc\n> >\n> >\n> > Index: chrome/gpu/gpu_thread.cc\n> > ===================================================================\n> > --- chrome/gpu/gpu_thread.cc    (revision 57118)\n> > +++ chrome/gpu/gpu_thread.cc    (working copy)\n> > @@ -122,8 +122,11 @@\n> >   }\n> >\n> >   GPUInfo gpu_info;\n> > -  gpu_info_collector::CollectGraphicsInfo(gpu_info);\n> >\n> > +  // TODO(rlp): this is crashing on Mac OS X because no OpenGL context\n> > +  // is current at this point.\n> > +  // gpu_info_collector::CollectGraphicsInfo(gpu_info);\n> > +\n> >   Send(new GpuHostMsg_ChannelEstablished(channel_handle, gpu_info));\n> >  }\n> >\n> >\n> >\n> >\n>","disapproval":false,"date":"2010-08-24 00:41:24.678065","approval":false},{"sender":"kbr@chromium.org","recipients":["kbr@chromium.org","rlp@chromium.org","maf@chromium.org","chromium-reviews@chromium.org","apatrick@chromium.org","rlp@chromium.org","vangelis@chromium.org","thakis@chromium.org"],"text":"Changing reviewer list. Please review. Thanks.","disapproval":false,"date":"2010-08-24 00:42:17.578684","approval":false},{"sender":"rlp@chromium.org","recipients":["kbr@chromium.org","rlp@chromium.org","maf@chromium.org","chromium-reviews@chromium.org","apatrick@chromium.org","rlp@chromium.org","vangelis@chromium.org","thakis@chromium.org"],"text":"LGTM","disapproval":false,"date":"2010-08-24 00:44:12.262541","approval":true}],"owner_email":"kbr@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src/","owner":"Ken Russell","subject":"Temporarily work around GPU process crash on Mac OS X.","created":"2010-08-23 23:36:00.587555","patchsets":[1,8001],"modified":"2011-05-09 13:42:43.612323","closed":true,"commit":false,"issue":3150030}