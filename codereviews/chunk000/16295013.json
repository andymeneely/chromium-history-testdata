{"description":"Recurse to a maximum depth of 10 in v8_value_converter_impl.cc. There are \r\nobjects that get passed in (canonically <input> elements apparently) which\r\nrecurse infinitely (as opposed to having a self-referential loop).\r\n\r\nThe previous solution to this problem (r150035) was to disable getters, which\r\napparently were the main cause, but this is no longer appropriate - we now use \r\nthis mechanism for all extension messaging, and this has become a problem (see\r\nbug 246213).\r\n\r\nTBR=jamesr@chromium.org,\r\nR=mpcomplete@chromium.org\r\nBUG=246213,139933\r\n\r\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=204057","cc":["chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"reviewers":["mpcomplete@chromium.org","jamesr@chromium.org"],"messages":[{"sender":"kalman@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","jamesr@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"text":"","disapproval":false,"date":"2013-06-03 23:03:32.326190","approval":false},{"sender":"mpcomplete@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","jamesr@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"text":"lgtm\n\nhttps://codereview.chromium.org/16295013/diff/3010/content/renderer/v8_value_converter_impl.cc\nFile content/renderer/v8_value_converter_impl.cc (right):\n\nhttps://codereview.chromium.org/16295013/diff/3010/content/renderer/v8_value_converter_impl.cc#newcode64\ncontent/renderer/v8_value_converter_impl.cc:64: unique_map_.insert(std::pair<int, v8::Handle<v8::Object> >(hash, handle));\nwhy not unique_map_[hash] = handle?\nor make_pair instead of std::pair<>","disapproval":false,"date":"2013-06-03 23:15:38.133500","approval":true},{"sender":"kalman@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","jamesr@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"text":"https://codereview.chromium.org/16295013/diff/3010/content/renderer/v8_value_converter_impl.cc\nFile content/renderer/v8_value_converter_impl.cc (right):\n\nhttps://codereview.chromium.org/16295013/diff/3010/content/renderer/v8_value_converter_impl.cc#newcode64\ncontent/renderer/v8_value_converter_impl.cc:64: unique_map_.insert(std::pair<int, v8::Handle<v8::Object> >(hash, handle));\nOn 2013/06/03 23:15:38, Matt Perry wrote:\n> why not unique_map_[hash] = handle?\n> or make_pair instead of std::pair<>\n\nChanged to make_pair, nice cleanup, I don't want to think too hard about making much more than a super trivial change here since I didn't write the code.","disapproval":false,"date":"2013-06-04 00:15:05.769350","approval":false},{"sender":"kalman@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","jamesr@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"text":"ping - I know it hasn't been that long, but this is really blocking me.","disapproval":false,"date":"2013-06-04 18:53:30.512650","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","jamesr@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/kalman@chromium.org/16295013/7","disapproval":false,"date":"2013-06-04 19:24:22.338290","approval":false},{"sender":"jamesr@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","jamesr@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"text":"I don't really understand this code, but if Matt's happy then lgtm","disapproval":false,"date":"2013-06-04 19:27:18.123690","approval":true},{"sender":"kalman@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","jamesr@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org"],"text":"Committed patchset #11 manually as r204057 (presubmit successful).","disapproval":false,"date":"2013-06-04 22:01:39.347070","approval":false}],"owner_email":"kalman@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"kalman","subject":"Only recurse to depth 10 in v8_value_converter_impl.cc.","created":"2013-06-03 17:59:30.048350","patchsets":[1,2001,7001,3004,4,6003,12007,3010,4003,3011,7],"modified":"2013-06-04 23:08:00.021990","closed":true,"commit":false,"issue":16295013}