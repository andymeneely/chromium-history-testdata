{"files":{"chrome/browser/ui/webui/ntp/app_launcher_handler.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":1,"messages":[{"author":"Dan Beam","author_email":"dbeam@chromium.org","text":"how is this possible? nothing would be showing to be reordered until it's actually installed (which is after downloading)","draft":false,"lineno":292,"date":"2013-07-10 18:22:18.226010","left":false},{"author":"Dan Beam","author_email":"dbeam@chromium.org","text":"nit:\n\n  if (!extension) {\n    // Extension could still be downloading or installing.\n    return;\n  }","draft":false,"lineno":293,"date":"2013-07-10 18:22:18.226220","left":false},{"author":"Dan Beam","author_email":"dbeam@chromium.org","text":"On 2013/07/10 18:22:18, Dan Beam wrote:\n> how is this possible? nothing would be showing to be reordered until it's\n> actually installed (which is after downloading)\n\nis it possible that this is while an app is *uninstalling*?","draft":false,"lineno":292,"date":"2013-07-10 18:22:51.656860","left":false},{"author":"tapted","author_email":"tapted@chromium.org","text":"On 2013/07/10 18:22:18, Dan Beam wrote:\n> how is this possible? nothing would be showing to be reordered until it's\n> actually installed (which is after downloading)\n\nThe CrOS-style app launcher that's, uh, launching in Windows grabs a temporary icon from the webstore and loads it without the full Extension* to show a download progress bar. While the progress bar is showing, the app can be moved around (and I think it's a pretty likely use-case, e.g., for someone to move the app to a preferred page at this point).\n\nTo get the full gist, I put an animated gif of the Mac version at http://crbug.com/257960#c3 . Looks like crbug won't animate it inline, but downloading the attachment works.\n\nThe sequence of operations is the same as the logic in the added test, in extension_install_ui_browsertest.cc .","draft":false,"lineno":292,"date":"2013-07-11 00:09:15.725460","left":false},{"author":"tapted","author_email":"tapted@chromium.org","text":"On 2013/07/10 18:22:18, Dan Beam wrote:\n> nit:\n> \n>   if (!extension) {\n>     // Extension could still be downloading or installing.\n>     return;\n>   }\n\nDone.","draft":false,"lineno":293,"date":"2013-07-11 00:09:15.725730","left":false}],"id":3,"is_binary":false},"chrome/browser/extensions/extension_install_ui_browsertest.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":62,"num_removed":0,"messages":[{"author":"tapted","author_email":"tapted@chromium.org","text":"I think this is the limit of what we can check without a big overhaul, or making the test quite fragile. That is, the test has the problem that it doesn't (or can't) inspect what's going on in AppLauncherHandler or in the NTP DOMWindow. I verified that this test is getting coverage of the changed code, but it would be nice to check, e.g., that the NTP is actually showing two apps in the correct order. I confirmed that that is the case by putting content::RunMessageLoop() at the end of the test, but maybe that's not good enough.\n\nI thought of something like the following, but it's a mess:\n\n  std::string result;\n  EXPECT_TRUE(content::ExecuteScriptAndExtractString(\n        browser()->tab_strip_model()->GetActiveWebContents(),\n        \"document.querySelectorAll('.app-img-container')[0].title\",\n        &result));","draft":false,"lineno":225,"date":"2013-07-10 05:11:58.124630","left":false}],"id":2,"is_binary":false}},"owner_email":"tapted@chromium.org","owner":"tapted","message":null,"try_job_results":[{"parent_name":null,"tests":["browser_tests:NewTabUISortingBrowserTest.*"],"slave":"vm103-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/173995","timestamp":"2013-07-10 05:29:34.124305","builder":"win_rel","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjxLgw","requester":"tapted@chromium.org","buildnumber":"173995","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave253-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_chromeos/builds/133626","timestamp":"2013-07-10 05:08:31.833802","builder":"linux_chromeos","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjSDww","requester":"tapted@chromium.org","buildnumber":"133626","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave357-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_rel/builds/146905","timestamp":"2013-07-10 05:03:31.325953","builder":"linux_rel","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjfDww","requester":"tapted@chromium.org","buildnumber":"146905","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm667-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_asan/builds/39554","timestamp":"2013-07-10 04:53:35.815874","builder":"mac_asan","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjdDww","requester":"tapted@chromium.org","buildnumber":"39554","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm196-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win7_aura/builds/57725","timestamp":"2013-07-10 04:48:51.906835","builder":"win7_aura","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjTDww","requester":"tapted@chromium.org","buildnumber":"57725","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave387-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_aura/builds/58028","timestamp":"2013-07-10 04:47:25.695478","builder":"linux_aura","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjRDww","requester":"tapted@chromium.org","buildnumber":"58028","revision":"210691"},{"parent_name":"android_dbg","tests":["defaulttests"],"slave":"chromeperf68","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg_triggered_tests/builds/70026","timestamp":"2013-07-10 04:44:15.302891","builder":"android_dbg_triggered_tests","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(android_dbg)","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiJJww","requester":null,"buildnumber":"70026","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave359-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_asan/builds/38244","timestamp":"2013-07-10 04:39:01.614555","builder":"linux_asan","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjVDww","requester":"tapted@chromium.org","buildnumber":"38244","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm668-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_rel/builds/147286","timestamp":"2013-07-10 04:37:32.276578","builder":"mac_rel","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjeDww","requester":"tapted@chromium.org","buildnumber":"147286","revision":"210691"},{"parent_name":null,"tests":["compile"],"slave":"vm133-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win/builds/90761","timestamp":"2013-07-10 04:30:15.765849","builder":"win","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjWDww","requester":"tapted@chromium.org","buildnumber":"90761","revision":"210691"},{"parent_name":null,"tests":["compile"],"slave":"vm468-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_clang/builds/122884","timestamp":"2013-07-10 04:16:23.770653","builder":"linux_clang","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjbDww","requester":"tapted@chromium.org","buildnumber":"122884","revision":"210691"},{"parent_name":"linux_rel","tests":["defaulttests"],"slave":"vm15-m4#9","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/19930","timestamp":"2013-07-10 04:10:39.102091","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(swarm_triggered)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBi5Fww","requester":null,"buildnumber":"19930","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm413-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg/builds/82591","timestamp":"2013-07-10 04:10:24.289030","builder":"android_dbg","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjaDww","requester":"tapted@chromium.org","buildnumber":"82591","revision":"210691"},{"parent_name":"mac_rel","tests":["defaulttests"],"slave":"vm14-m4#1","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/19932","timestamp":"2013-07-10 04:05:34.700270","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(swarm_triggered)","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBihHww","requester":null,"buildnumber":"19932","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"mini27-l1","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_dbg_simulator/builds/67874","timestamp":"2013-07-10 04:03:26.251061","builder":"ios_dbg_simulator","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjXDww","requester":"tapted@chromium.org","buildnumber":"67874","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm393-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_clang_dbg/builds/59146","timestamp":"2013-07-10 03:59:54.540721","builder":"android_clang_dbg","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjUDww","requester":"tapted@chromium.org","buildnumber":"59146","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm510-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/173978","timestamp":"2013-07-10 03:59:28.955566","builder":"win_rel","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjcDww","requester":"tapted@chromium.org","buildnumber":"173978","revision":"210691"},{"parent_name":null,"tests":["compile"],"slave":"vm677-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac/builds/68154","timestamp":"2013-07-10 03:59:04.896486","builder":"mac","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjZDww","requester":"tapted@chromium.org","buildnumber":"68154","revision":"210691"},{"parent_name":null,"tests":["defaulttests"],"slave":"mini28-l1","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_rel_device/builds/64333","timestamp":"2013-07-10 03:58:26.811142","builder":"ios_rel_device","clobber":false,"project":"Chromium Try Server","reason":"20130709-crbug-257960-app-launcher-reorder-crash","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY2_H7CAwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjYDww","requester":"tapted@chromium.org","buildnumber":"64333","revision":"210691"}],"created":"2013-07-10 03:51:38.814750","url":null,"num_comments":6,"modified":"2013-07-11 00:09:15.765670","patchset":1,"issue":18807003}