{"description":"Generate header file of Linux version information (currently gyp-only).\r\n\r\nThis isn't yet #included in file_version_info_linux.cc since we haven't\r\nofficially cutover to the gyp build.\r\n\r\nBUG=8132","cc":["chromium-reviews@googlegroups.com"],"reviewers":["sgk@chromium.org","tony@chromium.org","agl@chromium.org","mark@chromium.org"],"messages":[{"sender":"mmoss@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","chromium-reviews@googlegroups.com"],"text":"","disapproval":false,"date":"2009-03-23 22:45:09.869284","approval":false},{"sender":"tony@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/45028/diff/1005/6\nFile base/base.gyp (right):\n\nhttp://codereview.chromium.org/45028/diff/1005/6#newcode323\nLine 323: 'actions': [\nI think we still use base.scons unless people are building with _GYP, right?  Does there need to be a change to base.scons for now?\n\nhttp://codereview.chromium.org/45028/diff/1005/9\nFile chrome/tools/build/linux/version.sh (right):\n\nhttp://codereview.chromium.org/45028/diff/1005/9#newcode28\nLine 28: LASTCHANGE=$(svn info | grep \"Revision:\" | cut -d\" \" -f2-)\nWhat happens if the user has git (svn info returns \"svn: '.' is not a working copy\"?  It would be nice if this didn't stop the build, although it's ok if the revision is wrong in that case.  It would be awesome if it still did the right thing.","disapproval":false,"date":"2009-03-23 23:20:14.277943","approval":false},{"sender":"tony@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","agl@chromium.org","chromium-reviews@googlegroups.com"],"text":"Oh, nevermind, I didn't read the change description.  This is intentionally gyp only.  Ok, LGTM!\n\ncc'ing adam since it may break his build.\n\nOn 2009/03/23 23:20:14, tony wrote:\n> http://codereview.chromium.org/45028/diff/1005/6\n> File base/base.gyp (right):\n> \n> http://codereview.chromium.org/45028/diff/1005/6#newcode323\n> Line 323: 'actions': [\n> I think we still use base.scons unless people are building with _GYP, right? \n> Does there need to be a change to base.scons for now?\n> \n> http://codereview.chromium.org/45028/diff/1005/9\n> File chrome/tools/build/linux/version.sh (right):\n> \n> http://codereview.chromium.org/45028/diff/1005/9#newcode28\n> Line 28: LASTCHANGE=$(svn info | grep \"Revision:\" | cut -d\" \" -f2-)\n> What happens if the user has git (svn info returns \"svn: '.' is not a working\n> copy\"?  It would be nice if this didn't stop the build, although it's ok if the\n> revision is wrong in that case.  It would be awesome if it still did the right\n> thing.","disapproval":false,"date":"2009-03-23 23:22:42.538274","approval":true},{"sender":"mmoss@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","agl@chromium.org","chromium-reviews@googlegroups.com"],"text":"> cc'ing adam since it may break his build.\n\nUgh, I think I see what you meant now, since I had the .cc file in there. I thought I had taken that out before I sent the review (it should have only been part of Issue 42542).\n\n> > http://codereview.chromium.org/45028/diff/1005/9#newcode28\n> > Line 28: LASTCHANGE=$(svn info | grep \"Revision:\" | cut -d\" \" -f2-)\n> > What happens if the user has git (svn info returns \"svn: '.' is not a working\n> > copy\"?  It would be nice if this didn't stop the build, although it's ok if\n> the\n> > revision is wrong in that case.  It would be awesome if it still did the right\n> > thing.\n\nYeah, I figured it was fine for it to just be blank in the git case, since I was mainly concerned with the buildbot builds, which are svn, but I decided to add a git-svn fallback since that's what I use too.","disapproval":false,"date":"2009-03-23 23:54:54.250397","approval":false},{"sender":"sgk@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","agl@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/45028/diff/2006/3004\nFile chrome/tools/build/linux/version.sh (right):\n\nhttp://codereview.chromium.org/45028/diff/2006/3004#newcode9\nLine 9: # shell so we can share the code?\nHow about translating not into sh but into Python?  The general portability is significantly better, and that's what we're doing with a lot of the other scripts.","disapproval":false,"date":"2009-03-24 00:01:49.480316","approval":false},{"sender":"mark@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","agl@chromium.org","mark@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/45028/diff/2006/3004\nFile chrome/tools/build/linux/version.sh (right):\n\nhttp://codereview.chromium.org/45028/diff/2006/3004#newcode1\nLine 1: #!/bin/sh\nBe sure to set svn:executable on this.  You've invoked it in the .gyp file without calling 'sh' first, so this must be executable.","disapproval":false,"date":"2009-03-24 00:11:29.930437","approval":false},{"sender":"mark@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","agl@chromium.org","mark@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/45028/diff/2006/3002\nFile base/base.gyp (right):\n\nhttp://codereview.chromium.org/45028/diff/2006/3002#newcode333\nLine 333: # TODO(mmoss) What about google-chrome/BRANDING? Build fails\nYou should write, within this action:\n\n'conditions': [\n  ['branding==\"Chrome\"', {\n    'inputs': ['../chrome/app/theme/google-chrome/BRANDING']\n  }, {  # else: branding!=\"Chrome\"\n    'inputs': ['../chrome/app/theme/chrome/BRANDING']\n  }],\n],\n\nand remove BRANDING from the \"normal\" inputs list.  The correct BRANDING file will be added to inputs depending on the state of the \"branding\" GYP variable.","disapproval":false,"date":"2009-03-24 00:14:27.884700","approval":false},{"sender":"mmoss@chromium.org","recipients":["mmoss@chromium.org","sgk@chromium.org","tony@chromium.org","agl@chromium.org","mark@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/45028/diff/2006/3002\nFile base/base.gyp (right):\n\nhttp://codereview.chromium.org/45028/diff/2006/3002#newcode333\nLine 333: # TODO(mmoss) What about google-chrome/BRANDING? Build fails\nDone. Thanks for the tip.","disapproval":false,"date":"2009-03-24 17:20:08.760550","approval":false}],"owner_email":"mmoss@chromium.org","private":false,"base_url":"","owner":"Michael Moss","subject":"Generate header file of Linux version information (currently gyp-only).","created":"2009-03-23 21:36:22.764627","patchsets":[1,1005,2006,2008],"modified":"2011-05-09 13:48:24.787651","closed":true,"commit":false,"issue":45028}