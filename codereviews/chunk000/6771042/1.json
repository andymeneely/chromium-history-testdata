{"files":{"ppapi/proxy/ppb_surface_3d_proxy.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":0,"messages":[],"id":4,"is_binary":false},"ppapi/proxy/plugin_resource_tracker.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":18,"num_removed":17,"messages":[{"author":"brettw","author_email":"brettw@chromium.org","text":"Can you give an example of when a destructor might be re-entrant?","draft":false,"lineno":124,"date":"2011-04-01 05:23:53.495701","left":false},{"author":"piman","author_email":"piman@chromium.org","text":"On 2011/04/01 05:23:53, brettw wrote:\n> Can you give an example of when a destructor might be re-entrant?\n\nThe case I'm worried about is ~Context3D destroying the command buffers, that does a Finish() before destroying (sync IPC), that ends up executing a pending SwapBuffers, that send back a SwapBuffersACK that would try to access the context through the map. \n\nTechnically, with the message unblock we added, it shouldn't happen today (the SwapBuffersAck would be delayed). But I want to future-proof it, the failure case would be bad (use after free) and difficult to debug - in case we find a better solution.","draft":false,"lineno":124,"date":"2011-04-01 05:34:09.712319","left":false}],"id":2,"is_binary":false},"ppapi/proxy/plugin_resource_tracker.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":5,"messages":[],"id":3,"is_binary":false},"ppapi/proxy/ppb_surface_3d_proxy.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":1,"messages":[],"id":5,"is_binary":false}},"owner_email":"piman@chromium.org","owner":"piman","message":null,"try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac&number=20232","timestamp":"2011-04-01 05:39:36.265340","builder":"mac","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY4qKdAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiJJww","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win&number=24216","timestamp":"2011-04-01 05:39:36.265340","builder":"win","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY4qKdAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiKJww","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux&number=19676","timestamp":"2011-04-01 05:39:36.265340","builder":"linux","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY4qKdAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBiLJww","requester":null,"buildnumber":null,"revision":null}],"created":"2011-04-01 04:01:00.834515","url":null,"num_comments":2,"modified":"2012-01-13 14:30:42.868613","patchset":1,"issue":6771042}