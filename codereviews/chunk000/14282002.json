{"description":"Added support for displaying the select folder picker in Chrome ASH on Windows 8.\n\nThe current behavior is that the select folder picker displays in desktop mode even when\nwhen performed in ASH.\n\nFixes are as below:-\n1. In the Chrome browser added plumbing in the SelectFileDialogImpl class to forward this\n   operation of to the metro viewer process via the newly added function HandedSelectFolder\n   which lives in the aura namespace in the remote_window_host_win.cc file.\n\n2. In the metro viewer code added a new class FolderPickerSession which provides the functionality\n   for displaying the metro select folder picker and returning the results from the same.\n\n3. The following IPC messages provide the necessary functionality to funnel the request\n   and the result between the browser and the metro viewer process.\n   MetroViewerHostMsg_DisplaySelectFolder\n   MetroViewerHostMsg_SelectFolderDone\n\nI also added code to save away the metro root window in the RemoteRootWindowHostWin class\nwhen we receive the MetroViewerHostMsg_SetTargetSurface IPC from the viewer process. We \nreturn this window in the RemoteRootWindowHostWin::GetAcceleratedWidget function. This\nchange although not needed for this CL seems correct. \n\nBUG=230087\nR=cpu,sky\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=195224","cc":["chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"reviewers":["cpu@chromium.org","ben@chromium.org","palmer@chromium.org"],"messages":[{"sender":"ananta@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"","disapproval":false,"date":"2013-04-16 01:39:39.001330","approval":false},{"sender":"cpu@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"can we remove the metro_window_ thing from this CL?\n\nLets make a different CL with it and discuss that there.","disapproval":false,"date":"2013-04-16 22:24:14.249850","approval":false},{"sender":"cpu@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"When the user switches away from metro, we need to cancel any folder picking, is that happening today?","disapproval":false,"date":"2013-04-16 22:25:20.406910","approval":false},{"sender":"ananta@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"On 2013/04/16 22:25:20, cpu wrote:\n> When the user switches away from metro, we need to cancel any folder picking, is\n> that happening today?\n\nI removed the metro_window_ changes from this CL. Regarding the cancelling of the folder_picking when we switch away from Chrome, as per our discussion leaving this behavior as is.","disapproval":false,"date":"2013-04-17 01:05:57.015730","approval":false},{"sender":"cpu@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-04-17 21:46:59.376680","approval":true},{"sender":"ananta@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","ben@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"Adding Ben for ui OWNERS lgtm","disapproval":false,"date":"2013-04-17 22:05:32.814870","approval":false},{"sender":"ben@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","ben@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-04-18 18:20:53.860630","approval":true},{"sender":"palmer@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","ben@chromium.org","palmer@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"https://codereview.chromium.org/14282002/diff/15001/ui/aura/remote_root_window_host_win.cc\nFile ui/aura/remote_root_window_host_win.cc (right):\n\nhttps://codereview.chromium.org/14282002/diff/15001/ui/aura/remote_root_window_host_win.cc#newcode170\nui/aura/remote_root_window_host_win.cc:170: // Can only have have one of these operations in flight.\nOnly need one \"have\". :)\n\nhttps://codereview.chromium.org/14282002/diff/15001/ui/metro_viewer/metro_viewer_messages.h\nFile ui/metro_viewer/metro_viewer_messages.h (right):\n\nhttps://codereview.chromium.org/14282002/diff/15001/ui/metro_viewer/metro_viewer_messages.h#newcode91\nui/metro_viewer/metro_viewer_messages.h:91: string16)       /* filepath*/\nThis, and the others, should really be base::FilePath. Can you please change this one, and file a bug to convert the others too?","disapproval":false,"date":"2013-04-18 22:58:07.966220","approval":false},{"sender":"ananta@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","ben@chromium.org","palmer@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"https://codereview.chromium.org/14282002/diff/15001/ui/aura/remote_root_window_host_win.cc\nFile ui/aura/remote_root_window_host_win.cc (right):\n\nhttps://codereview.chromium.org/14282002/diff/15001/ui/aura/remote_root_window_host_win.cc#newcode170\nui/aura/remote_root_window_host_win.cc:170: // Can only have have one of these operations in flight.\nOn 2013/04/18 22:58:08, Chromium Palmer wrote:\n> Only need one \"have\". :)\n\nDone.\n\nhttps://codereview.chromium.org/14282002/diff/15001/ui/metro_viewer/metro_viewer_messages.h\nFile ui/metro_viewer/metro_viewer_messages.h (right):\n\nhttps://codereview.chromium.org/14282002/diff/15001/ui/metro_viewer/metro_viewer_messages.h#newcode91\nui/metro_viewer/metro_viewer_messages.h:91: string16)       /* filepath*/\nOn 2013/04/18 22:58:08, Chromium Palmer wrote:\n> This, and the others, should really be base::FilePath. Can you please change\n> this one, and file a bug to convert the others too?\nI changed all the IPCs to take in FilePaths.","disapproval":false,"date":"2013-04-19 00:23:24.438540","approval":false},{"sender":"palmer@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","ben@chromium.org","palmer@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"IPC security LGTM. Thanks!","disapproval":false,"date":"2013-04-19 01:10:28.621840","approval":true},{"sender":"ananta@chromium.org","recipients":["ananta@chromium.org","cpu@chromium.org","ben@chromium.org","palmer@chromium.org","chromium-reviews@chromium.org","sadrul@chromium.org","ben+watch@chromium.org"],"text":"Committed patchset #4 manually as r195224 (presubmit successful).","disapproval":false,"date":"2013-04-19 17:44:26.739180","approval":false}],"owner_email":"ananta@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src/","owner":"ananta","subject":"Added support for displaying the select folder picker in Chrome ASH on Windows 8.","created":"2013-04-16 01:39:31.198600","patchsets":[1,8001,15001,28001],"modified":"2013-04-19 17:44:26.874240","closed":true,"commit":false,"issue":14282002}