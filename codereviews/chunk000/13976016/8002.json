{"files":{"content/renderer/render_thread_impl.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":0,"messages":[],"id":9007,"is_binary":false},"content/renderer/media/media_stream_dependency_factory.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":0,"messages":[],"id":9006,"is_binary":false},"content/renderer/webrtc_logging_handler_impl.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":0,"messages":[],"id":9008,"is_binary":false},"content/renderer/media/media_stream_dependency_factory.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":32,"num_removed":1,"messages":[{"author":"tommi","author_email":"tommi@chromium.org","text":"Thanks for making the changes.  After taking a look at the WebRtcLoggingHandlerImpl class, I have one more request.\n\nInstead of creating the WebRtcLoggingHandlerImpl object here, post a task to the IO thread and create the instance there.\nIn that task, you can also call InitLogging directly.\n\nThen, remove the io_message_loop_ member variable from WebRtcLoggingHandlerImpl.  That variable is only used for dchecking on correct thread usage.  Instead, inherit from NonThreadSafe (or use a thread checker) and replace the DCHECKs with CalledFromValidThread() calls.\n\nThat way the class is much simpler, no passing of specific message queue pointers is required and the class is officially single threaded whereas now it is created on one thread and used on another.","draft":false,"lineno":469,"date":"2013-04-22 13:07:04.893720","left":false},{"author":"Henrik Grunell","author_email":"grunell@chromium.org","text":"On 2013/04/22 13:07:04, tommi wrote:\n> Thanks for making the changes.  After taking a look at the\n> WebRtcLoggingHandlerImpl class, I have one more request.\n> \n> Instead of creating the WebRtcLoggingHandlerImpl object here, post a task to the\n> IO thread and create the instance there.\n> In that task, you can also call InitLogging directly.\n> \n> Then, remove the io_message_loop_ member variable from WebRtcLoggingHandlerImpl.\n>  That variable is only used for dchecking on correct thread usage.  Instead,\n> inherit from NonThreadSafe (or use a thread checker) and replace the DCHECKs\n> with CalledFromValidThread() calls.\n> \n> That way the class is much simpler, no passing of specific message queue\n> pointers is required and the class is officially single threaded whereas now it\n> is created on one thread and used on another.\n\nSGTM. Done.","draft":false,"lineno":469,"date":"2013-04-23 19:30:55.784410","left":false}],"id":9005,"is_binary":false},"content/renderer/webrtc_logging_message_filter.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":1,"messages":[],"id":9009,"is_binary":false},"content/renderer/webrtc_logging_message_filter.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":9010,"is_binary":false}},"owner_email":"grunell@chromium.org","owner":"Henrik Grunell","message":"Code review.","try_job_results":[],"created":"2013-04-22 12:56:47.320220","url":null,"num_comments":2,"modified":"2013-04-23 19:30:55.832850","patchset":8002,"issue":13976016}