{"description":"Allow chromium to be built with some system libs by introducing\r\na variable called SYSTEM_LIBS, consisting of a comma-separated\r\nlist of system libraries. So far, bzip2, libpng, libjpeg,\r\nlibxml, libxslt, lzma_sdk, zlib, hunspell, sqlite, libevent are recognized.\r\n\r\nBUG=4321\r\n","cc":["chromium-reviews@googlegroups.com"],"reviewers":["evan@chromium.org","sgk@chromium.org","mmoss@chromium.org"],"messages":[{"sender":"evan@chromium.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/10626/diff/1/5\nFile build/SConscript.main (right):\n\nhttp://codereview.chromium.org/10626/diff/1/5#newcode32\nLine 32: # System libs\nThis comment isn't useful, as it's identical to the variable name.  It would be useful to document what these variables are.\n\nhttp://codereview.chromium.org/10626/diff/1/5#newcode102\nLine 102: root_env['system_libs'] = ARGUMENTS.get('SYSTEM_LIBS')\nCan you put a comment above this block of code describing what it's doing?\n\nhttp://codereview.chromium.org/10626/diff/1/5#newcode104\nLine 104: root_env['system_libs'] = root_env['system_libs'].split(',')\nwe use two-space tabs, which needs to be fixed here and elsewhere\n\nhttp://codereview.chromium.org/10626/diff/1/5#newcode108\nLine 108: def WantSystemLib(env, l):\nCan you put a docstring on this?\nWe avoid one-letter variable names unless it's self-evident (like \"i\" in a loop).","disapproval":false,"date":"2008-11-12 01:20:14.411529","approval":false},{"sender":"mmoss@chromium.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/10626/diff/1/5\nFile build/SConscript.main (right):\n\nhttp://codereview.chromium.org/10626/diff/1/5#newcode33\nLine 33: all_system_libs = [],\nTo add to Evan, describing the difference between these two very similarly named vars would be good. Making the difference more self-evident in the names would be even better.\n\nhttp://codereview.chromium.org/10626/diff/1/5#newcode689\nLine 689: be used from the system (not be built here):\nThis description is a little vague to me. Maybe something like \"... system libraries to link dynamically (by default they are built in from included sources)\"","disapproval":false,"date":"2008-11-12 03:49:37.293376","approval":false},{"sender":"fta@sofaraway.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"","disapproval":false,"date":"2008-11-12 21:22:34.836677","approval":false},{"sender":"evan@chromium.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"http://codereview.chromium.org/10626/diff/14/18\nFile build/SConscript.main (right):\n\nhttp://codereview.chromium.org/10626/diff/14/18#newcode102\nLine 102: # SYSTEM_LIBS variable\nCan you put this comment up by where the variables are declared?  And note that SYSTEM_LIBS comes from the command line, and describe all_system_libs as well.\n\nThen the comment here can be something like \"fill in req_system_libs from the SYSTEM_LIBS command-line arg\".\n\nhttp://codereview.chromium.org/10626/diff/14/18#newcode103\nLine 103: root_env['req_system_libs'] = ARGUMENTS.get('SYSTEM_LIBS')\nYou might be able to get away with\n... = ARGUMENTS.get('SYSTEM_LIBS', '').split(',')\nand eliminate the if/else below.\n\nhttp://codereview.chromium.org/10626/diff/14/18#newcode112\nLine 112: Also store its name into the 'all_system_libs' env variable so it could later be\nCan you make this fit in 80 columns?","disapproval":false,"date":"2008-11-12 21:42:26.589070","approval":false},{"sender":"fta@sofaraway.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"","disapproval":false,"date":"2008-11-12 22:06:36.639519","approval":false},{"sender":"evan@chromium.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"LGTM\n\nLooks great.  Can you put yourself in the AUTHORS file once you've done the CLA?  And I'll commit it.","disapproval":false,"date":"2008-11-12 22:15:10.095590","approval":true},{"sender":"mmoss@chromium.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"> http://codereview.chromium.org/10626/diff/14/18#newcode103\n> Line 103: root_env['req_system_libs'] = ARGUMENTS.get('SYSTEM_LIBS')\n> You might be able to get away with\n> ... = ARGUMENTS.get('SYSTEM_LIBS', '').split(',')\n> and eliminate the if/else below.\n\nDoes this really work? I think if 'SYSTEM_LIBS' isn't in ARGUMENTS, get() returns None, which fails when you call split() on it.","disapproval":false,"date":"2008-11-12 22:17:37.483629","approval":false},{"sender":"evan@chromium.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"On 2008/11/12 22:17:37, mmoss wrote:\n> > http://codereview.chromium.org/10626/diff/14/18#newcode103\n> > Line 103: root_env['req_system_libs'] = ARGUMENTS.get('SYSTEM_LIBS')\n> > You might be able to get away with\n> > ... = ARGUMENTS.get('SYSTEM_LIBS', '').split(',')\n> > and eliminate the if/else below.\n> \n> Does this really work? I think if 'SYSTEM_LIBS' isn't in ARGUMENTS, get()\n> returns None, which fails when you call split() on it.\n\nThe second argument to get() is the default fallback value.","disapproval":false,"date":"2008-11-12 22:21:09.890432","approval":false},{"sender":"fta@sofaraway.org","recipients":["fta@sofaraway.org","evan@chromium.org","sgk@chromium.org","mmoss@chromium.org","chromium-reviews@googlegroups.com"],"text":"The same + AUTHORS","disapproval":false,"date":"2008-11-12 23:01:16.829656","approval":false}],"owner_email":"fta@sofaraway.org","private":false,"base_url":"http://src.chromium.org/svn/trunk/src/","owner":"fta","subject":"Allow chromium to be built with some system libs by introducing...","created":"2008-11-12 01:04:54.772204","patchsets":[1,14,30,41],"modified":"2011-05-09 13:15:35.550702","closed":true,"commit":false,"issue":10626}