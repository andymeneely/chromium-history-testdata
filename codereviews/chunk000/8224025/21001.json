{"files":{"chrome/test/functional/sync.py":{"status":"M    ","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":20,"messages":[],"id":21003,"is_binary":false},"chrome/test/functional/test_utils.py":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":70,"num_removed":0,"messages":[{"author":"Nirnimesh","author_email":"nirnimesh@chromium.org","text":"No, all this was fine in pyauto.py\n\nI meant that you should create the new browser and test server in setUp/tearDown in the tests that need it.","draft":false,"lineno":359,"date":"2011-10-14 01:19:00.124333","left":false},{"author":"dyu1","author_email":"dyu@chromium.org","text":"I moved it back to pyauto.py but your comment about having setup and tear down\nin the tests themselves is still unclear. In bookmarks.py I currently have two\ntest classes. One is strictly bookmarks tests and one I created to integrate\nsync testing with bookmarks. The second test class has the setup and tear down\nso it does not affect the first test class. The discriminating between the two\ntest classes is done, so I'm confused what still needs to be done?\n\nAbout the new browser, do you want it to be launched in setUp? If this is the\ncase then there is no control over the point of creation during the test.\nCurrently you can terminate it before the test finishes at any point by calling\nnew_browser.tearDown().","draft":false,"lineno":359,"date":"2011-10-16 22:33:12.835887","left":false}],"id":21004,"is_binary":false},"chrome/test/pyautolib/pyauto.py":{"status":"M    ","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":73,"num_removed":0,"messages":[],"id":21005,"is_binary":false},"chrome/test/functional/bookmarks.py":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":73,"num_removed":0,"messages":[{"author":"Nirnimesh","author_email":"nirnimesh@chromium.org","text":"ChromeFlagsForSyncTestServer should be in pyauto.py -- it seems general enough.","draft":false,"lineno":492,"date":"2011-10-14 01:19:00.123505","left":false},{"author":"Nirnimesh","author_email":"nirnimesh@chromium.org","text":"Move it after pyauto.PyUITest.setUp(), so that you won't need to try/except block","draft":false,"lineno":497,"date":"2011-10-14 01:19:00.123775","left":false},{"author":"Nirnimesh","author_email":"nirnimesh@chromium.org","text":"remove try/except. Move self.KillPythonSyncServer() before pyauto.PyUITest.tearDown(self)","draft":false,"lineno":506,"date":"2011-10-14 01:19:00.124071","left":false},{"author":"dyu1","author_email":"dyu@chromium.org","text":"On 2011/10/14 01:19:00, Nirnimesh wrote:\n> ChromeFlagsForSyncTestServer should be in pyauto.py -- it seems general enough.\n\nDone.","draft":false,"lineno":492,"date":"2011-10-16 22:33:12.835003","left":false},{"author":"dyu1","author_email":"dyu@chromium.org","text":"This cannot be done. The reason being that the server's ports are needed before\nthe call to ExtraChromeFlags(). We never explicitly call ExtraChromeFlags() but\nrather it is called implicitly by pyauto.PyUITest.setUp(self). \n\nFirst the sync server needs to launch, which will provide the ports and then\ncall pyauto.PyUITest.setUp(self) which in turn will call ExtraChromeFlags() with\nthe prot numbers passed to flags. \n\nThe only thing I'm able to change at this point is to get rid of the try:except:\nblock. Of course this makes the assumption that pyauto.PyUITest.setUp(self) wont\nraise any exceptions. Do you think this is the right assumption to make?\n\n","draft":false,"lineno":497,"date":"2011-10-16 22:33:12.835312","left":false},{"author":"dyu1","author_email":"dyu@chromium.org","text":"On 2011/10/14 01:19:00, Nirnimesh wrote:\n> remove try/except. Move self.KillPythonSyncServer() before\n> pyauto.PyUITest.tearDown(self)\n\nDone.","draft":false,"lineno":506,"date":"2011-10-16 22:33:12.835597","left":false}],"id":21002,"is_binary":false}},"owner_email":"dyu@chromium.org","owner":"dyu1","message":"''","try_job_results":[],"created":"2011-10-14 00:25:08.699252","url":null,"num_comments":8,"modified":"2011-10-16 22:33:12.906643","patchset":21001,"issue":8224025}