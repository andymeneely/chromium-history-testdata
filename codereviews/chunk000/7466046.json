{"description":"Stopping using DiskChanged event for mount/unmount event processing in FileBrowserEventRouter and some bug fixes.\n\nUnmountPath now expects mount_path to be passed to it.\n\nHiding device notification when disk added event is triggered instead when some\ndevice is mounted (notification handleing needs some more work).\n\nFixed chromium-os:18339 and chromium-os:17777\n\n\nBUG=chromium-os:18399, chromium-os:17531, chromium-os:17777\nTEST=Made sure FileBrowser works as expected on Cr48.\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=96419","cc":["chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"reviewers":["dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org"],"messages":[{"sender":"tbarzic@chromium.org","recipients":["tbarzic@chromium.org","dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"text":"","disapproval":false,"date":"2011-08-03 22:37:45.239348","approval":false},{"sender":"tbarzic@chromium.org","recipients":["tbarzic@chromium.org","dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"text":"On 2011/08/03 22:37:45, toni wrote:\n\nping?","disapproval":false,"date":"2011-08-08 18:37:20.180110","approval":false},{"sender":"zelidrag@chromium.org","recipients":["tbarzic@chromium.org","dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"text":"http://codereview.chromium.org/7466046/diff/13001/chrome/app/generated_resources.grd\nFile chrome/app/generated_resources.grd (right):\n\nhttp://codereview.chromium.org/7466046/diff/13001/chrome/app/generated_resources.grd#newcode12223\nchrome/app/generated_resources.grd:12223: Sorry, <ph name=\"DEVICE_LABEL\">$1<ex>SD card</ex></ph> is not supported on your Chromebook at this time.\nstring changes can't be in for M14. please take a look at the existing strings and see if you can use some of them now instead. the message does not have to be so verbose.\n\nfor m15, send these two sentences to Ken/Josh to approve them","disapproval":false,"date":"2011-08-08 18:47:19.514655","approval":false},{"sender":"tbarzic@chromium.org","recipients":["tbarzic@chromium.org","dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"text":"http://codereview.chromium.org/7466046/diff/13001/chrome/app/generated_resources.grd\nFile chrome/app/generated_resources.grd (right):\n\nhttp://codereview.chromium.org/7466046/diff/13001/chrome/app/generated_resources.grd#newcode12223\nchrome/app/generated_resources.grd:12223: Sorry, <ph name=\"DEVICE_LABEL\">$1<ex>SD card</ex></ph> is not supported on your Chromebook at this time.\nOn 2011/08/08 18:47:19, zel wrote:\n> string changes can't be in for M14. please take a look at the existing strings\n> and see if you can use some of them now instead. the message does not have to be\n> so verbose.\n> \n> for m15, send these two sentences to Ken/Josh to approve them  \n\nDone.","disapproval":false,"date":"2011-08-09 00:03:34.690630","approval":false},{"sender":"zelidrag@chromium.org","recipients":["tbarzic@chromium.org","dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"text":"http://codereview.chromium.org/7466046/diff/21008/chrome/browser/chromeos/cros/mount_library.cc\nFile chrome/browser/chromeos/cros/mount_library.cc (left):\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/chromeos/cros/mount_library.cc#oldcode333\nchrome/browser/chromeos/cros/mount_library.cc:333: void OnUnmountPath(const char* source_path,\nis this param now really mount_path? or is it mount_source_path?\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/resources/file_manager/js/file_manager.js\nFile chrome/browser/resources/file_manager/js/file_manager.js (right):\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/resources/file_manager/js/file_manager.js#newcode141\nchrome/browser/resources/file_manager/js/file_manager.js:141: this.onDiskChanged_.bind(this));\nwhy don't we remove this if this function is no longer needed?\n\nalso file a bug to remove this event from extension API as well\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/resources/file_manager/js/file_manager.js#newcode2382\nchrome/browser/resources/file_manager/js/file_manager.js:2382: FileManager.prototype.onDiskChanged_ = function(event) {\nwhy don't we remove this?","disapproval":false,"date":"2011-08-09 00:09:45.135974","approval":false},{"sender":"tbarzic@chromium.org","recipients":["tbarzic@chromium.org","dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"text":"http://codereview.chromium.org/7466046/diff/21008/chrome/browser/chromeos/cros/mount_library.cc\nFile chrome/browser/chromeos/cros/mount_library.cc (left):\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/chromeos/cros/mount_library.cc#oldcode333\nchrome/browser/chromeos/cros/mount_library.cc:333: void OnUnmountPath(const char* source_path,\nOn 2011/08/09 00:09:45, zel wrote:\n> is this param now really mount_path? or is it mount_source_path?\n\nIts really mount_path.. calling with source path does unmount device, but GetMountPoints does not work fine with it..\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/resources/file_manager/js/file_manager.js\nFile chrome/browser/resources/file_manager/js/file_manager.js (right):\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/resources/file_manager/js/file_manager.js#newcode141\nchrome/browser/resources/file_manager/js/file_manager.js:141: this.onDiskChanged_.bind(this));\nOn 2011/08/09 00:09:45, zel wrote:\n> why don't we remove this if this function is no longer needed?\n> \n> also file a bug to remove this event from extension API as well\n\nI think it would be better that we leave it in extension API for now because we might still need it (e.g. for displaying unformatted devices, which don't get detected with MountComplete event).\n\nhttp://codereview.chromium.org/7466046/diff/21008/chrome/browser/resources/file_manager/js/file_manager.js#newcode2382\nchrome/browser/resources/file_manager/js/file_manager.js:2382: FileManager.prototype.onDiskChanged_ = function(event) {\nOn 2011/08/09 00:09:45, zel wrote:\n> why don't we remove this?\n\nDone.","disapproval":false,"date":"2011-08-09 00:35:06.865288","approval":false},{"sender":"zelidrag@chromium.org","recipients":["tbarzic@chromium.org","dgozman@chromium.org","rginda@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","erikkay@chromium.org","achuith+watch@chromium.org","mihaip+watch@chromium.org","aa@chromium.org","rginda+watch@chromium.org","arv@chromium.org","davemoore+watch@chromium.org"],"text":"LGTM","disapproval":false,"date":"2011-08-11 01:09:18.036489","approval":true}],"owner_email":"tbarzic@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src/","owner":"tbarzic","subject":"Some filebrowser bugs and retiring DiskChanged event in filebrowser","created":"2011-08-03 02:25:52.583039","patchsets":[1,4001,7002,11001,13001,21001,21008,22002,23009,27001,33001,33003],"modified":"2011-08-11 17:52:00.076047","closed":true,"commit":false,"issue":7466046}