{"description":"Show an icon and the page title in the custom frame when it's an\napp mode window or a popup window.  The icon will become a\nclockwise spinning throbber when pages are loading.\n\nBUG=16049\nTEST=Open a window using --app=http://google.com/ and click on a\n  few links.","cc":["chromium-reviews@googlegroups.com"],"reviewers":["estade@chromium.org","evan@chromium.org"],"messages":[{"sender":"tony@chromium.org","recipients":["tony@chromium.org","estade@chromium.org","evan@chromium.org","chromium-reviews@googlegroups.com"],"text":"","disapproval":false,"date":"2009-07-30 23:25:35.063311","approval":false},{"sender":"evan@chromium.org","recipients":["tony@chromium.org","estade@chromium.org","evan@chromium.org","chromium-reviews@googlegroups.com"],"text":"LGTM\n\nhttp://codereview.chromium.org/160427/diff/1/2\nFile chrome/browser/gtk/browser_titlebar.cc (right):\n\nhttp://codereview.chromium.org/160427/diff/1/2#newcode171\nLine 171: gtk_box_pack_start(GTK_BOX(app_mode_hbox), app_mode_title_, FALSE, FALSE, 0);\n80 cols\n\nhttp://codereview.chromium.org/160427/diff/1/2#newcode263\nLine 263: SkBitmap icon = browser_window_->browser()->GetCurrentPageIcon();\nYou handle rtl specially below, do you need it here?\n\nhttp://codereview.chromium.org/160427/diff/1/3\nFile chrome/browser/gtk/browser_titlebar.h (right):\n\nhttp://codereview.chromium.org/160427/diff/1/3#newcode54\nLine 54: // Get the next frame in the animation.\nMaybe mention who owns the returned pointer?\n\nhttp://codereview.chromium.org/160427/diff/1/4\nFile chrome/browser/gtk/browser_window_gtk.cc (right):\n\nhttp://codereview.chromium.org/160427/diff/1/4#newcode1371\nLine 1371: titlebar_->UpdateTitle();\nmaybe mention this is changing how the title is elided (it seems pretty mysterious otherwise)","disapproval":false,"date":"2009-07-30 23:37:37.544722","approval":true},{"sender":"estade@chromium.org","recipients":["tony@chromium.org","estade@chromium.org","evan@chromium.org","chromium-reviews@googlegroups.com"],"text":"is there a reason we can't reuse existing throbber code? Is this throbber bigger than normal throbbers?\n\nhttp://codereview.chromium.org/160427/diff/1/2\nFile chrome/browser/gtk/browser_titlebar.cc (right):\n\nhttp://codereview.chromium.org/160427/diff/1/2#newcode244\nLine 244: std::string title_elided_utf8 = WideToUTF8(gfx::ElideText(UTF16ToWide(title),\nwhy can't we use gtk_label_set_ellipsize\n\nhttp://codereview.chromium.org/160427/diff/1/2#newcode263\nLine 263: SkBitmap icon = browser_window_->browser()->GetCurrentPageIcon();\nOn 2009/07/30 23:37:37, Evan Martin wrote:\n> You handle rtl specially below, do you need it here?\n\nno, we don't flip page favicons (they may be direction-sensitive, e.g. google.com's G)","disapproval":false,"date":"2009-07-30 23:45:56.861975","approval":false},{"sender":"estade@chromium.org","recipients":["tony@chromium.org","estade@chromium.org","evan@chromium.org","chromium-reviews@googlegroups.com"],"text":"","disapproval":false,"date":"2009-07-30 23:46:05.101648","approval":false},{"sender":"tony@chromium.org","recipients":["tony@chromium.org","estade@chromium.org","evan@chromium.org","chromium-reviews@googlegroups.com"],"text":"Take another look?\n\nhttp://codereview.chromium.org/160427/diff/1/2\nFile chrome/browser/gtk/browser_titlebar.cc (right):\n\nhttp://codereview.chromium.org/160427/diff/1/2#newcode171\nLine 171: gtk_box_pack_start(GTK_BOX(app_mode_hbox), app_mode_title_, FALSE, FALSE, 0);\nOn 2009/07/30 23:37:37, Evan Martin wrote:\n> 80 cols\n\nDone.\n\nhttp://codereview.chromium.org/160427/diff/1/2#newcode244\nLine 244: std::string title_elided_utf8 = WideToUTF8(gfx::ElideText(UTF16ToWide(title),\nOn 2009/07/30 23:45:56, Evan Stade wrote:\n> why can't we use gtk_label_set_ellipsize\n\nWow, didn't know about it.  It's awesome and I removed a bunch of code with it.\n\nhttp://codereview.chromium.org/160427/diff/1/2#newcode263\nLine 263: SkBitmap icon = browser_window_->browser()->GetCurrentPageIcon();\nOn 2009/07/30 23:45:56, Evan Stade wrote:\n> On 2009/07/30 23:37:37, Evan Martin wrote:\n> > You handle rtl specially below, do you need it here?\n> \n> no, we don't flip page favicons (they may be direction-sensitive, e.g.\n> google.com's G)\n\nBut the comment points out we probably shouldn't flip the product icon below so I changed it to just GetNamedPixbuf.\n\nhttp://codereview.chromium.org/160427/diff/1/3\nFile chrome/browser/gtk/browser_titlebar.h (right):\n\nhttp://codereview.chromium.org/160427/diff/1/3#newcode54\nLine 54: // Get the next frame in the animation.\nOn 2009/07/30 23:37:37, Evan Martin wrote:\n> Maybe mention who owns the returned pointer?\n\nDone.\n\nhttp://codereview.chromium.org/160427/diff/1/4\nFile chrome/browser/gtk/browser_window_gtk.cc (right):\n\nhttp://codereview.chromium.org/160427/diff/1/4#newcode1371\nLine 1371: titlebar_->UpdateTitle();\nOn 2009/07/30 23:37:37, Evan Martin wrote:\n> maybe mention this is changing how the title is elided (it seems pretty\n> mysterious otherwise)\n\nRemoved because I don't need to do this manually anymore.","disapproval":false,"date":"2009-07-31 00:33:58.494952","approval":false},{"sender":"estade@chromium.org","recipients":["tony@chromium.org","estade@chromium.org","evan@chromium.org","chromium-reviews@googlegroups.com"],"text":"my previous throbber question stands, assuming there's a good reason for it LGTM","disapproval":false,"date":"2009-07-31 00:57:31.203754","approval":true},{"sender":"tony@chromium.org","recipients":["tony@chromium.org","estade@chromium.org","evan@chromium.org","chromium-reviews@googlegroups.com"],"text":"On 2009/07/31 00:57:31, Evan Stade wrote:\n> my previous throbber question stands, assuming there's a good reason for it LGTM\n\nOh, sorry, missed that.  The existing throbber in the tab strip is drawn into a chrome canvas using skia.  It's not really portable unless I want to either make the app throbber a canvas or maybe try to cram a GtkImage into the tab renderer.\n\nFor reference, there are 3 throbber implementations on Windows: the tab throbber, the XP style throbber (similar to this one, but written in views), and the vista glass throbber which is a bunch of ico files that get set while loading.","disapproval":false,"date":"2009-07-31 01:02:49.719057","approval":false}],"owner_email":"tony@chromium.org","private":false,"base_url":"","owner":"tony","subject":"Show an icon and the page title in the custom frame when it's an","created":"2009-07-30 23:25:08.898717","patchsets":[1,13],"modified":"2011-05-24 13:00:23.245136","closed":true,"commit":false,"issue":160427}