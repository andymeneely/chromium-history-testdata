{"files":{"chrome/common/render_messages.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":3,"messages":[],"id":80007,"is_binary":false},"chrome/browser/nacl_host/nacl_process_host.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":74,"num_removed":1,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Nit: add empty line after each comment paragraph for readability.","draft":false,"lineno":959,"date":"2013-05-24 20:21:58.278720","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Why 2-3?  Explain more in comment, perhaps?","draft":false,"lineno":965,"date":"2013-05-24 20:21:58.279020","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Indent arguments properly.  i.e.:\n\n// Wrong\nif (some_function(\n    arg1)) ...\n\n// Right\nif (some_function(\n        arg1)) ...\n","draft":false,"lineno":990,"date":"2013-05-24 20:21:58.279200","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Why 2-3?  Explain more in comment, perhaps?\n\nDone.","draft":false,"lineno":965,"date":"2013-05-24 21:35:24.272230","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Indent arguments properly.  i.e.:\n> \n> // Wrong\n> if (some_function(\n>     arg1)) ...\n> \n> // Right\n> if (some_function(\n>         arg1)) ...\n\nDone.","draft":false,"lineno":990,"date":"2013-05-24 21:35:24.272550","left":false}],"id":80004,"is_binary":false},"chrome/browser/nacl_host/nacl_process_host.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":0,"messages":[],"id":80005,"is_binary":false},"ppapi/native_client/src/trusted/plugin/plugin.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":4,"messages":[],"id":80019,"is_binary":false},"ppapi/native_client/src/trusted/plugin/plugin.cc":{"status":"M","num_chunks":6,"no_base_file":false,"property_changes":"","num_added":27,"num_removed":30,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"As an aside, having this URL -> FD mapping seems to be wrong because:\n\n * It might be leaking FDs if entries are never removed\n * It might mean that two open() calls return the same FD, with the seek position being shared.\n * It might mean that a fresh open() call doesn't refetch the URL (which might be wrong if the resource is changeable).\n\nI don't know the scope of this.  Can you file an issue (with the info above), please?","draft":false,"lineno":1327,"date":"2013-05-24 20:21:58.280830","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> As an aside, having this URL -> FD mapping seems to be wrong because:\n> \n>  * It might be leaking FDs if entries are never removed\n>  * It might mean that two open() calls return the same FD, with the seek\n> position being shared.\n>  * It might mean that a fresh open() call doesn't refetch the URL (which might\n> be wrong if the resource is changeable).\n> \n> I don't know the scope of this.  Can you file an issue (with the info above),\n> please?\n\nI will certainly help you file an issue.  This change has taken way too long and I just can't take the time to be a good citizen, myself, at this point.","draft":false,"lineno":1327,"date":"2013-05-24 21:35:24.275290","left":false}],"id":80018,"is_binary":false},"chrome/nacl/nacl_validation_query_unittest.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":0,"messages":[],"id":80012,"is_binary":false},"chrome/common/nacl_messages.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":10,"num_removed":0,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"\"acquire\"","draft":false,"lineno":82,"date":"2013-05-24 20:21:58.279370","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"\"Resolve\" is vague.  How about \"OpenFileFromToken\" or \"OpenFileGivenToken\"?\n\n(I know you already used the term \"Resolve\" in the NaCl code, but I still think it would be better to use \"Open\" here.)","draft":false,"lineno":85,"date":"2013-05-24 20:21:58.279540","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> \"acquire\"\n\nDone.","draft":false,"lineno":82,"date":"2013-05-24 21:35:24.272860","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> \"Resolve\" is vague.  How about \"OpenFileFromToken\" or \"OpenFileGivenToken\"?\n> \n> (I know you already used the term \"Resolve\" in the NaCl code, but I still think\n> it would be better to use \"Open\" here.)\n\nOpening is only part of the elephant.  I don't think \"Open\" is the right verb.  \"Given\" is also an awkward way to resolve the resulting ambiguity.  Leaving as is.","draft":false,"lineno":85,"date":"2013-05-24 21:35:24.273170","left":false}],"id":80006,"is_binary":false},"ppapi/c/private/ppb_nacl_private.h":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":19,"messages":[],"id":80015,"is_binary":false},"ppapi/native_client/src/trusted/plugin/service_runtime.cc":{"status":"M","num_chunks":9,"no_base_file":false,"property_changes":"","num_added":24,"num_removed":18,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix \"*\" spacing style","draft":false,"lineno":174,"date":"2013-05-24 20:21:58.281010","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix \"*\" spacing style\n\nDone.","draft":false,"lineno":174,"date":"2013-05-24 21:35:24.277110","left":false}],"id":80020,"is_binary":false},"ppapi/api/private/ppb_nacl_private.idl":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":7,"messages":[],"id":80014,"is_binary":false},"chrome/nacl/nacl_validation_db.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":0,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix \"*\" spacing style","draft":false,"lineno":21,"date":"2013-05-24 20:21:58.280090","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix \"*\" spacing style\n\nDone.","draft":false,"lineno":21,"date":"2013-05-24 21:35:24.274110","left":false}],"id":80009,"is_binary":false},"chrome/renderer/pepper/ppb_nacl_private_impl.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":7,"messages":[],"id":80013,"is_binary":false},"chrome/nacl/nacl_validation_query.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":27,"num_removed":0,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix \"*\" spacing style","draft":false,"lineno":34,"date":"2013-05-24 20:21:58.280280","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix \"*\" spacing style","draft":false,"lineno":140,"date":"2013-05-24 20:21:58.280440","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Style is \"char*\"","draft":false,"lineno":147,"date":"2013-05-24 20:21:58.280630","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix \"*\" spacing style\n\nDone.","draft":false,"lineno":34,"date":"2013-05-24 21:35:24.274440","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix \"*\" spacing style\n\nDone.","draft":false,"lineno":140,"date":"2013-05-24 21:35:24.274710","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Style is \"char*\"\n\nDone.","draft":false,"lineno":147,"date":"2013-05-24 21:35:24.275030","left":false}],"id":80010,"is_binary":false},"ppapi/native_client/src/trusted/plugin/file_downloader.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":3,"messages":[],"id":80017,"is_binary":false},"chrome/browser/nacl_host/nacl_browser.h":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":38,"num_removed":0,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"\"an mmapped\"","draft":false,"lineno":87,"date":"2013-05-24 20:21:58.277020","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"\"could be mutated\" -- or better, \"could be modified\"\n\n\"escape of\" -> \"escape from\"?","draft":false,"lineno":88,"date":"2013-05-24 20:21:58.277350","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"\"we\" -> \"the NaCl process\"","draft":false,"lineno":92,"date":"2013-05-24 20:21:58.277690","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"\"onto the NaCl process host\" -> \"into NaClProcessHost\"","draft":false,"lineno":101,"date":"2013-05-24 20:21:58.278050","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Nit: it doesn't prevent guessing, it prevents guessing from having any consequence.  \"So that we don't rely on file tokens being unguessable\"?","draft":false,"lineno":102,"date":"2013-05-24 20:21:58.278380","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> \"an mmapped\"\n\nDone.","draft":false,"lineno":87,"date":"2013-05-24 21:35:24.270670","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> \"could be mutated\" -- or better, \"could be modified\"\n> \n> \"escape of\" -> \"escape from\"?\n\nDone.","draft":false,"lineno":88,"date":"2013-05-24 21:35:24.271010","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> \"we\" -> \"the NaCl process\"\n\nDone.","draft":false,"lineno":92,"date":"2013-05-24 21:35:24.271320","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> \"onto the NaCl process host\" -> \"into NaClProcessHost\"\n\nDone.","draft":false,"lineno":101,"date":"2013-05-24 21:35:24.271590","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Nit: it doesn't prevent guessing, it prevents guessing from having any\n> consequence.  \"So that we don't rely on file tokens being unguessable\"?\n\nDone.","draft":false,"lineno":102,"date":"2013-05-24 21:35:24.271910","left":false}],"id":80002,"is_binary":false},"ppapi/native_client/src/trusted/plugin/service_runtime.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":4,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix \"*\" spacing style","draft":false,"lineno":76,"date":"2013-05-24 20:21:58.281170","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix \"*\" spacing style\n\nDone.","draft":false,"lineno":76,"date":"2013-05-24 21:35:24.277500","left":false}],"id":80021,"is_binary":false},"chrome/nacl/nacl_validation_query.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":0,"messages":[],"id":80011,"is_binary":false},"ppapi/native_client/src/trusted/plugin/file_downloader.cc":{"status":"M","num_chunks":6,"no_base_file":false,"property_changes":"","num_added":22,"num_removed":6,"messages":[],"id":80016,"is_binary":false},"chrome/browser/nacl_host/nacl_browser.cc":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":77,"num_removed":0,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Say \"claimed (and hence removed)\"?  Otherwise it's not clear what \"claimed\" means.\n\nWhy aren't entries always claimed?","draft":false,"lineno":42,"date":"2013-05-24 20:21:58.274600","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"\"openat\" -> \"openat()\" to be clearer what you're referring to?","draft":false,"lineno":137,"date":"2013-05-24 20:21:58.274960","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix \"*\" spacing style","draft":false,"lineno":417,"date":"2013-05-24 20:21:58.275320","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix indentation","draft":false,"lineno":418,"date":"2013-05-24 20:21:58.275650","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Spacing style should be \"char*\"","draft":false,"lineno":425,"date":"2013-05-24 20:21:58.276010","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Spacing style should be \"char*\"","draft":false,"lineno":440,"date":"2013-05-24 20:21:58.276340","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix spacing (you have 2 spaces before '=')","draft":false,"lineno":441,"date":"2013-05-24 20:21:58.276680","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Say \"claimed (and hence removed)\"?  Otherwise it's not clear what \"claimed\"\n> means.\n> \n> Why aren't entries always claimed?\n\nDone.","draft":false,"lineno":42,"date":"2013-05-24 21:35:24.268390","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> \"openat\" -> \"openat()\" to be clearer what you're referring to?\n\nDone.","draft":false,"lineno":137,"date":"2013-05-24 21:35:24.268750","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix \"*\" spacing style\n\nDone.","draft":false,"lineno":417,"date":"2013-05-24 21:35:24.269090","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix indentation\n\nDone.","draft":false,"lineno":418,"date":"2013-05-24 21:35:24.269420","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Spacing style should be \"char*\"\n\nDone.","draft":false,"lineno":425,"date":"2013-05-24 21:35:24.269700","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Spacing style should be \"char*\"\n\nDone.","draft":false,"lineno":440,"date":"2013-05-24 21:35:24.270010","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix spacing (you have 2 spaces before '=')\n\nDone.","draft":false,"lineno":441,"date":"2013-05-24 21:35:24.270320","left":false}],"id":80001,"is_binary":false},"chrome/browser/nacl_host/nacl_file_host.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":36,"num_removed":30,"messages":[],"id":80003,"is_binary":false},"chrome/nacl/nacl_listener.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":33,"num_removed":0,"messages":[{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Fix \"*\" spacing style","draft":false,"lineno":134,"date":"2013-05-24 20:21:58.279710","left":false},{"author":"Mark Seaborn","author_email":"mseaborn@chromium.org","text":"Do you mean \"It doesn't matter if the path is invalid UTF8\"?\n\nNot sure what you mean by repeatable here.","draft":false,"lineno":160,"date":"2013-05-24 20:21:58.279870","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Fix \"*\" spacing style\n\nDone.","draft":false,"lineno":134,"date":"2013-05-24 21:35:24.273490","left":false},{"author":"Nick Bray (chromium)","author_email":"ncbray@chromium.org","text":"On 2013/05/24 20:21:58, Mark Seaborn wrote:\n> Do you mean \"It doesn't matter if the path is invalid UTF8\"?\n> \n> Not sure what you mean by repeatable here.\n\nDone.","draft":false,"lineno":160,"date":"2013-05-24 21:35:24.273780","left":false}],"id":80008,"is_binary":false}},"owner_email":"ncbray@chromium.org","owner":"Nick Bray (chromium)","message":"Comment","try_job_results":[],"created":"2013-05-24 00:24:39.523690","url":null,"num_comments":51,"modified":"2013-05-24 21:35:24.374800","patchset":79001,"issue":14750007}