{"files":{"cc/trees/proxy.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":12,"messages":[],"id":159019,"is_binary":false},"cc/trees/thread_proxy.cc":{"status":"M","num_chunks":12,"no_base_file":false,"property_changes":"","num_added":109,"num_removed":136,"messages":[{"author":"danakj","author_email":"danakj@chromium.org","text":"Should we Cancel() if CreateFailedAndGiveUp too?\n\nI'm thinking about the bug for https://codereview.chromium.org/14238011/ what if we get the ordering like:\n\n- Lose context\n- DoCreateAndInit fails -> retry x1\n- DoCreateAndInit fails -> retry x2\n- DoCreateAndInit fails -> retry x3\n- DoCreateAndInit fails -> retry x4\n- DoCreateAndInit is post-tasked here.\n- CompositeAndReadback comes here, tries to init fails. That's the 5th failure, we DidRecreateOS(false) to the embedder.\n- DoCreateAndInit wakes up and runs, and succeeds.\n\nNow the compositor and the embedder disagree on things.","draft":false,"lineno":247,"date":"2013-04-24 20:43:01.346530","left":false},{"author":"boliu","author_email":"boliu@chromium.org","text":"On 2013/04/24 20:43:01, danakj wrote:\n> Should we Cancel() if CreateFailedAndGiveUp too?\n> \n> I'm thinking about the bug for https://codereview.chromium.org/14238011/ what if\n> we get the ordering like:\n> \n> - Lose context\n> - DoCreateAndInit fails -> retry x1\n> - DoCreateAndInit fails -> retry x2\n> - DoCreateAndInit fails -> retry x3\n> - DoCreateAndInit fails -> retry x4\n> - DoCreateAndInit is post-tasked here.\n> - CompositeAndReadback comes here, tries to init fails. That's the 5th failure,\n> we DidRecreateOS(false) to the embedder.\n> - DoCreateAndInit wakes up and runs, and succeeds.\n> \n> Now the compositor and the embedder disagree on things.\n\nDone.\n\nMaybe we should do something more drastic like stopping thread_proxy? I'm not sure...","draft":false,"lineno":247,"date":"2013-04-24 22:01:00.694750","left":false}],"id":159022,"is_binary":false},"cc/test/layer_tree_test.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":2,"messages":[],"id":159012,"is_binary":false},"cc/layers/tiled_layer_unittest.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":159003,"is_binary":false},"cc/scheduler/scheduler_state_machine_unittest.cc":{"status":"M","num_chunks":39,"no_base_file":false,"property_changes":"","num_added":136,"num_removed":36,"messages":[],"id":159008,"is_binary":false},"cc/trees/layer_tree_host_unittest.cc":{"status":"M","num_chunks":10,"no_base_file":false,"property_changes":"","num_added":15,"num_removed":14,"messages":[],"id":159017,"is_binary":false},"cc/trees/layer_tree_host_client.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":1,"messages":[],"id":159016,"is_binary":false},"cc/trees/thread_proxy.h":{"status":"M","num_chunks":6,"no_base_file":false,"property_changes":"","num_added":13,"num_removed":23,"messages":[],"id":159023,"is_binary":false},"cc/test/fake_proxy.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":8,"num_removed":5,"messages":[],"id":159010,"is_binary":false},"cc/scheduler/scheduler_state_machine.h":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":8,"num_removed":6,"messages":[],"id":159007,"is_binary":false},"cc/trees/layer_tree_host.cc":{"status":"M","num_chunks":6,"no_base_file":false,"property_changes":"","num_added":54,"num_removed":67,"messages":[],"id":159014,"is_binary":false},"cc/trees/layer_tree_host.h":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":8,"num_removed":8,"messages":[],"id":159015,"is_binary":false},"cc/trees/layer_tree_host_unittest_context.cc":{"status":"M","num_chunks":17,"no_base_file":false,"property_changes":"","num_added":104,"num_removed":44,"messages":[],"id":159018,"is_binary":false},"cc/trees/single_thread_proxy.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":9,"messages":[],"id":159021,"is_binary":false},"cc/test/fake_proxy.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":4,"messages":[],"id":159011,"is_binary":false},"cc/scheduler/scheduler.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":7,"messages":[],"id":159004,"is_binary":false},"cc/scheduler/scheduler_state_machine.cc":{"status":"M","num_chunks":7,"no_base_file":false,"property_changes":"","num_added":25,"num_removed":13,"messages":[],"id":159006,"is_binary":false},"cc/layers/nine_patch_layer_unittest.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":159001,"is_binary":false},"cc/layers/scrollbar_layer_unittest.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":2,"messages":[],"id":159002,"is_binary":false},"cc/scheduler/scheduler.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":3,"messages":[],"id":159005,"is_binary":false},"cc/test/layer_tree_test.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":159013,"is_binary":false},"cc/scheduler/scheduler_unittest.cc":{"status":"M","num_chunks":14,"no_base_file":false,"property_changes":"","num_added":43,"num_removed":15,"messages":[],"id":159009,"is_binary":false},"cc/trees/single_thread_proxy.cc":{"status":"M","num_chunks":9,"no_base_file":false,"property_changes":"","num_added":42,"num_removed":49,"messages":[],"id":159020,"is_binary":false}},"owner_email":"boliu@chromium.org","owner":"boliu","message":" ","try_job_results":[],"created":"2013-04-24 17:45:15.027680","url":null,"num_comments":2,"modified":"2013-04-24 22:01:00.732070","patchset":158001,"issue":12544032}