{"description":"gdata: Fix a bug that caused google drive not to load\r\n\r\nThere were two subtle changes in how we stored the file system metadata\r\nin a proto file, and each change broke compatibility in a subtle way.\r\nWe should discard the proto file if old formats are detected.\r\n\r\nNote that the protobuf definitions in gdata.proto were kept compatible.\r\nThe problem was in how we stored data in the protobuf, and the changes were\r\nsubtle.\r\n\r\nBUG=128133\r\nTEST=confirmed that the google drive loaded with the stale GCache directory from josh\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=137492","cc":["chromium-reviews@chromium.org","achuith+watch@chromium.org","stevenjb+watch@chromium.org","nkostylev+watch@chromium.org","davemoore+watch@chromium.org"],"reviewers":["achuith@chromium.org"],"messages":[{"sender":"satorux@chromium.org","recipients":["satorux@chromium.org","achuith@chromium.org","chromium-reviews@chromium.org","achuith+watch@chromium.org","stevenjb+watch@chromium.org","nkostylev+watch@chromium.org","davemoore+watch@chromium.org"],"text":"","disapproval":false,"date":"2012-05-16 17:09:49.290877","approval":false},{"sender":"achuith@chromium.org","recipients":["satorux@chromium.org","achuith@chromium.org","chromium-reviews@chromium.org","achuith+watch@chromium.org","stevenjb+watch@chromium.org","nkostylev+watch@chromium.org","davemoore+watch@chromium.org"],"text":"http://codereview.chromium.org/10384204/diff/1/chrome/browser/chromeos/gdata/gdata_files.cc\nFile chrome/browser/chromeos/gdata/gdata_files.cc (right):\n\nhttp://codereview.chromium.org/10384204/diff/1/chrome/browser/chromeos/gdata/gdata_files.cc#newcode869\nchrome/browser/chromeos/gdata/gdata_files.cc:869: // The title field for the root directory was originally empty, then\nDo you think we should we plan to delete this code after a milestone or two?","disapproval":false,"date":"2012-05-16 18:25:16.873217","approval":false},{"sender":"satorux@chromium.org","recipients":["satorux@chromium.org","achuith@chromium.org","chromium-reviews@chromium.org","achuith+watch@chromium.org","stevenjb+watch@chromium.org","nkostylev+watch@chromium.org","davemoore+watch@chromium.org"],"text":"http://codereview.chromium.org/10384204/diff/1/chrome/browser/chromeos/gdata/gdata_files.cc\nFile chrome/browser/chromeos/gdata/gdata_files.cc (right):\n\nhttp://codereview.chromium.org/10384204/diff/1/chrome/browser/chromeos/gdata/gdata_files.cc#newcode869\nchrome/browser/chromeos/gdata/gdata_files.cc:869: // The title field for the root directory was originally empty, then\nOn 2012/05/16 18:25:17, achuith.bhandarkar wrote:\n> Do you think we should we plan to delete this code after a milestone or two?\n\nI think the code here will be deleted anyway once we migrate to your metadata storage?","disapproval":false,"date":"2012-05-16 18:28:14.914607","approval":false},{"sender":"achuith@chromium.org","recipients":["satorux@chromium.org","achuith@chromium.org","chromium-reviews@chromium.org","achuith+watch@chromium.org","stevenjb+watch@chromium.org","nkostylev+watch@chromium.org","davemoore+watch@chromium.org"],"text":"lgtm","disapproval":false,"date":"2012-05-16 18:31:36.394273","approval":true},{"sender":"achuith@chromium.org","recipients":["satorux@chromium.org","achuith@chromium.org","chromium-reviews@chromium.org","achuith+watch@chromium.org","stevenjb+watch@chromium.org","nkostylev+watch@chromium.org","davemoore+watch@chromium.org"],"text":"On 2012/05/16 18:31:36, achuith.bhandarkar wrote:\n> lgtm\n\nThanks for the fix. I think I inadvertently introduced the bug.","disapproval":false,"date":"2012-05-16 18:32:13.049425","approval":false}],"owner_email":"satorux@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"satorux1","subject":"gdata: Fix a bug that caused google drive not to load","created":"2012-05-16 17:07:02.089136","patchsets":[1,7001],"modified":"2012-05-16 20:17:16.554656","closed":true,"commit":false,"issue":10384204}