{"files":{"chrome/browser/resources/ntp_search/thumbnail_page.js":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":39,"num_removed":6,"messages":[{"author":"Evan Stade","author_email":"estade@chromium.org","text":"typeof data.href !== 'undefined'","draft":false,"lineno":95,"date":"2012-08-23 23:36:28.449920","left":false},{"author":"Evan Stade","author_email":"estade@chromium.org","text":"declare as late as possible (right before use)","draft":false,"lineno":99,"date":"2012-08-23 23:36:28.450510","left":false},{"author":"Evan Stade","author_email":"estade@chromium.org","text":"we don't normally strip https (i.e. in the omnibox or the status bubble, we strip http but not https)\n\ni'm also not sure what prevents the second part of this regex from matching the bracketed portion of https:[//www.google.com/]","draft":false,"lineno":115,"date":"2012-08-23 23:36:28.451080","left":false},{"author":"jeremycho_google","author_email":"jeremycho@google.com","text":"On 2012/08/23 23:36:28, Evan Stade wrote:\n> typeof data.href !== 'undefined'\n\nDone.","draft":false,"lineno":95,"date":"2012-08-24 00:33:23.390720","left":false},{"author":"jeremycho_google","author_email":"jeremycho@google.com","text":"On 2012/08/23 23:36:28, Evan Stade wrote:\n> declare as late as possible (right before use)\n\nDone.","draft":false,"lineno":99,"date":"2012-08-24 00:33:23.392470","left":false},{"author":"jeremycho_google","author_email":"jeremycho@google.com","text":"On 2012/08/23 23:36:28, Evan Stade wrote:\n> we don't normally strip https (i.e. in the omnibox or the status bubble, we\n> strip http but not https)\n> \n> i'm also not sure what prevents the second part of this regex from matching the\n> bracketed portion of https:[//www.google.com/]\n\nBecause we're fitting this in the thumbnail itself with a fairly large font, the designers as much stripping as possible.  We may need to revisit to pare down further.\n\nThe bracketed portion doesn't get matched, because the // is replaced, and then the second part of the regex gets run on the resulting string.","draft":false,"lineno":115,"date":"2012-08-24 00:33:23.393370","left":false},{"author":"Evan Stade","author_email":"estade@chromium.org","text":"On 2012/08/24 00:33:23, jeremycho wrote:\n> On 2012/08/23 23:36:28, Evan Stade wrote:\n> > we don't normally strip https (i.e. in the omnibox or the status bubble, we\n> > strip http but not https)\n> > \n> > i'm also not sure what prevents the second part of this regex from matching\n> the\n> > bracketed portion of https:[//www.google.com/]\n> \n> Because we're fitting this in the thumbnail itself with a fairly large font, the\n> designers as much stripping as possible.  We may need to revisit to pare down\n> further.\n\ndo not strip https without approval from security team. If you want to strip down for the purposes of space conservation, you should do what the status bubble does, which is to smartly remove components based on their importance. For example, https://reader.google.com/long/path/and?lots&of&args would become something like https://reader.google.com/... and then https://...google.com/... etc.\n\nIn fact I don't know why you aren't just showing the page title here, and leaving the status bubble as the place where the URL is revealed.\n\n> \n> The bracketed portion doesn't get matched, because the // is replaced, and then\n> the second part of the regex gets run on the resulting string.\n\nwhich means it breaks on any link with a scheme that is not http or https","draft":false,"lineno":115,"date":"2012-08-28 00:36:17.537310","left":false},{"author":"jeremycho_google","author_email":"jeremycho@google.com","text":"On 2012/08/28 00:36:17, Evan Stade wrote:\n> On 2012/08/24 00:33:23, jeremycho wrote:\n> > On 2012/08/23 23:36:28, Evan Stade wrote:\n> > > we don't normally strip https (i.e. in the omnibox or the status bubble, we\n> > > strip http but not https)\n> > > \n> > > i'm also not sure what prevents the second part of this regex from matching\n> > the\n> > > bracketed portion of https:[//www.google.com/]\n> > \n> > Because we're fitting this in the thumbnail itself with a fairly large font,\n> the\n> > designers as much stripping as possible.  We may need to revisit to pare down\n> > further.\n> \n> do not strip https without approval from security team. If you want to strip\n> down for the purposes of space conservation, you should do what the status\n> bubble does, which is to smartly remove components based on their importance.\n> For example, https://reader.google.com/long/path/and?lots&of&args would become\n> something like https://reader.google.com/... and then https://...google.com/...\n> etc.\n> \n> In fact I don't know why you aren't just showing the page title here, and\n> leaving the status bubble as the place where the URL is revealed.\n\nWe already show the title below the thumbnail on hover.  Reverted this to simply stripping http://www and trailing backslash for the dogfood, and will consult with UX/security on how to proceed.\n\n> \n> > \n> > The bracketed portion doesn't get matched, because the // is replaced, and\n> then\n> > the second part of the regex gets run on the resulting string.\n> \n> which means it breaks on any link with a scheme that is not http or https\n\n","draft":false,"lineno":115,"date":"2012-08-28 04:52:33.928490","left":false}],"id":14005,"is_binary":false},"chrome/browser/resources/ntp_search/recently_closed_page.js":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":35,"num_removed":3,"messages":[{"author":"Evan Stade","author_email":"estade@chromium.org","text":"I don't understand how this works. |blanks| is not a live list.","draft":false,"lineno":64,"date":"2012-08-23 23:36:28.448750","left":false},{"author":"Evan Stade","author_email":"estade@chromium.org","text":"var stackSize = Math.min(data.tabs.length, MAX_STACK_SIZE);\nfor (var i = 0; i < stackSize - 1; ++stackSize) {\n  ...\n}\ntopThumbnail.style.leftMargin = stackSize + 'px';","draft":false,"lineno":76,"date":"2012-08-23 23:36:28.449420","left":false},{"author":"jeremycho_google","author_email":"jeremycho@google.com","text":"On 2012/08/23 23:36:28, Evan Stade wrote:\n> I don't understand how this works. |blanks| is not a live list.\n\nSorry that was wrong.  Fixed.","draft":false,"lineno":64,"date":"2012-08-24 00:33:23.389800","left":false},{"author":"jeremycho_google","author_email":"jeremycho@google.com","text":"On 2012/08/23 23:36:28, Evan Stade wrote:\n> var stackSize = Math.min(data.tabs.length, MAX_STACK_SIZE);\n> for (var i = 0; i < stackSize - 1; ++stackSize) {\n>   ...\n> }\n> topThumbnail.style.leftMargin = stackSize + 'px';\n\nDone.","draft":false,"lineno":76,"date":"2012-08-24 00:33:23.390310","left":false}],"id":14003,"is_binary":false},"chrome/browser/resources/ntp_search/thumbnail_page.css":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":31,"num_removed":1,"messages":[],"id":14004,"is_binary":false}},"owner_email":"jeremycho@google.com","owner":"jeremycho_google","message":"Responding to Pedro's comments.","try_job_results":[],"created":"2012-08-23 23:01:16.564310","url":null,"num_comments":12,"modified":"2012-08-28 04:52:33.970070","patchset":9004,"issue":10854214}