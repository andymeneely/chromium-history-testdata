{"description":"Migrate startup URLs pref.\n\nTBRing battre@ for tiny profile_resetter change, other OWNERs appear to be out as well.\n\nTBR=battre\n\nBUG=299290\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=229536","cc":["chromium-reviews@chromium.org"],"reviewers":["grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org"],"messages":[{"sender":"grt@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","chromium-reviews@chromium.org"],"text":"will any changes be required on the sync side of the universe?\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc\nFile chrome/browser/prefs/pref_metrics_service.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode167\nchrome/browser/prefs/pref_metrics_service.cc:167: LogStartupURLsPrefChange(\"StartupURLsResetTime\", url_list);\nto match when Log..() is called by the ChangeRegistrar, use \"Settings.StartupURLsResetTime.PushedToSync\". alternatively, call OnPrefChanged to simulate a true pref change.\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode260\nchrome/browser/prefs/pref_metrics_service.cc:260: const std::string& histogram_name,\nwhy not use this on line 273 (it should be \"Settings.StartupURLsResetTime.PushedToSync\" when invoked by the OnPrefChanged)?\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode266\nchrome/browser/prefs/pref_metrics_service.cc:266: // Empty migration time delta will identify initial migration.\ndo you want to log initial migration?","disapproval":false,"date":"2013-09-27 13:24:45.314730","approval":false},{"sender":"mad@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks...\n\nI'm not sure about the sync aspect of renaming a pref, I will investigate...\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc\nFile chrome/browser/prefs/pref_metrics_service.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode167\nchrome/browser/prefs/pref_metrics_service.cc:167: LogStartupURLsPrefChange(\"StartupURLsResetTime\", url_list);\nI don't think I need that since this is not a sync'able pref.\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode260\nchrome/browser/prefs/pref_metrics_service.cc:260: const std::string& histogram_name,\nBecause this is not a sync'able pref.\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode266\nchrome/browser/prefs/pref_metrics_service.cc:266: // Empty migration time delta will identify initial migration.\nIt is logged with a value of 0.0.","disapproval":false,"date":"2013-09-27 14:54:20.135490","approval":false},{"sender":"grt@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc\nFile chrome/browser/prefs/pref_metrics_service.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode260\nchrome/browser/prefs/pref_metrics_service.cc:260: const std::string& histogram_name,\nOn 2013/09/27 14:54:20, MAD wrote:\n> Because this is not a sync'able pref.\n\nThis code is confusing as-is. There are two ways to get into this function: from PrefMetricsService::OnPrefChanged by way of the SyncedPrefChangeRegistrar, and from the direct call on line 167. In the former case, histogram_name is \"Settings.StartupURLsResetTime.PushedToSync\". In the latter case, histogram_name is \"StartupURLsResetTime\". In both cases it is ignored. Please change something here. I think things are more obvious if the histogram name is consistent with the other histograms, and if argument values aren't different and ignored.\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode266\nchrome/browser/prefs/pref_metrics_service.cc:266: // Empty migration time delta will identify initial migration.\nOn 2013/09/27 14:54:20, MAD wrote:\n> It is logged with a value of 0.0.\n\nIf I understand the use of histograms here, there are only 50 buckets for a range from 60 to 604800 seconds, so the 0.0 value may be in the same bucket as a fairly large reset-delta range. Will we be able to extract meaning from this first bucket?","disapproval":false,"date":"2013-09-27 15:50:21.296230","approval":false},{"sender":"mad@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","chromium-reviews@chromium.org"],"text":"Go it... Working on an updated patch...\n\nThanks!\n\nBYE\nMAD\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc\nFile chrome/browser/prefs/pref_metrics_service.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode260\nchrome/browser/prefs/pref_metrics_service.cc:260: const std::string& histogram_name,\nOK, you convinced me, I'll work something up...\n\nhttps://codereview.chromium.org/24930003/diff/1/chrome/browser/prefs/pref_metrics_service.cc#newcode266\nchrome/browser/prefs/pref_metrics_service.cc:266: // Empty migration time delta will identify initial migration.\nD'Ho! Of course... I didn't realize that because all my tests needed enough time to reach the next bucket...\n\nThanks!","disapproval":false,"date":"2013-09-27 17:35:39.732370","approval":false},{"sender":"mad@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Here's a new version that works well while sync'ing with older version of Chrome... Let me know what you think...\n\nThanks!\n\nBYE\nMAD","disapproval":false,"date":"2013-10-04 14:28:21.946250","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"looking really good! some comments:\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/session_startup_pref.cc#newcode187\nchrome/browser/prefs/session_startup_pref.cc:187: now - last_migration_time,\nin theory, this could be negative. What's the effect on the uma metric when that happens?\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/common/pref_names.cc#newcode87\nchrome/common/pref_names.cc:87: // Old startup url pref and migration time delta as a double.\nMention in the comment the units of time.\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/common/pref_names.cc#newcode89\nchrome/common/pref_names.cc:89: const char kRestoreStartupURLsMigrated[] = \"session.startup_urls_migrated\";\ns/Migrated/MigrationTime","disapproval":false,"date":"2013-10-04 15:16:14.900710","approval":false},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc#newcode116\nchrome/browser/prefs/pref_model_associator.cc:116: if (!CreatePrefSyncData(pref_name, *new_value, &sync_data)) {\nnot that this is only going to update the new synced value, not the old. You probably need to add another case here to update the old value with the result of the merge.\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc#newcode191\nchrome/browser/prefs/pref_model_associator.cc:191: sync_pref_name = prefs::kURLsToRestoreOnStartup;\nMaybe mention that we'll be merging any difference between the new and old values and syncing them back?","disapproval":false,"date":"2013-10-04 17:45:01.766750","approval":false},{"sender":"grt@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"I think it would be nice to do this without special casing particular preferences in the code here and there. Is it possible to generalize it a little bit? For example, could you make the code handle the general case of changing the name of a syncable pref, and then have a static mapping that contains the actual pref names?\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc#newcode195\nchrome/browser/prefs/pref_model_associator.cc:195: // reconstruct all sync data for it's datatype (therefore having\nit's -> its","disapproval":false,"date":"2013-10-04 18:24:06.696320","approval":false},{"sender":"mad@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Done / Answered...\n\nThanks!\n\nBYE\nMAD\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc#newcode116\nchrome/browser/prefs/pref_model_associator.cc:116: if (!CreatePrefSyncData(pref_name, *new_value, &sync_data)) {\nOn 2013/10/04 17:45:01, Nicolas Zea wrote:\n> not that this is only going to update the new synced value, not the old. You\n> probably need to add another case here to update the old value with the result\n> of the merge.\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc#newcode191\nchrome/browser/prefs/pref_model_associator.cc:191: sync_pref_name = prefs::kURLsToRestoreOnStartup;\nOn 2013/10/04 17:45:01, Nicolas Zea wrote:\n> Maybe mention that we'll be merging any difference between the new and old\n> values and syncing them back?\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/pref_model_associator.cc#newcode195\nchrome/browser/prefs/pref_model_associator.cc:195: // reconstruct all sync data for it's datatype (therefore having\nOn 2013/10/04 18:24:07, grt wrote:\n> it's -> its\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/session_startup_pref.cc#newcode187\nchrome/browser/prefs/session_startup_pref.cc:187: now - last_migration_time,\nOn 2013/10/04 15:16:15, robertshield wrote:\n> in theory, this could be negative. What's the effect on the uma metric when that\n> happens?\n\nI just tried it and it would go in the 0 bucket (if the UMA server reacts like chrome://histograms).\n\nIf you prefer we could also make it explicit, e.g., now > last_migration_time ? now - last_migration_time : 0\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/common/pref_names.cc#newcode87\nchrome/common/pref_names.cc:87: // Old startup url pref and migration time delta as a double.\nOn 2013/10/04 15:16:15, robertshield wrote:\n> Mention in the comment the units of time.\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/14001/chrome/common/pref_names.cc#newcode89\nchrome/common/pref_names.cc:89: const char kRestoreStartupURLsMigrated[] = \"session.startup_urls_migrated\";\nOn 2013/10/04 15:16:15, robertshield wrote:\n> s/Migrated/MigrationTime\n\nActually, that's on purpose...I wanted to use the same terminology as above.","disapproval":false,"date":"2013-10-04 19:31:21.849040","approval":false},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"sync changes LGTM\n\nhttps://codereview.chromium.org/24930003/diff/24001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/24001/chrome/browser/prefs/pref_model_associator.cc#newcode127\nchrome/browser/prefs/pref_model_associator.cc:127: syncer::SyncData sync_data;\nnit: CreatePrefSyncData will overwrite a SyncData object anyways, so no need to instantiate a new one.","disapproval":false,"date":"2013-10-04 19:37:35.983320","approval":true},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"@Nicolas: one quick question about the sync changes.\n\nAlso, I'll be taking over finishing off this patch for MAD, hopefully I can do so with the same rietveld issue.\n\nhttps://codereview.chromium.org/24930003/diff/24001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/24001/chrome/browser/prefs/pref_model_associator.cc#newcode432\nchrome/browser/prefs/pref_model_associator.cc:432: NotifySyncedPrefObservers(name, true /*from_sync*/);\n@Nicolas: it looks like this uses the old \"name\" rather than the potentially updated \"pref_name\". Same on line 436 below. Is this right?","disapproval":false,"date":"2013-10-07 16:42:57.662190","approval":false},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/24001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/24001/chrome/browser/prefs/pref_model_associator.cc#newcode432\nchrome/browser/prefs/pref_model_associator.cc:432: NotifySyncedPrefObservers(name, true /*from_sync*/);\nOn 2013/10/07 16:42:57, robertshield wrote:\n> @Nicolas: it looks like this uses the old \"name\" rather than the potentially\n> updated \"pref_name\". Same on line 436 below. Is this right?\n\nI missed this, but as it happens it's okay to leave. NotifySyncedPrefObservers is only important for local listeners to the preference, and all local listeners should be listening to the new preference. |synced_preferences_| is only used when listening to local pref changes, which for the old pref doesn't matter.","disapproval":false,"date":"2013-10-07 17:08:07.184490","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"@grt: please could you take a look and see if this resembles what you had in mind.","disapproval":false,"date":"2013-10-07 19:20:05.587520","approval":false},{"sender":"grt@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"pretty much lgtm with the tweaks below. please wait for Nicolas to review the details of the preference handling, since i have zero knowledge in that domain. thanks.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode52\nchrome/browser/prefs/pref_model_associator.cc:52: // the old and new preference names here will do the right thing by the sync\nwhat is \"the right thing\"? maybe spell out that it causes values under the old name that come down from sync to warp to the new name (assuming that's what it means).\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode55\nchrome/browser/prefs/pref_model_associator.cc:55: struct MigratedPreferences {\nconst struct\nmega nit: this type doesn't need a name, but maybe it's happier with one.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode56\nchrome/browser/prefs/pref_model_associator.cc:56: const char* old_name;\nconst char* const\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode63\nchrome/browser/prefs/pref_model_associator.cc:63: for (int i = 0; i < arraysize(kMigratedPreferences); ++i) {\nint -> size_t since you're comparing with arraysize, which returns size_t (here and line 71).\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode67\nchrome/browser/prefs/pref_model_associator.cc:67: return \"\";\n\"\" -> std::string() here and line 75\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode460\nchrome/browser/prefs/pref_model_associator.cc:460: } else if (!IsPrefRegistered(pref_name)) {\nin the block above, it's safe to assume that new_name.c_str() is always registered?\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/session_startup_pref.cc#newcode185\nchrome/browser/prefs/session_startup_pref.cc:185: DCHECK(now > last_migration_time);\nDCHECK_GT\nfor safety, i suggest adding:\n  if (now < last_migration_time)\n    last_migration_time = now;\ni don't know what exactly happens around DST, leap seconds, flaky BIOS clocks, unpredictable rounding, IEEE doubles, etc, but may as well play it safe.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.cc#newcode87\nchrome/common/pref_names.cc:87: // Old startup url pref and migration time delta as a double in miliseconds.\nkRestoreStartupURLsMigrated is not a delta, nor is it in milliseconds. it is the time at which the last migration took place, measured in the (fractional) number number of seconds since the UNIX epoch. given that this is an internal value used for our own computations, why not use an int64 to hold it, and use Time::{From,To}InternalValue to store/load it? this seems more efficient and more accurate.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.h\nFile chrome/common/pref_names.h (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.h#newcode37\nchrome/common/pref_names.h:37: extern const char kURLsToRestoreOnStartupOld[];\nis there an echo in here?","disapproval":false,"date":"2013-10-07 20:15:16.639680","approval":true},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks Greg, PTAL. \n\n@Nicolas: would you mind taking one more look over the changes in pref_model_associator.cc to make sure they still look alright? \n\nNotably there is a small behaviour change at line 464 here https://codereview.chromium.org/24930003/diff2/34001:45001/chrome/browser/prefs/pref_model_associator.cc that would be great if you could sign off on.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode52\nchrome/browser/prefs/pref_model_associator.cc:52: // the old and new preference names here will do the right thing by the sync\nOn 2013/10/07 20:15:16, grt wrote:\n> what is \"the right thing\"? maybe spell out that it causes values under the old\n> name that come down from sync to warp to the new name (assuming that's what it\n> means).\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode55\nchrome/browser/prefs/pref_model_associator.cc:55: struct MigratedPreferences {\nOn 2013/10/07 20:15:16, grt wrote:\n> const struct\n\nDone. \n\n> mega nit: this type doesn't need a name, but maybe it's happier with one.\n\nI prefer useful symbol names and dislike anonymous types.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode56\nchrome/browser/prefs/pref_model_associator.cc:56: const char* old_name;\nOn 2013/10/07 20:15:16, grt wrote:\n> const char* const\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode63\nchrome/browser/prefs/pref_model_associator.cc:63: for (int i = 0; i < arraysize(kMigratedPreferences); ++i) {\nOn 2013/10/07 20:15:16, grt wrote:\n> int -> size_t since you're comparing with arraysize, which returns size_t (here\n> and line 71).\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode67\nchrome/browser/prefs/pref_model_associator.cc:67: return \"\";\nOn 2013/10/07 20:15:16, grt wrote:\n> \"\" -> std::string() here and line 75\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/pref_model_associator.cc#newcode460\nchrome/browser/prefs/pref_model_associator.cc:460: } else if (!IsPrefRegistered(pref_name)) {\nOn 2013/10/07 20:15:16, grt wrote:\n> in the block above, it's safe to assume that new_name.c_str() is always\n> registered?\n\nThat's interesting. MAD's patch was doing so, but looking at line 464 I am not so sure.\n\nI see no reason to bypass the IsPrefRegistered check here just because of the migration, so I'll drop the 'else'.\n\n@Nicolas, please holler if you object.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/session_startup_pref.cc#newcode185\nchrome/browser/prefs/session_startup_pref.cc:185: DCHECK(now > last_migration_time);\nOn 2013/10/07 20:15:16, grt wrote:\n> DCHECK_GT\n\nDoesn't seem to work with base::Time objects.\n\n> for safety, i suggest adding:\n>   if (now < last_migration_time)\n>     last_migration_time = now;\n> i don't know what exactly happens around DST, leap seconds, flaky BIOS clocks,\n> unpredictable rounding, IEEE doubles, etc, but may as well play it safe.\n\nI asked MAD about this here: https://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/session_startup_pref.cc#newcode187\nand the behaviour is apparently that 0 will be recorded anyway for negative values. \n\nI'll clamp it to zero anyway to make it explicit.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.cc#newcode87\nchrome/common/pref_names.cc:87: // Old startup url pref and migration time delta as a double in miliseconds.\nOn 2013/10/07 20:15:16, grt wrote:\n> kRestoreStartupURLsMigrated is not a delta, nor is it in milliseconds. \n\nThis is true, I'll update the comment.\n\nit is the\n> time at which the last migration took place, measured in the (fractional) number\n> number of seconds since the UNIX epoch. given that this is an internal value\n> used for our own computations, why not use an int64 to hold it, and use\n> Time::{From,To}InternalValue to store/load it? this seems more efficient and\n> more accurate.\n\nProbably not more efficient as json doesn't have a big int type, while it does have a double type. The prefs system will convert int64s to strings and back under the hood. Likely more accurate, though not sure if meaningfully so. \n\nI'll change it anyway since this value appears to only be used for serialization and base::Time explicitly recommends using int64s (via ToInternalValue) for serialization.\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.h\nFile chrome/common/pref_names.h (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/common/pref_names.h#newcode37\nchrome/common/pref_names.h:37: extern const char kURLsToRestoreOnStartupOld[];\nOn 2013/10/07 20:15:16, grt wrote:\n> is there an echo in here?\n\nhere here here... \n\nugh, merge splatter, thanks for catching.","disapproval":false,"date":"2013-10-08 01:52:12.797030","approval":false},{"sender":"grt@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"lgtm\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/34001/chrome/browser/prefs/session_startup_pref.cc#newcode185\nchrome/browser/prefs/session_startup_pref.cc:185: DCHECK(now > last_migration_time);\nOn 2013/10/08 01:52:13, robertshield wrote:\n> On 2013/10/07 20:15:16, grt wrote:\n> > DCHECK_GT\n> \n> Doesn't seem to work with base::Time objects.\n\npity.\n> > for safety, i suggest adding:\n> >   if (now < last_migration_time)\n> >     last_migration_time = now;\n> > i don't know what exactly happens around DST, leap seconds, flaky BIOS clocks,\n> > unpredictable rounding, IEEE doubles, etc, but may as well play it safe.\n> \n> I asked MAD about this here:\n> https://codereview.chromium.org/24930003/diff/14001/chrome/browser/prefs/session_startup_pref.cc#newcode187\n> and the behaviour is apparently that 0 will be recorded anyway for negative\n> values. \n\noh, sorry for repeating.\n\nhttps://codereview.chromium.org/24930003/diff/45001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/45001/chrome/browser/prefs/session_startup_pref.cc#newcode177\nchrome/browser/prefs/session_startup_pref.cc:177: base::Time::Now().ToInternalValue());\nnit: indentation","disapproval":false,"date":"2013-10-08 13:20:11.032390","approval":true},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"new sync logic LGTM","disapproval":false,"date":"2013-10-08 18:49:10.425480","approval":true},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/80001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/80001/chrome/browser/prefs/pref_model_associator.cc#newcode172\nchrome/browser/prefs/pref_model_associator.cc:172: syncer::SyncChange::ACTION_UPDATE,\nIt occurs to me this isn't always correct (and this is likely the reason the tests are failing). We should only UPDATE if the old pref exists, else we should ADD.\n\nIt's a bit tricky to know if a synced version of a preference exists at this point, because we're still iterating over the set of synced preferences during the MergeDataAndStartSyncing call. It might be better to wait to push these changes until the end of MergeDataAndStartSyncing, when you know whether a synced version of the old pref exists or not.\n\nhttps://codereview.chromium.org/24930003/diff/80001/chrome/browser/prefs/pref_model_associator.cc#newcode594\nchrome/browser/prefs/pref_model_associator.cc:594: syncer::SyncChange::ACTION_UPDATE,\nhere too. We can check synced_preferences_.count(old_name) to see if it exists or not","disapproval":false,"date":"2013-10-09 17:40:52.162890","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks Nicolas, PTAL\n\nhttps://codereview.chromium.org/24930003/diff/45001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/45001/chrome/browser/prefs/session_startup_pref.cc#newcode177\nchrome/browser/prefs/session_startup_pref.cc:177: base::Time::Now().ToInternalValue());\nOn 2013/10/08 13:20:11, grt wrote:\n> nit: indentation\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/80001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/80001/chrome/browser/prefs/pref_model_associator.cc#newcode172\nchrome/browser/prefs/pref_model_associator.cc:172: syncer::SyncChange::ACTION_UPDATE,\nOn 2013/10/09 17:40:52, Nicolas Zea wrote:\n> It occurs to me this isn't always correct (and this is likely the reason the\n> tests are failing). We should only UPDATE if the old pref exists, else we should\n> ADD.\n> \n> It's a bit tricky to know if a synced version of a preference exists at this\n> point, because we're still iterating over the set of synced preferences during\n> the MergeDataAndStartSyncing call. It might be better to wait to push these\n> changes until the end of MergeDataAndStartSyncing, when you know whether a\n> synced version of the old pref exists or not.\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/80001/chrome/browser/prefs/pref_model_associator.cc#newcode594\nchrome/browser/prefs/pref_model_associator.cc:594: syncer::SyncChange::ACTION_UPDATE,\nOn 2013/10/09 17:40:52, Nicolas Zea wrote:\n> here too. We can check synced_preferences_.count(old_name) to see if it exists\n> or not\n\nDone.","disapproval":false,"date":"2013-10-10 00:40:16.640350","approval":false},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Some comments. Additionally, I think this patch has reached sufficient complexity that some pref_model_associator_unittests are meritted.\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc#newcode206\nchrome/browser/prefs/pref_model_associator.cc:206: synced_preferences_.insert(pref_name);\nI don't think this will ever add the old pref name to the synced_preferences_ list, which means that the below check in synced_preferences_ for the name won't work properly. It probably makes sense to have this insert preference.name() now.\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h\nFile chrome/browser/prefs/pref_model_associator.h (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h#newcode114\nchrome/browser/prefs/pref_model_associator.h:114: typedef std::vector<std::pair<std::string, syncer::SyncData> >\nwhy switch to a vector? I think a map is still correct.\n\nConsider, for example, the case where you have both a synced version of the new preference and one of the old preference, and they don't match with the local version of the new preference.\n\nAs you're iterating, you'll encounter the synced version of one with value A, merge it with the local version with value L, and wind up with AL as the new synced value you need to push back to the old pref. You'll then continue, see the second synced pref with value B, merge it with the local value AL, and wind up with ABL, which is _now_ the value you should be syncing back to _both.\n\nI think it would make more sense to use a map, so that the second time you generate the value, you'll overwrite the first value (although in practice passing two changes to the same value is the same as just passing the second change).","disapproval":false,"date":"2013-10-10 17:44:14.459570","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks Nicolas, new patch uploaded. Please check the comment about inserting into synced_preferences_ to see whether I understood you correctly. \n\nFiguring out tests now, figure some combinations of merging local / remote migrated values are in order, do have any other recommendations for tests?\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc#newcode206\nchrome/browser/prefs/pref_model_associator.cc:206: synced_preferences_.insert(pref_name);\nOn 2013/10/10 17:44:14, Nicolas Zea wrote:\n> I don't think this will ever add the old pref name to the synced_preferences_\n> list, which means that the below check in synced_preferences_ for the name won't\n> work properly. \n\nAh true, the pref will still get synced but subsequent updates will again run as ADD actions which I guess won't work as desired.\n\nIt probably makes sense to have this insert preference.name()\n> now.\n\nI'm not 100% sure I understand this last bit. Do you mean rather that I should insert GetOldMigratedPreferenceName(pref_name) into synced_preferences_ (presumably ~line 173), or do you mean something else?\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h\nFile chrome/browser/prefs/pref_model_associator.h (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h#newcode114\nchrome/browser/prefs/pref_model_associator.h:114: typedef std::vector<std::pair<std::string, syncer::SyncData> >\nOn 2013/10/10 17:44:14, Nicolas Zea wrote:\n> why switch to a vector? I think a map is still correct.\n> \n> Consider, for example, the case where you have both a synced version of the new\n> preference and one of the old preference, and they don't match with the local\n> version of the new preference.\n> \n> As you're iterating, you'll encounter the synced version of one with value A,\n> merge it with the local version with value L, and wind up with AL as the new\n> synced value you need to push back to the old pref. You'll then continue, see\n> the second synced pref with value B, merge it with the local value AL, and wind\n> up with ABL, which is _now_ the value you should be syncing back to _both.\n> \n> I think it would make more sense to use a map, so that the second time you\n> generate the value, you'll overwrite the first value (although in practice\n> passing two changes to the same value is the same as just passing the second\n> change).\n\nOk, I hadn't understood that MergeDataAndStartSyncing could iterate over the same preference name multiple times. I've switched it back to a map.","disapproval":false,"date":"2013-10-10 20:06:20.666160","approval":false},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc#newcode206\nchrome/browser/prefs/pref_model_associator.cc:206: synced_preferences_.insert(pref_name);\nOn 2013/10/10 20:06:21, robertshield wrote:\n> On 2013/10/10 17:44:14, Nicolas Zea wrote:\n> > I don't think this will ever add the old pref name to the synced_preferences_\n> > list, which means that the below check in synced_preferences_ for the name\n> won't\n> > work properly. \n> \n> Ah true, the pref will still get synced but subsequent updates will again run as\n> ADD actions which I guess won't work as desired.\n> \n> It probably makes sense to have this insert preference.name()\n> > now.\n> \n> I'm not 100% sure I understand this last bit. Do you mean rather that I should\n> insert GetOldMigratedPreferenceName(pref_name) into synced_preferences_\n> (presumably ~line 173), or do you mean something else?\n> \n\nBasically, if the preference sync is passing to the model associator is the old preference, we need to somehow know that sync has an entity for the old preference already. preference.name() matches whatever sync has (pref_name is the one that would be the migrated pref), so I think it makes sense to insert preference.name() here.\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h\nFile chrome/browser/prefs/pref_model_associator.h (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h#newcode114\nchrome/browser/prefs/pref_model_associator.h:114: typedef std::vector<std::pair<std::string, syncer::SyncData> >\nOn 2013/10/10 20:06:21, robertshield wrote:\n> On 2013/10/10 17:44:14, Nicolas Zea wrote:\n> > why switch to a vector? I think a map is still correct.\n> > \n> > Consider, for example, the case where you have both a synced version of the\n> new\n> > preference and one of the old preference, and they don't match with the local\n> > version of the new preference.\n> > \n> > As you're iterating, you'll encounter the synced version of one with value A,\n> > merge it with the local version with value L, and wind up with AL as the new\n> > synced value you need to push back to the old pref. You'll then continue, see\n> > the second synced pref with value B, merge it with the local value AL, and\n> wind\n> > up with ABL, which is _now_ the value you should be syncing back to _both.\n> > \n> > I think it would make more sense to use a map, so that the second time you\n> > generate the value, you'll overwrite the first value (although in practice\n> > passing two changes to the same value is the same as just passing the second\n> > change).\n> \n> Ok, I hadn't understood that MergeDataAndStartSyncing could iterate over the\n> same preference name multiple times. I've switched it back to a map.\n\nWell, it's not that MergeDataAndStartSyncing will iterate over a preference multiple times (the SyncDataList has only one of each synced preference), it's that we may wind up with multiple writes to the same migrated preference.\n\nhttps://codereview.chromium.org/24930003/diff/101001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/101001/chrome/browser/prefs/pref_model_associator.cc#newcode159\nchrome/browser/prefs/pref_model_associator.cc:159: syncer::SyncChange::ACTION_UPDATE,\nthinking about it some more, ACTION_UPDATE here might also be prone to errors if the migrated preference hasn't been synced yet. For example, if the old preference is synced, but the new one isn't yet, this will attempt to update the new preference, which is an error.\n\nI think you probably need to put this value into the map if pref_name is the new migrated name and preference.name() is the old migrated name.","disapproval":false,"date":"2013-10-10 20:35:08.994620","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks Nicolas, made the changes you suggested and added some tests. PTAL and let me know if there are any other tests I could add. Thanks!\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.cc#newcode206\nchrome/browser/prefs/pref_model_associator.cc:206: synced_preferences_.insert(pref_name);\nOn 2013/10/10 20:35:09, Nicolas Zea wrote:\n> On 2013/10/10 20:06:21, robertshield wrote:\n> > On 2013/10/10 17:44:14, Nicolas Zea wrote:\n> > > I don't think this will ever add the old pref name to the\n> synced_preferences_\n> > > list, which means that the below check in synced_preferences_ for the name\n> > won't\n> > > work properly. \n> > \n> > Ah true, the pref will still get synced but subsequent updates will again run\n> as\n> > ADD actions which I guess won't work as desired.\n> > \n> > It probably makes sense to have this insert preference.name()\n> > > now.\n> > \n> > I'm not 100% sure I understand this last bit. Do you mean rather that I should\n> > insert GetOldMigratedPreferenceName(pref_name) into synced_preferences_\n> > (presumably ~line 173), or do you mean something else?\n> > \n> \n> Basically, if the preference sync is passing to the model associator is the old\n> preference, we need to somehow know that sync has an entity for the old\n> preference already. preference.name() matches whatever sync has (pref_name is\n> the one that would be the migrated pref), so I think it makes sense to insert\n> preference.name() here.\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h\nFile chrome/browser/prefs/pref_model_associator.h (right):\n\nhttps://codereview.chromium.org/24930003/diff/89001/chrome/browser/prefs/pref_model_associator.h#newcode114\nchrome/browser/prefs/pref_model_associator.h:114: typedef std::vector<std::pair<std::string, syncer::SyncData> >\nOn 2013/10/10 20:35:09, Nicolas Zea wrote:\n> On 2013/10/10 20:06:21, robertshield wrote:\n> > On 2013/10/10 17:44:14, Nicolas Zea wrote:\n> > > why switch to a vector? I think a map is still correct.\n> > > \n> > > Consider, for example, the case where you have both a synced version of the\n> > new\n> > > preference and one of the old preference, and they don't match with the\n> local\n> > > version of the new preference.\n> > > \n> > > As you're iterating, you'll encounter the synced version of one with value\n> A,\n> > > merge it with the local version with value L, and wind up with AL as the new\n> > > synced value you need to push back to the old pref. You'll then continue,\n> see\n> > > the second synced pref with value B, merge it with the local value AL, and\n> > wind\n> > > up with ABL, which is _now_ the value you should be syncing back to _both.\n> > > \n> > > I think it would make more sense to use a map, so that the second time you\n> > > generate the value, you'll overwrite the first value (although in practice\n> > > passing two changes to the same value is the same as just passing the second\n> > > change).\n> > \n> > Ok, I hadn't understood that MergeDataAndStartSyncing could iterate over the\n> > same preference name multiple times. I've switched it back to a map.\n> \n> Well, it's not that MergeDataAndStartSyncing will iterate over a preference\n> multiple times (the SyncDataList has only one of each synced preference), it's\n> that we may wind up with multiple writes to the same migrated preference.\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/101001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/101001/chrome/browser/prefs/pref_model_associator.cc#newcode159\nchrome/browser/prefs/pref_model_associator.cc:159: syncer::SyncChange::ACTION_UPDATE,\nOn 2013/10/10 20:35:09, Nicolas Zea wrote:\n> thinking about it some more, ACTION_UPDATE here might also be prone to errors if\n> the migrated preference hasn't been synced yet. For example, if the old\n> preference is synced, but the new one isn't yet, this will attempt to update the\n> new preference, which is an error.\n> \n> I think you probably need to put this value into the map if pref_name is the new\n> migrated name and preference.name() is the old migrated name.\n\nDone.","disapproval":false,"date":"2013-10-11 18:29:30.760800","approval":false},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc#newcode156\nchrome/browser/prefs/pref_model_associator.cc:156: if (preference.name() == old_pref_name && migrated_preference_list) {\nI think it's invalid to call InitPrefAndAssociate with an old preference and not have the migrated_preference_list. In that case, I'd leave the first condition, and have DCHECK(migrated_preference_list) within the body.\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc#newcode181\nchrome/browser/prefs/pref_model_associator.cc:181: synced_preferences_.insert(preference.name());\nI think rather than having this here, you need to change the one at line 217 to use preference.name().\n\nFor example, if the migrated synced pref doesn't exist, pref_name will be for the migrated pref, and adding it into synced_preferences_ is invalid. If you do, at the later migrated_preferences phase you'll assume the preference exists, and do an ACTION_UPDATE, when it should be an ACTION_ADD.\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc#newcode638\nchrome/browser/prefs/pref_model_associator.cc:638: (synced_preferences_.count(name) == 0) ?\nthis should be old_pref_name right?\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc\nFile chrome/browser/sync/profile_sync_service_preference_unittest.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc#newcode413\nchrome/browser/sync/profile_sync_service_preference_unittest.cc:413: ListPrefUpdate update(prefs_, prefs::kURLsToRestoreOnStartupOld);\nIs this used for anything?\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc#newcode424\nchrome/browser/sync/profile_sync_service_preference_unittest.cc:424: cloud_data[prefs::kURLsToRestoreOnStartup] = urls_to_restore;\nIf this test is for old migrated data in the cloud, shouldn't this be kURLsToRestoreOnStartupOld?\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc#newcode437\nchrome/browser/sync/profile_sync_service_preference_unittest.cc:437: // Expect that\nfinish comment?","disapproval":false,"date":"2013-10-11 19:58:54.116840","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks Nicolas, PTAL\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc#newcode156\nchrome/browser/prefs/pref_model_associator.cc:156: if (preference.name() == old_pref_name && migrated_preference_list) {\nOn 2013/10/11 19:58:54, Nicolas Zea wrote:\n> I think it's invalid to call InitPrefAndAssociate with an old preference and not\n> have the migrated_preference_list. In that case, I'd leave the first condition,\n> and have DCHECK(migrated_preference_list) within the body.\n\nAfaict it should never happen and I'll add the DCHECK. I'm leery of leaving the pointer dereference there in release mode without checking it because I'm not extremely confident in my assessment that it will never happen. \n\nLet me know if you think I'm being overly paranoid and I'll drop the migrated_preference_list check too.\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc#newcode181\nchrome/browser/prefs/pref_model_associator.cc:181: synced_preferences_.insert(preference.name());\nOn 2013/10/11 19:58:54, Nicolas Zea wrote:\n> I think rather than having this here, you need to change the one at line 217 to\n> use preference.name().\n> \n> For example, if the migrated synced pref doesn't exist, pref_name will be for\n> the migrated pref, and adding it into synced_preferences_ is invalid. If you do,\n> at the later migrated_preferences phase you'll assume the preference exists, and\n> do an ACTION_UPDATE, when it should be an ACTION_ADD.\n\npreference.name() is only defined if sync_pref.IsValid() is true. In cases where sync_pref is not valid (there are two such callsites) I think we should still add pref_name and rather just make sure to not add pref_name if preference.name() has already been added.\n\nDid that, let me know what you think.\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/prefs/pref_model_associator.cc#newcode638\nchrome/browser/prefs/pref_model_associator.cc:638: (synced_preferences_.count(name) == 0) ?\nOn 2013/10/11 19:58:54, Nicolas Zea wrote:\n> this should be old_pref_name right?\n\noops, yes. good catch.\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc\nFile chrome/browser/sync/profile_sync_service_preference_unittest.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc#newcode413\nchrome/browser/sync/profile_sync_service_preference_unittest.cc:413: ListPrefUpdate update(prefs_, prefs::kURLsToRestoreOnStartupOld);\nOn 2013/10/11 19:58:54, Nicolas Zea wrote:\n> Is this used for anything?\n\nThis should have been (and now is) prefs::kURLsToRestoreOnStartup.\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc#newcode424\nchrome/browser/sync/profile_sync_service_preference_unittest.cc:424: cloud_data[prefs::kURLsToRestoreOnStartup] = urls_to_restore;\nOn 2013/10/11 19:58:54, Nicolas Zea wrote:\n> If this test is for old migrated data in the cloud, shouldn't this be\n> kURLsToRestoreOnStartupOld?\n\nYes, sorry, this test was borked. Revised.\n\nhttps://codereview.chromium.org/24930003/diff/111001/chrome/browser/sync/profile_sync_service_preference_unittest.cc#newcode437\nchrome/browser/sync/profile_sync_service_preference_unittest.cc:437: // Expect that\nOn 2013/10/11 19:58:54, Nicolas Zea wrote:\n> finish comment?\n\nDone.","disapproval":false,"date":"2013-10-11 21:47:23.076470","approval":false},{"sender":"zea@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","chromium-reviews@chromium.org"],"text":"LGTM!","disapproval":false,"date":"2013-10-14 21:25:36.795630","approval":true},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org"],"text":"OWNERS reviews please!\n\nbattre@ -> chrome\\browser\\prefs, chrome\\browser\\profile_resetter\njhawkins@ -> chrome\\browser\\resources\\options\nasvitkine@ -> histograms\n\nThanks!\nRobert","disapproval":false,"date":"2013-10-15 00:47:04.100460","approval":false},{"sender":"mad@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org"],"text":"There are two changes that shouldn't be there.\n\nAnd sorry for not noticing that there were places where the pref names were used verbatim as opposed to using the goobal kVariable[]... :-(\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/browser_options.js\nFile chrome/browser/resources/options/browser_options.js (left):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/browser_options.js#oldcode106\nchrome/browser/resources/options/browser_options.js:106: Preferences.getInstance().addEventListener('session.restore_on_startup',\nThis is not the same pref as urls_to_restore_on_startup, you should not change that!\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/startup_section.html\nFile chrome/browser/resources/options/startup_section.html (left):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/startup_section.html#oldcode7\nchrome/browser/resources/options/startup_section.html:7: pref=\"session.restore_on_startup\"\nAgain, this is not the same pref as urls_to_restore_on_startup, you should not change that!","disapproval":false,"date":"2013-10-15 14:31:15.846420","approval":false},{"sender":"asvitkine@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode27\nchrome/browser/prefs/session_startup_pref.cc:27: STARTUP_URLS_MIGRATION_METRICS_STARTED,\nI'm not sure _STARTED is accurate here. Perhaps _PERFORMED would be a better choice?\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode161\nchrome/browser/prefs/session_startup_pref.cc:161: if (old_startup_urls && old_startup_urls->GetSize() > 0) {\nNit: use !old_startup_urls->empty()\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode167\nchrome/browser/prefs/session_startup_pref.cc:167: STARTUP_URLS_MIGRATION_METRICS_STARTED,\nNit: Can you move the UMA macro below outside the if and make a local var that's the enum value that you'll log. This way, you won't need to repeat the macro two times.\n\nAlternatively, make a small function in the anon namespace that takes the enum value as a param and logs the histogram. Then, you can also call it for the STARTUP_URLS_MIGRATION_METRICS_RESET case below.\n\nContext: Each histogram macro expands to a large-ish block of code, so it's better to avoid repeating them (i.e. better for code size, etc).\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode170\nchrome/browser/prefs/session_startup_pref.cc:170: // We migrated but the migration data got deleted somehow.\nWouldn't this case be quite normal if there were simply no startup urls in prefs but the migration code hadn't run yet? If so, perhaps update the comment / enum name (e.g. to _NO_URLS_TO_MIGRATE) for example.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode178\nchrome/browser/prefs/session_startup_pref.cc:178: } else if (old_startup_urls && old_startup_urls->GetSize() > 0) {\nNit: old_startup_urls->empty()\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode185\nchrome/browser/prefs/session_startup_pref.cc:185: DCHECK(now > last_migration_time);\nCan DCHECK_GT() work here?\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/common/pref_names.cc#newcode88\nchrome/common/pref_names.cc:88: // base::Time::ToInternalValue for details).\nNit: I'd have one comment above each constant below (so it's clear which is which), rather than commenting them together.\n\nhttps://codereview.chromium.org/24930003/diff/127001/tools/metrics/histograms/histograms.xml\nFile tools/metrics/histograms/histograms.xml (right):\n\nhttps://codereview.chromium.org/24930003/diff/127001/tools/metrics/histograms/histograms.xml#newcode15407\ntools/metrics/histograms/histograms.xml:15407: +    The time elapsed in miliseconds in between startup URLs pref migration.\nNit: milliseconds (two l's)\n\nMention that a value of 0 indicates that the last migration time was in the future (e.g. due to wrong system time).\n\nhttps://codereview.chromium.org/24930003/diff/127001/tools/metrics/histograms/histograms.xml#newcode27043\ntools/metrics/histograms/histograms.xml:27043: +  <int value=\"0\" label=\"Started\"/>\nNit: \"Started migration\" - same for the others below.","disapproval":false,"date":"2013-10-15 14:40:55.292640","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks! PTAL\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode27\nchrome/browser/prefs/session_startup_pref.cc:27: STARTUP_URLS_MIGRATION_METRICS_STARTED,\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> I'm not sure _STARTED is accurate here. Perhaps _PERFORMED would be a better\n> choice?\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode161\nchrome/browser/prefs/session_startup_pref.cc:161: if (old_startup_urls && old_startup_urls->GetSize() > 0) {\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Nit: use !old_startup_urls->empty()\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode167\nchrome/browser/prefs/session_startup_pref.cc:167: STARTUP_URLS_MIGRATION_METRICS_STARTED,\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Nit: Can you move the UMA macro below outside the if and make a local var that's\n> the enum value that you'll log. This way, you won't need to repeat the macro two\n> times.\n> \n> Alternatively, make a small function in the anon namespace that takes the enum\n> value as a param and logs the histogram. Then, you can also call it for the\n> STARTUP_URLS_MIGRATION_METRICS_RESET case below.\n> \n> Context: Each histogram macro expands to a large-ish block of code, so it's\n> better to avoid repeating them (i.e. better for code size, etc).\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode170\nchrome/browser/prefs/session_startup_pref.cc:170: // We migrated but the migration data got deleted somehow.\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Wouldn't this case be quite normal if there were simply no startup urls in prefs\n> but the migration code hadn't run yet? If so, perhaps update the comment / enum\n> name (e.g. to _NO_URLS_TO_MIGRATE) for example.\n\nI believe you are correct. Updated the name to STARTUP_URLS_MIGRATION_METRICS_NOT_PRESENT and updated the value in histograms.xml as well.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode178\nchrome/browser/prefs/session_startup_pref.cc:178: } else if (old_startup_urls && old_startup_urls->GetSize() > 0) {\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Nit: old_startup_urls->empty()\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/prefs/session_startup_pref.cc#newcode185\nchrome/browser/prefs/session_startup_pref.cc:185: DCHECK(now > last_migration_time);\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Can DCHECK_GT() work here?\n\nSadly, no. I tried and it doesn't work with base::Time due to a lack of an operator<< implementation.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/browser_options.js\nFile chrome/browser/resources/options/browser_options.js (left):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/browser_options.js#oldcode106\nchrome/browser/resources/options/browser_options.js:106: Preferences.getInstance().addEventListener('session.restore_on_startup',\nOn 2013/10/15 14:31:16, MAD wrote:\n> This is not the same pref as urls_to_restore_on_startup, you should not change\n> that!\n\nThanks, good catch.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/startup_section.html\nFile chrome/browser/resources/options/startup_section.html (left):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/browser/resources/options/startup_section.html#oldcode7\nchrome/browser/resources/options/startup_section.html:7: pref=\"session.restore_on_startup\"\nOn 2013/10/15 14:31:16, MAD wrote:\n> Again, this is not the same pref as urls_to_restore_on_startup, you should not\n> change that!\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/127001/chrome/common/pref_names.cc#newcode88\nchrome/common/pref_names.cc:88: // base::Time::ToInternalValue for details).\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Nit: I'd have one comment above each constant below (so it's clear which is\n> which), rather than commenting them together.\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/127001/tools/metrics/histograms/histograms.xml\nFile tools/metrics/histograms/histograms.xml (right):\n\nhttps://codereview.chromium.org/24930003/diff/127001/tools/metrics/histograms/histograms.xml#newcode15407\ntools/metrics/histograms/histograms.xml:15407: +    The time elapsed in miliseconds in between startup URLs pref migration.\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Nit: milliseconds (two l's)\n> \n> Mention that a value of 0 indicates that the last migration time was in the\n> future (e.g. due to wrong system time).\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/127001/tools/metrics/histograms/histograms.xml#newcode27043\ntools/metrics/histograms/histograms.xml:27043: +  <int value=\"0\" label=\"Started\"/>\nOn 2013/10/15 14:40:55, Alexei Svitkine wrote:\n> Nit: \"Started migration\" - same for the others below.\n\nDone.","disapproval":false,"date":"2013-10-15 18:00:43.401310","approval":false},{"sender":"asvitkine@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","chromium-reviews@chromium.org"],"text":"LGTM with a comment\n\nhttps://codereview.chromium.org/24930003/diff/148001/tools/metrics/histograms/histograms.xml\nFile tools/metrics/histograms/histograms.xml (right):\n\nhttps://codereview.chromium.org/24930003/diff/148001/tools/metrics/histograms/histograms.xml#newcode27046\ntools/metrics/histograms/histograms.xml:27046: +  <int value=\"1\" label=\"Deleted migration\"/>\nNit: Update these labels per the new enum names.","disapproval":false,"date":"2013-10-15 18:05:29.264120","approval":true},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks Alexei.\n\nMoar OWNERS reviews please! \n\nbauerb@ -> chrome\\browser\\prefs\nvabr@-> chrome\\browser\\profile_resetter\njhawkins@ -> chrome\\browser\\resources\\options\n\nhttps://codereview.chromium.org/24930003/diff/148001/tools/metrics/histograms/histograms.xml\nFile tools/metrics/histograms/histograms.xml (right):\n\nhttps://codereview.chromium.org/24930003/diff/148001/tools/metrics/histograms/histograms.xml#newcode27046\ntools/metrics/histograms/histograms.xml:27046: +  <int value=\"1\" label=\"Deleted migration\"/>\nOn 2013/10/15 18:05:30, Alexei Svitkine wrote:\n> Nit: Update these labels per the new enum names.\n\nSorry, missed this file last upload. Done.","disapproval":false,"date":"2013-10-15 21:29:17.062200","approval":false},{"sender":"bauerb@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc#newcode153\nchrome/browser/prefs/pref_model_associator.cc:153: if (IsMigratedPreference(pref_name.c_str())) {\nThis logic is fairly tricky. We should think about some way to make sure that other pref migration code added in the future will also be handled here.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode166\nchrome/browser/prefs/session_startup_pref.cc:166: if (old_startup_urls && !old_startup_urls->empty()) {\n|old_startup_urls| is guaranteed not to be NULL.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode168\nchrome/browser/prefs/session_startup_pref.cc:168: prefs->Set(prefs::kURLsToRestoreOnStartupOld, base::ListValue());\nYou can use prefs->ClearPref().\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode182\nchrome/browser/prefs/session_startup_pref.cc:182: prefs->Set(prefs::kURLsToRestoreOnStartupOld, base::ListValue());\nIt seems like you are doing a lot of similar things in the two branches here (clear the old value, set the new migration time). Would it simplify things if you merged the two branches?\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode187\nchrome/browser/prefs/session_startup_pref.cc:187: DCHECK(now > last_migration_time);\nNit: DCHECK_GT(now, last_migration_time) gives nicer messages in case of a check failure.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode188\nchrome/browser/prefs/session_startup_pref.cc:188: if (now < last_migration_time)\nThis looks like you're handling a DCHECK failure? You're not supposed to do that, see http://dev.chromium.org/developers/coding-style#TOC-CHECK-DCHECK-and-NOTREACHED-.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/common/pref_names.cc#newcode92\nchrome/common/pref_names.cc:92: const char kRestoreStartupURLsMigrated[] = \"session.startup_urls_migrated\";\nYou could rename this to make it clearer that it's a migration timestamp rather than the migrated value of |kRestoreStartupURLs|.","disapproval":false,"date":"2013-10-15 22:03:52.222530","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"Thanks Bernhard, PTAL\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc#newcode153\nchrome/browser/prefs/pref_model_associator.cc:153: if (IsMigratedPreference(pref_name.c_str())) {\nOn 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> This logic is fairly tricky. We should think about some way to make sure that\n> other pref migration code added in the future will also be handled here.\n\nIt is more complex than I had hoped, but it is as future proof as I think it is worth making it. Two types of future migration come to mind:\n\n1) Migrating additional prefs using the same sync and merge strategy. As per the comment on line 56, migrating new prefs using the same strategy will be quite straightforward. \n\n2) Migrating prefs using different sync and merging rules. We don't currently have plans to do this and given the complexity of this relatively simple operation, it's unlikely that we'll pursue this further. I'd prefer not to over-generalise this code until and unless such plans come about.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode166\nchrome/browser/prefs/session_startup_pref.cc:166: if (old_startup_urls && !old_startup_urls->empty()) {\nOn 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> |old_startup_urls| is guaranteed not to be NULL.\n\nThat does not line up with my reading of PrefService::GetList in pref_service.cc. Am I misreading?\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode168\nchrome/browser/prefs/session_startup_pref.cc:168: prefs->Set(prefs::kURLsToRestoreOnStartupOld, base::ListValue());\nOn 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> You can use prefs->ClearPref().\n\nDone.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode182\nchrome/browser/prefs/session_startup_pref.cc:182: prefs->Set(prefs::kURLsToRestoreOnStartupOld, base::ListValue());\nOn 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> It seems like you are doing a lot of similar things in the two branches here\n> (clear the old value, set the new migration time). Would it simplify things if\n> you merged the two branches?\n\nPlayed around with the logic a bit. I extracted the histogram logic (which helps with code size, as Alexei pointed out UMA macros expand to mucho code) but wasn't able to make this any shorter without making it more convoluted. Let me know if you have a better factorization in mind.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode187\nchrome/browser/prefs/session_startup_pref.cc:187: DCHECK(now > last_migration_time);\nOn 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> Nit: DCHECK_GT(now, last_migration_time) gives nicer messages in case of a check\n> failure.\n\nSadly, DCHECK_GT doesn't work with base::Time instances. Seems there's a missing operator<< or some such. This said, I'll remove the DCHECK based on your next comment.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode188\nchrome/browser/prefs/session_startup_pref.cc:188: if (now < last_migration_time)\nOn 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> This looks like you're handling a DCHECK failure? You're not supposed to do\n> that, see\n> http://dev.chromium.org/developers/coding-style#TOC-CHECK-DCHECK-and-NOTREACHED-.\n\nRemoving the DCHECK, there's no reason for it to be there.\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/common/pref_names.cc\nFile chrome/common/pref_names.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/common/pref_names.cc#newcode92\nchrome/common/pref_names.cc:92: const char kRestoreStartupURLsMigrated[] = \"session.startup_urls_migrated\";\nOn 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> You could rename this to make it clearer that it's a migration timestamp rather\n> than the migrated value of |kRestoreStartupURLs|.\n\nDone.","disapproval":false,"date":"2013-10-16 01:23:26.749090","approval":false},{"sender":"bauerb@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc#newcode153\nchrome/browser/prefs/pref_model_associator.cc:153: if (IsMigratedPreference(pref_name.c_str())) {\nOn 2013/10/16 01:23:27, robertshield wrote:\n> On 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> > This logic is fairly tricky. We should think about some way to make sure that\n> > other pref migration code added in the future will also be handled here.\n> \n> It is more complex than I had hoped, but it is as future proof as I think it is\n> worth making it. Two types of future migration come to mind:\n> \n> 1) Migrating additional prefs using the same sync and merge strategy. As per the\n> comment on line 56, migrating new prefs using the same strategy will be quite\n> straightforward. \n> \n> 2) Migrating prefs using different sync and merging rules. We don't currently\n> have plans to do this and given the complexity of this relatively simple\n> operation, it's unlikely that we'll pursue this further. I'd prefer not to\n> over-generalise this code until and unless such plans come about.\n\nSorry, I wasn't suggesting to change this code, but I just wanted to make sure we also use this for future migrations. More of a note-to-self :)\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode166\nchrome/browser/prefs/session_startup_pref.cc:166: if (old_startup_urls && !old_startup_urls->empty()) {\nOn 2013/10/16 01:23:27, robertshield wrote:\n> On 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> > |old_startup_urls| is guaranteed not to be NULL.\n> \n> That does not line up with my reading of PrefService::GetList in\n> pref_service.cc. Am I misreading?\n\nWell, it's guaranteed not to be NULL in the absence of bugs (as in, running into a NOTREACHED() means a bug). Admittedly, the code in pref_service.cc that does `NOTREACHED(); return NULL;` should not do that. If we would change it to a pure DCHECK, it would make the contract clearer.","disapproval":false,"date":"2013-10-16 15:13:32.246150","approval":false},{"sender":"robertshield@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"https://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc\nFile chrome/browser/prefs/pref_model_associator.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/pref_model_associator.cc#newcode153\nchrome/browser/prefs/pref_model_associator.cc:153: if (IsMigratedPreference(pref_name.c_str())) {\nOn 2013/10/16 15:13:33, Bernhard Bauer wrote:\n> On 2013/10/16 01:23:27, robertshield wrote:\n> > On 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> > > This logic is fairly tricky. We should think about some way to make sure\n> that\n> > > other pref migration code added in the future will also be handled here.\n> > \n> > It is more complex than I had hoped, but it is as future proof as I think it\n> is\n> > worth making it. Two types of future migration come to mind:\n> > \n> > 1) Migrating additional prefs using the same sync and merge strategy. As per\n> the\n> > comment on line 56, migrating new prefs using the same strategy will be quite\n> > straightforward. \n> > \n> > 2) Migrating prefs using different sync and merging rules. We don't currently\n> > have plans to do this and given the complexity of this relatively simple\n> > operation, it's unlikely that we'll pursue this further. I'd prefer not to\n> > over-generalise this code until and unless such plans come about.\n> \n> Sorry, I wasn't suggesting to change this code, but I just wanted to make sure\n> we also use this for future migrations. More of a note-to-self :)\n\nNo worries, I got one less UMA macro expansion out of it, so it's all good :)\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc\nFile chrome/browser/prefs/session_startup_pref.cc (right):\n\nhttps://codereview.chromium.org/24930003/diff/131001/chrome/browser/prefs/session_startup_pref.cc#newcode166\nchrome/browser/prefs/session_startup_pref.cc:166: if (old_startup_urls && !old_startup_urls->empty()) {\nOn 2013/10/16 15:13:33, Bernhard Bauer wrote:\n> On 2013/10/16 01:23:27, robertshield wrote:\n> > On 2013/10/15 22:03:52, Bernhard Bauer wrote:\n> > > |old_startup_urls| is guaranteed not to be NULL.\n> > \n> > That does not line up with my reading of PrefService::GetList in\n> > pref_service.cc. Am I misreading?\n> \n> Well, it's guaranteed not to be NULL in the absence of bugs (as in, running into\n> a NOTREACHED() means a bug). \n\nOn line 308 (https://code.google.com/p/chromium/codesearch#chromium/src/base/prefs/pref_service.cc&l=308), GetList returns NULL if the value type is not of type list. \n\nThe value type is (afaict) ultimately derived from what is in the preferences file, which is user-controlled data and should not be trusted to be intact. Having a corrupted preferences file looks like it would cause NULL to be returned and we should not crash in release builds if this happens. \n\n\n> Admittedly, the code in pref_service.cc that does\n> `NOTREACHED(); return NULL;` should not do that. If we would change it to a pure\n> DCHECK, it would make the contract clearer.","disapproval":false,"date":"2013-10-16 15:50:07.476590","approval":false},{"sender":"bauerb@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"LGTM as discussed off-review.","disapproval":false,"date":"2013-10-16 16:08:05.769440","approval":true},{"sender":"jhawkins@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-10-16 16:53:06.993440","approval":true},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-16 19:00:01.192920","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-16 20:38:25.610400","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-16 21:21:38.603280","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-17 01:29:20.480240","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"Retried try job too often on linux_rel for step(s) browser_tests\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_rel&number=178469","disapproval":false,"date":"2013-10-17 04:53:42.973700","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-17 19:29:34.873040","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"Retried try job too often on linux_aura for step(s) browser_tests\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_aura&number=88007","disapproval":false,"date":"2013-10-18 00:08:18.756950","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:52:17.155500","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:52:42.835050","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:52:54.674470","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:53:07.856250","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:53:20.962550","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:53:36.856620","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:53:58.597350","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:54:41.083110","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:54:53.011430","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:55:06.806550","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:55:16.954670","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:55:32.806700","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:55:44.933610","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:55:58.009760","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:56:11.654360","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:57:00.240810","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:57:17.547730","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:57:30.017210","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:57:41.857930","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:57:53.043130","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:58:10.180910","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:58:22.139550","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:58:34.586620","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:58:46.267560","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:58:58.513740","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:59:10.607120","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:59:31.950150","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 15:59:49.296060","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:00:10.038320","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:00:31.172380","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:00:44.306980","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:01:00.010270","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:01:19.455500","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:01:34.869820","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:01:55.742770","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:02:15.308720","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:02:35.108270","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:02:53.726810","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:03:22.240000","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:03:40.203240","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:04:00.460680","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:04:18.515090","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:05:02.888640","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:05:27.124850","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:05:47.339200","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:06:06.105570","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:06:23.859360","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:06:42.994090","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:06:59.853910","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:07:18.503210","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:07:43.247520","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:08:03.892800","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:08:17.565430","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:08:32.282190","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:08:44.766460","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:08:58.453170","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:09:12.735780","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:09:23.638300","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:09:46.246190","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:10:07.408150","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:10:44.077700","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:11:12.209930","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:11:27.389710","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:11:50.444650","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:12:12.096540","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:12:24.259230","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:12:39.878370","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:12:52.834960","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:13:06.652980","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:13:18.739800","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:13:35.547370","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:13:48.375840","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:14:02.768550","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:14:15.287170","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:14:28.553520","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:14:42.610950","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:14:56.789700","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:15:18.795670","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:15:34.566630","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:15:47.209600","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:16:00.424500","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:16:18.504470","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:16:33.249480","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:16:46.921870","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:17:02.174110","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:17:14.410000","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:17:26.190330","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:17:41.818230","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:17:56.592470","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:18:48.863720","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:19:07.427240","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:19:21.967130","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:19:34.833690","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:19:46.720000","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:19:59.773400","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:20:13.724580","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:20:32.364240","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:20:47.265060","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:21:01.802720","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:21:16.496510","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:21:36.858370","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:21:50.492750","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:22:06.158950","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:22:23.427770","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:22:39.039660","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:22:53.867870","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:23:18.998770","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:23:34.461690","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:23:48.388640","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:24:03.361950","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:24:16.716340","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:24:31.054980","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:24:51.787120","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:25:07.185900","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:25:20.507530","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:25:41.069560","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:26:01.156280","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:26:19.051790","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:26:48.564780","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:27:12.488830","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:27:26.595600","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:27:42.228520","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:27:56.674870","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:28:13.209410","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:28:28.138040","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:28:45.357220","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:28:58.678260","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:29:14.219230","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:29:29.253970","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:29:44.343810","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:29:57.910580","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:30:12.684540","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:30:30.674600","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:30:54.272900","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:32:04.332960","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:33:00.364680","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:33:47.408490","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:34:05.208420","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:34:20.515090","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:34:36.465110","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:34:50.063360","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:35:05.822130","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:35:19.264590","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:35:41.553210","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:36:02.505500","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:36:17.865180","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:36:33.043690","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:36:47.312810","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:37:12.877330","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:37:26.226070","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:37:41.801540","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/168001","disapproval":false,"date":"2013-10-18 16:37:56.276300","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"Step \"update\" is always a major failure.\nLook at the try server FAQ for more details.\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_clang&number=147745","disapproval":false,"date":"2013-10-18 17:17:47.414570","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/mad@chromium.org/24930003/1075001","disapproval":false,"date":"2013-10-19 02:31:28.161740","approval":false},{"sender":"commit-bot@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"Change committed as 229536","disapproval":false,"date":"2013-10-19 10:33:23.859200","approval":false},{"sender":"vabr@chromium.org","recipients":["mad@chromium.org","grt@chromium.org","robertshield@chromium.org","zea@chromium.org","battre@chromium.org","jhawkins@chromium.org","asvitkine@chromium.org","bauerb@chromium.org","vabr@chromium.org","chromium-reviews@chromium.org"],"text":"chrome\\browser\\profile_resetter LGTM.\n\n(Sorry for the delay, I was OOO.)\n\nCheers,\nVaclav","disapproval":false,"date":"2013-10-24 07:45:38.917950","approval":true}],"owner_email":"mad@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"MAD","subject":"Migrate startup URLs pref.","created":"2013-09-27 02:20:22.696700","patchsets":[1,14001,24001,34001,45001,58001,62001,75001,80001,89001,101001,111001,124001,127001,148001,131001,168001,695001,1075001],"modified":"2013-10-24 07:45:41.522990","closed":true,"commit":false,"issue":24930003}