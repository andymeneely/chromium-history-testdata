{"files":{"chrome/browser/extensions/extension_prefs.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":3,"messages":[],"id":2010,"is_binary":false},"chrome/common/extensions/docs/examples/extensions/proxy_configuration.zip":{"status":null,"num_chunks":0,"no_base_file":false,"property_changes":"","num_added":-1,"num_removed":-1,"messages":[],"id":2016,"is_binary":false},"chrome/common/extensions/docs/examples/extensions/proxy_configuration/popup.html":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":4,"messages":[],"id":2017,"is_binary":false},"chrome/common/extensions/docs/preferences.html":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":4,"messages":[],"id":2019,"is_binary":false},"chrome/common/extensions/docs/examples/extensions/proxy_configuration/proxy_form_controller.js":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":4,"messages":[],"id":2018,"is_binary":false},"chrome/browser/extensions/extension_prefs_scope.h":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":23,"num_removed":0,"messages":[],"id":2011,"is_binary":false},"chrome/browser/extensions/extension_preference_api.cc":{"status":"M","num_chunks":7,"no_base_file":false,"property_changes":"","num_added":27,"num_removed":12,"messages":[{"author":"Bernhard Bauer","author_email":"bauerb@chromium.org","text":"In that case you should fail validation (EXTENSION_FUNCTION_VALIDATE style) instead of DCHECKing.","draft":false,"lineno":123,"date":"2011-05-25 00:43:00.334991","left":false},{"author":"battre","author_email":"battre@chromium.org","text":"On 2011/05/25 00:43:00, Bernhard Bauer wrote:\n> In that case you should fail validation (EXTENSION_FUNCTION_VALIDATE style)\n> instead of DCHECKing.\n\nThe EXTENSION_FUNCTION_VALIDATE style validation has taken place already. The Extension API guarantees that only valid strings arrive here. If anything else arrives, this is a bug and should DCHECK.","draft":false,"lineno":123,"date":"2011-05-25 11:31:45.961485","left":false},{"author":"Bernhard Bauer","author_email":"bauerb@chromium.org","text":"On 2011/05/25 11:31:45, battre wrote:\n> On 2011/05/25 00:43:00, Bernhard Bauer wrote:\n> > In that case you should fail validation (EXTENSION_FUNCTION_VALIDATE style)\n> > instead of DCHECKing.\n> \n> The EXTENSION_FUNCTION_VALIDATE style validation has taken place already. The\n> Extension API guarantees that only valid strings arrive here. \n\nAs in, the Javascript API? That can be circumvented though (in which case we should kill the renderer). I don't think this case is any different from the other EXTENSION_FUNCTION_VALIDATE below, which also check stuff which has been checked renderer-side by the JSON validator.\n\n> If anything else\n> arrives, this is a bug and should DCHECK.\n\n","draft":false,"lineno":123,"date":"2011-05-25 17:48:35.045382","left":false},{"author":"Matt Perry","author_email":"mpcomplete@chromium.org","text":"On 2011/05/25 17:48:35, Bernhard Bauer wrote:\n> On 2011/05/25 11:31:45, battre wrote:\n> > On 2011/05/25 00:43:00, Bernhard Bauer wrote:\n> > > In that case you should fail validation (EXTENSION_FUNCTION_VALIDATE style)\n> > > instead of DCHECKing.\n> > \n> > The EXTENSION_FUNCTION_VALIDATE style validation has taken place already. The\n> > Extension API guarantees that only valid strings arrive here. \n> \n> As in, the Javascript API? That can be circumvented though (in which case we\n> should kill the renderer). I don't think this case is any different from the\n> other EXTENSION_FUNCTION_VALIDATE below, which also check stuff which has been\n> checked renderer-side by the JSON validator.\n\nAgreed. EXTENSION_FUNCTION_VALIDATE exists because a renderer could be compromised and send bad messages to the browser. You've only validated that it's a string. You should also validate the enum value.","draft":false,"lineno":123,"date":"2011-05-25 18:40:42.519283","left":false},{"author":"battre","author_email":"battre@chromium.org","text":"On 2011/05/25 18:40:42, Matt Perry wrote:\n> On 2011/05/25 17:48:35, Bernhard Bauer wrote:\n> > On 2011/05/25 11:31:45, battre wrote:\n> > > On 2011/05/25 00:43:00, Bernhard Bauer wrote:\n> > > > In that case you should fail validation (EXTENSION_FUNCTION_VALIDATE\n> style)\n> > > > instead of DCHECKing.\n> > > \n> > > The EXTENSION_FUNCTION_VALIDATE style validation has taken place already.\n> The\n> > > Extension API guarantees that only valid strings arrive here. \n> > \n> > As in, the Javascript API? That can be circumvented though (in which case we\n> > should kill the renderer). I don't think this case is any different from the\n> > other EXTENSION_FUNCTION_VALIDATE below, which also check stuff which has been\n> > checked renderer-side by the JSON validator.\n> \n> Agreed. EXTENSION_FUNCTION_VALIDATE exists because a renderer could be\n> compromised and send bad messages to the browser. You've only validated that\n> it's a string. You should also validate the enum value.\n\nDone.","draft":false,"lineno":123,"date":"2011-05-25 19:47:44.261097","left":false}],"id":2008,"is_binary":false},"chrome/common/extensions/docs/samples.json":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":2020,"is_binary":false},"chrome/browser/extensions/extension_content_settings_apitest.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":3,"messages":[],"id":2004,"is_binary":false},"chrome/test/data/extensions/api_test/proxy/individual_incognito_only/test.js":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":2024,"is_binary":false},"chrome/browser/extensions/extension_pref_value_map_unittest.cc":{"status":"M","num_chunks":13,"no_base_file":false,"property_changes":"","num_added":51,"num_removed":39,"messages":[],"id":2007,"is_binary":false},"chrome/browser/extensions/extension_prefs.cc":{"status":"M","num_chunks":9,"no_base_file":false,"property_changes":"","num_added":57,"num_removed":19,"messages":[],"id":2009,"is_binary":false},"chrome/browser/extensions/extension_pref_value_map.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":9,"num_removed":6,"messages":[],"id":2006,"is_binary":false},"chrome/test/data/extensions/api_test/proxy/individual_incognito_also/test.js":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":2,"messages":[],"id":2023,"is_binary":false},"chrome/common/extensions/api/extension_api.json":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":4,"messages":[],"id":2015,"is_binary":false},"chrome/browser/extensions/extension_prefs_unittest.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":8,"num_removed":14,"messages":[],"id":2012,"is_binary":false},"chrome/test/data/extensions/api_test/content_settings/incognito/test.html":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":4,"messages":[],"id":2021,"is_binary":false},"chrome/browser/extensions/extension_proxy_apitest.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":4,"messages":[],"id":2013,"is_binary":false},"chrome/chrome_browser.gypi":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":2014,"is_binary":false},"chrome/browser/extensions/extension_pref_value_map.cc":{"status":"M","num_chunks":7,"no_base_file":false,"property_changes":"","num_added":43,"num_removed":22,"messages":[],"id":2005,"is_binary":false},"chrome/test/data/extensions/api_test/content_settings/onchange/test.html":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":9,"messages":[],"id":2022,"is_binary":false}},"owner_email":"battre@chromium.org","owner":"battre","message":"Fix Mac/Windows compilers","try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux&number=28359","timestamp":"2011-05-25 19:47:44.293594","builder":"linux","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUYyZuvAwwLEghQYXRjaFNldBiUCAwLEgxUcnlKb2JSZXN1bHQYtG0M","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win&number=33251","timestamp":"2011-05-25 19:47:44.293594","builder":"win","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUYyZuvAwwLEghQYXRjaFNldBiUCAwLEgxUcnlKb2JSZXN1bHQYtW0M","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac&number=28691","timestamp":"2011-05-25 19:47:44.293594","builder":"mac","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUYyZuvAwwLEghQYXRjaFNldBiUCAwLEgxUcnlKb2JSZXN1bHQYtm0M","requester":null,"buildnumber":null,"revision":null}],"created":"2011-05-24 20:31:16.124360","url":null,"num_comments":5,"modified":"2012-01-13 14:40:20.157931","patchset":1044,"issue":7065033}