{"description":"Do not run MSE related tests when MSE is not available.\n\nBUG=304956\nTEST=This make MSE related tests doesn't run on unsupported platform/devices.\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=229610","cc":["chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"reviewers":["ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org"],"messages":[{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"ddorwin/qinmin/sky: This CL violated DEPS rule so it's not ready for review. Please see my question :)\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode14\nchrome/browser/media/encrypted_media_browsertest.cc:14: #include \"third_party/WebKit/public/web/WebRuntimeFeatures.h\"\nThis violates DEPS rules [1]. But since we set WebRuntimeFeatures directly without using any flag [2], I don't see a better way to do this without checking Android version directly (which IMHO is more hacky). Thoughts?\n\n[1] https://code.google.com/p/chromium/codesearch#chromium/src/content/browser/DEPS&l=33\n\n[2] https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&l=26","disapproval":false,"date":"2013-10-14 20:12:47.480890","approval":false},{"sender":"qinmin@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"https://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode14\nchrome/browser/media/encrypted_media_browsertest.cc:14: #include \"third_party/WebKit/public/web/WebRuntimeFeatures.h\"\nMaybe add a function IsMSESupported() somewhere in content?\nAnd then both the runtime_features and this file can use that function?\nAnyway, I don't see a way to get around the android version check, the WebRuntimeFeatures for MSE are still determined from the android version\n\nOn 2013/10/14 20:12:47, xhwang wrote:\n> This violates DEPS rules [1]. But since we set WebRuntimeFeatures directly\n> without using any flag [2], I don't see a better way to do this without checking\n> Android version directly (which IMHO is more hacky). Thoughts?\n> \n> [1]\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/browser/DEPS&l=33\n> \n> [2]\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&l=26\n>","disapproval":false,"date":"2013-10-14 20:59:45.427320","approval":false},{"sender":"ddorwin@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"https://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode14\nchrome/browser/media/encrypted_media_browsertest.cc:14: #include \"third_party/WebKit/public/web/WebRuntimeFeatures.h\"\nOn 2013/10/14 20:59:45, qinmin wrote:\n> Maybe add a function IsMSESupported() somewhere in content?\n> And then both the runtime_features and this file can use that function?\n> Anyway, I don't see a way to get around the android version check, the\n> WebRuntimeFeatures for MSE are still determined from the android version\n> \n> On 2013/10/14 20:12:47, xhwang wrote:\n> > This violates DEPS rules [1]. But since we set WebRuntimeFeatures directly\n> > without using any flag [2], I don't see a better way to do this without\n> checking\n> > Android version directly (which IMHO is more hacky). Thoughts?\n> > \n> > [1]\n> >\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/browser/DEPS&l=33\n> > \n> > [2]\n> >\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&l=26\n> > \n> \n\nI would rather run the tests unless we explicitly know the platform does not support the tests. If someone accidentally flipped the runtime feature flag, we'd lose coverage and not know about it.\n\nThe actual check [3] is pretty simple and permanent, so I think it's fine to include here. For simplicity, wrap it in a helper like qinmin suggested. A name that references platform limitations might be better, but I can't think of a good one.\n\n[3] https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&q=enableMediaSource&sq=package:chromium&type=cs&l=25\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode105\nchrome/browser/media/encrypted_media_browsertest.cc:105: // TODO(xhwang): Update this to check for unprefixed MSE API when\nA helper function also allows this to be encapsulated in one place.\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode133\nchrome/browser/media/encrypted_media_browsertest.cc:133: if (src_type == MSE &&\nWhere do we prevent SRC tests from running on Android? It doesn't look like we do (the content test has it).","disapproval":false,"date":"2013-10-14 21:30:33.404870","approval":false},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"Check MediaCodecBridge Availability","disapproval":false,"date":"2013-10-16 07:57:06.385810","approval":false},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"This still involves a DEPS change. I can revert the change in runtime_features.cc to avoid the DEPS change, but I feel checking MediaCodecBridge directly is much better than checking android version.\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode14\nchrome/browser/media/encrypted_media_browsertest.cc:14: #include \"third_party/WebKit/public/web/WebRuntimeFeatures.h\"\nOn 2013/10/14 21:30:34, ddorwin wrote:\n> On 2013/10/14 20:59:45, qinmin wrote:\n> > Maybe add a function IsMSESupported() somewhere in content?\n> > And then both the runtime_features and this file can use that function?\n> > Anyway, I don't see a way to get around the android version check, the\n> > WebRuntimeFeatures for MSE are still determined from the android version\n> > \n> > On 2013/10/14 20:12:47, xhwang wrote:\n> > > This violates DEPS rules [1]. But since we set WebRuntimeFeatures directly\n> > > without using any flag [2], I don't see a better way to do this without\n> > checking\n> > > Android version directly (which IMHO is more hacky). Thoughts?\n> > > \n> > > [1]\n> > >\n> >\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/browser/DEPS&l=33\n> > > \n> > > [2]\n> > >\n> >\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&l=26\n> > > \n> > \n> \n> I would rather run the tests unless we explicitly know the platform does not\n> support the tests. If someone accidentally flipped the runtime feature flag,\n> we'd lose coverage and not know about it.\n> \n> The actual check [3] is pretty simple and permanent, so I think it's fine to\n> include here. For simplicity, wrap it in a helper like qinmin suggested. A name\n> that references platform limitations might be better, but I can't think of a\n> good one.\n> \n> [3]\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&q=enableMediaSource&sq=package:chromium&type=cs&l=25\n\nInstead of checking android version, we can just check MediaCodecBridge's availability which is the first hand information about whether MSE is available on Android.\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode105\nchrome/browser/media/encrypted_media_browsertest.cc:105: // TODO(xhwang): Update this to check for unprefixed MSE API when\nOn 2013/10/14 21:30:34, ddorwin wrote:\n> A helper function also allows this to be encapsulated in one place.\n\nDone.\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode133\nchrome/browser/media/encrypted_media_browsertest.cc:133: if (src_type == MSE &&\nOn 2013/10/14 21:30:34, ddorwin wrote:\n> Where do we prevent SRC tests from running on Android? It doesn't look like we\n> do (the content test has it).\n\nI only fixed content_browsertest and haven't fixed browser_test yet. Currently browser_tests doesn't run on Android at all so this is low priority.","disapproval":false,"date":"2013-10-16 07:58:39.715470","approval":false},{"sender":"ddorwin@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"https://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode14\nchrome/browser/media/encrypted_media_browsertest.cc:14: #include \"third_party/WebKit/public/web/WebRuntimeFeatures.h\"\nOn 2013/10/16 07:58:40, xhwang wrote:\n> On 2013/10/14 21:30:34, ddorwin wrote:\n> > On 2013/10/14 20:59:45, qinmin wrote:\n> > > Maybe add a function IsMSESupported() somewhere in content?\n> > > And then both the runtime_features and this file can use that function?\n> > > Anyway, I don't see a way to get around the android version check, the\n> > > WebRuntimeFeatures for MSE are still determined from the android version\n> > > \n> > > On 2013/10/14 20:12:47, xhwang wrote:\n> > > > This violates DEPS rules [1]. But since we set WebRuntimeFeatures directly\n> > > > without using any flag [2], I don't see a better way to do this without\n> > > checking\n> > > > Android version directly (which IMHO is more hacky). Thoughts?\n> > > > \n> > > > [1]\n> > > >\n> > >\n> >\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/browser/DEPS&l=33\n> > > > \n> > > > [2]\n> > > >\n> > >\n> >\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&l=26\n> > > > \n> > > \n> > \n> > I would rather run the tests unless we explicitly know the platform does not\n> > support the tests. If someone accidentally flipped the runtime feature flag,\n> > we'd lose coverage and not know about it.\n> > \n> > The actual check [3] is pretty simple and permanent, so I think it's fine to\n> > include here. For simplicity, wrap it in a helper like qinmin suggested. A\n> name\n> > that references platform limitations might be better, but I can't think of a\n> > good one.\n> > \n> > [3]\n> >\n> https://code.google.com/p/chromium/codesearch#chromium/src/content/child/runtime_features.cc&q=enableMediaSource&sq=package:chromium&type=cs&l=25\n> \n> Instead of checking android version, we can just check MediaCodecBridge's\n> availability which is the first hand information about whether MSE is available\n> on Android.\n\nIf the MediaCodecBridge availability code breaks, though, you won't know because the test relies on it. It's better to avoid relying on product code to drive tests.\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode133\nchrome/browser/media/encrypted_media_browsertest.cc:133: if (src_type == MSE &&\nOn 2013/10/16 07:58:40, xhwang wrote:\n> On 2013/10/14 21:30:34, ddorwin wrote:\n> > Where do we prevent SRC tests from running on Android? It doesn't look like we\n> > do (the content test has it).\n> \n> I only fixed content_browsertest and haven't fixed browser_test yet. Currently\n> browser_tests doesn't run on Android at all so this is low priority.\n\nShould we drop the MSE check then? It seems EME would always rely on MediaCodecs.\n\nhttps://codereview.chromium.org/27230004/diff/7001/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/7001/chrome/browser/media/encrypted_media_browsertest.cc#newcode108\nchrome/browser/media/encrypted_media_browsertest.cc:108: if (!media::MediaCodecBridge::IsAvailable()) {\nAs mentioned in PS1, I don't think we should rely on product code for this decision.\n\nhttps://codereview.chromium.org/27230004/diff/7001/chrome/browser/media/encrypted_media_browsertest.cc#newcode109\nchrome/browser/media/encrypted_media_browsertest.cc:109: LOG(INFO) << \"Could not run test - MSE not supported.\";\nAn explicit check also allows you to say why here (e.g. pre-JB).\n\nhttps://codereview.chromium.org/27230004/diff/7001/content/child/runtime_features.cc\nFile content/child/runtime_features.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/7001/content/child/runtime_features.cc#newcode24\ncontent/child/runtime_features.cc:24: if (!media::MediaCodecBridge::IsAvailable()) {\nI like this change!","disapproval":false,"date":"2013-10-16 20:17:16.763420","approval":false},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"Address Comments","disapproval":false,"date":"2013-10-16 21:40:59.949210","approval":false},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"PTAL again.\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/1/chrome/browser/media/encrypted_media_browsertest.cc#newcode133\nchrome/browser/media/encrypted_media_browsertest.cc:133: if (src_type == MSE &&\nOn 2013/10/16 20:17:17, ddorwin wrote:\n> On 2013/10/16 07:58:40, xhwang wrote:\n> > On 2013/10/14 21:30:34, ddorwin wrote:\n> > > Where do we prevent SRC tests from running on Android? It doesn't look like\n> we\n> > > do (the content test has it).\n> > \n> > I only fixed content_browsertest and haven't fixed browser_test yet. Currently\n> > browser_tests doesn't run on Android at all so this is low priority.\n> \n> Should we drop the MSE check then? It seems EME would always rely on\n> MediaCodecs.\n\nDone. I also fixed browser_tests to support Android. Not sure if I should do that in a separate CL. PTAL.\n\nhttps://codereview.chromium.org/27230004/diff/7001/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/7001/chrome/browser/media/encrypted_media_browsertest.cc#newcode108\nchrome/browser/media/encrypted_media_browsertest.cc:108: if (!media::MediaCodecBridge::IsAvailable()) {\nOn 2013/10/16 20:17:17, ddorwin wrote:\n> As mentioned in PS1, I don't think we should rely on product code for this\n> decision.\n\nDone.\n\nhttps://codereview.chromium.org/27230004/diff/7001/chrome/browser/media/encrypted_media_browsertest.cc#newcode109\nchrome/browser/media/encrypted_media_browsertest.cc:109: LOG(INFO) << \"Could not run test - MSE not supported.\";\nOn 2013/10/16 20:17:17, ddorwin wrote:\n> An explicit check also allows you to say why here (e.g. pre-JB).\n\nDone.\n\nhttps://codereview.chromium.org/27230004/diff/7001/content/child/runtime_features.cc\nFile content/child/runtime_features.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/7001/content/child/runtime_features.cc#newcode24\ncontent/child/runtime_features.cc:24: if (!media::MediaCodecBridge::IsAvailable()) {\nOn 2013/10/16 20:17:17, ddorwin wrote:\n> I like this change!\n\n:)","disapproval":false,"date":"2013-10-16 21:41:16.993570","approval":false},{"sender":"qinmin@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"https://codereview.chromium.org/27230004/diff/20001/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/20001/chrome/browser/media/encrypted_media_browsertest.cc#newcode108\nchrome/browser/media/encrypted_media_browsertest.cc:108: if (base::android::BuildInfo::GetInstance()->sdk_int() < 16) {\nmake this a static boolean function at the top of the file? So you won't need to have the same ifdefs later.\n\nhttps://codereview.chromium.org/27230004/diff/20001/content/child/DEPS\nFile content/child/DEPS (right):\n\nhttps://codereview.chromium.org/27230004/diff/20001/content/child/DEPS#newcode4\ncontent/child/DEPS:4: \"+media/base/android\",\nbetter ask some content/ OWNERs to see if this include is ok","disapproval":false,"date":"2013-10-16 22:14:34.283800","approval":false},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"jam@: PTAL at content/child/*. This new check is more accurate and less hacky than the old one.","disapproval":false,"date":"2013-10-16 22:34:44.523090","approval":false},{"sender":"ddorwin@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"lgtm % nit\n\nhttps://codereview.chromium.org/27230004/diff/20001/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/20001/chrome/browser/media/encrypted_media_browsertest.cc#newcode109\nchrome/browser/media/encrypted_media_browsertest.cc:109: LOG(INFO) << \"Skipping test - MSE only supported in JellyBean and later.\";\nJB is two words. Maybe just say 4.1?","disapproval":false,"date":"2013-10-16 22:51:46.019980","approval":true},{"sender":"jam@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-10-16 23:26:19.969340","approval":true},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"Address Comments","disapproval":false,"date":"2013-10-17 00:43:20.071770","approval":false},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"ddorwin/qinmin: The change is not trivial. PTAL again.\n\nhttps://codereview.chromium.org/27230004/diff/20001/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/20001/chrome/browser/media/encrypted_media_browsertest.cc#newcode108\nchrome/browser/media/encrypted_media_browsertest.cc:108: if (base::android::BuildInfo::GetInstance()->sdk_int() < 16) {\nOn 2013/10/16 22:14:34, qinmin wrote:\n> make this a static boolean function at the top of the file? So you won't need to\n> have the same ifdefs later.\n\nDone.\n\nhttps://codereview.chromium.org/27230004/diff/20001/chrome/browser/media/encrypted_media_browsertest.cc#newcode109\nchrome/browser/media/encrypted_media_browsertest.cc:109: LOG(INFO) << \"Skipping test - MSE only supported in JellyBean and later.\";\nOn 2013/10/16 22:51:46, ddorwin wrote:\n> JB is two words. Maybe just say 4.1?\n\nI tried 4.1 but in the context I need to use \"Android 4.1\" which is even longer.\n\nhttps://codereview.chromium.org/27230004/diff/20001/content/child/DEPS\nFile content/child/DEPS (right):\n\nhttps://codereview.chromium.org/27230004/diff/20001/content/child/DEPS#newcode4\ncontent/child/DEPS:4: \"+media/base/android\",\nOn 2013/10/16 22:14:34, qinmin wrote:\n> better ask some content/ OWNERs to see if this include is ok\n\nDone and got l'g't'm.\n\nhttps://codereview.chromium.org/27230004/diff/32001/build/android/pylib/gtest/filter/content_browsertests_disabled\nFile build/android/pylib/gtest/filter/content_browsertests_disabled (right):\n\nhttps://codereview.chromium.org/27230004/diff/32001/build/android/pylib/gtest/filter/content_browsertests_disabled#newcode10\nbuild/android/pylib/gtest/filter/content_browsertests_disabled:10: *EncryptedMediaTest.*\nI'll enable this in a later CL, which will be easier to revert :)","disapproval":false,"date":"2013-10-17 00:46:19.034650","approval":false},{"sender":"ddorwin@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"lgtm % nit\n\nhttps://codereview.chromium.org/27230004/diff/32001/chrome/browser/media/encrypted_media_browsertest.cc\nFile chrome/browser/media/encrypted_media_browsertest.cc (right):\n\nhttps://codereview.chromium.org/27230004/diff/32001/chrome/browser/media/encrypted_media_browsertest.cc#newcode66\nchrome/browser/media/encrypted_media_browsertest.cc:66: LOG(INFO) << \"MSE is only supported in JellyBean and later.\";\nYou have more room to add a space and even 4.1. :)","disapproval":false,"date":"2013-10-17 00:59:56.017240","approval":true},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"qinmin: ping","disapproval":false,"date":"2013-10-17 17:47:49.788400","approval":false},{"sender":"qinmin@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"lgtm. Sorry, i thought I lgtm'ed this","disapproval":false,"date":"2013-10-17 18:22:29.999430","approval":true},{"sender":"xhwang@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"rebase only","disapproval":false,"date":"2013-10-19 07:35:13.269460","approval":false},{"sender":"commit-bot@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/xhwang@chromium.org/27230004/45001","disapproval":false,"date":"2013-10-19 08:07:57.514790","approval":false},{"sender":"commit-bot@chromium.org","recipients":["xhwang@chromium.org","ddorwin@chromium.org","qinmin@chromium.org","jam@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","feature-media-reviews@chromium.org","jam@chromium.org","wjia+watch@chromium.org","darin-cc@chromium.org","sky@chromium.org"],"text":"Change committed as 229610","disapproval":false,"date":"2013-10-19 18:28:07.563110","approval":false}],"owner_email":"xhwang@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"xhwang","subject":"Do not run MSE related tests when MSE is not available.","created":"2013-10-14 20:07:35.466010","patchsets":[1,7001,20001,32001,45001],"modified":"2013-10-19 18:28:08.221860","closed":true,"commit":false,"issue":27230004}