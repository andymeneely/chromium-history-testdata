{"files":{"chrome/browser/prerender/prerender_contents.cc":{"status":"M    ","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":19,"num_removed":1,"messages":[{"author":"rdsmith","author_email":"rdsmith@chromium.org","text":"Can you give me the context for how killing the prerender stops the download?  I thought that the download never got started because the limiter blocked it.\n","draft":false,"lineno":220,"date":"2011-02-10 16:57:10.382590","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 16:57:10, rdsmith wrote:\n> Can you give me the context for how killing the prerender stops the download?  I\n> thought that the download never got started because the limiter blocked it.\n\nYou're right - changed the comment to reflect that.\n\nWhen the prerender is cancelled, the RenderViewHost is shutdown and deleted and unless I've missed something this cancels all requests made from that RenderViewHost.\n\nDone.","draft":false,"lineno":220,"date":"2011-02-10 18:46:22.741691","left":false}],"id":10011,"is_binary":false},"chrome/browser/prerender/prerender_contents.h":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":10012,"is_binary":false},"chrome/common/notification_type.h":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":0,"messages":[],"id":10015,"is_binary":false},"chrome/test/data/prerender/prerender_download_iframe.html":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":7,"num_removed":0,"messages":[],"id":10016,"is_binary":false},"chrome/browser/prerender/prerender_browsertest.cc":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":22,"num_removed":2,"messages":[],"id":10010,"is_binary":false},"chrome/test/data/prerender/prerender_download_refresh.html":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":6,"num_removed":0,"messages":[],"id":10018,"is_binary":false},"chrome/browser/renderer_host/download_throttling_resource_handler.h":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":0,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Include not needed.","draft":false,"lineno":13,"date":"2011-02-10 14:44:34.912574","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"This isn't needed now that you are passing NoDetails.","draft":false,"lineno":18,"date":"2011-02-10 14:44:34.912730","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Also not needed since passing NoDetails.","draft":false,"lineno":70,"date":"2011-02-10 14:44:34.912870","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> Include not needed.\n\nDone.","draft":false,"lineno":13,"date":"2011-02-10 18:46:22.742712","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> This isn't needed now that you are passing NoDetails.\n\nDone.","draft":false,"lineno":18,"date":"2011-02-10 18:46:22.742941","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> Also not needed since passing NoDetails.\n\nDone.","draft":false,"lineno":70,"date":"2011-02-10 18:46:22.743175","left":false}],"id":10014,"is_binary":false},"chrome/test/data/prerender/prerender_download_location.html":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":11,"num_removed":0,"messages":[],"id":10017,"is_binary":false},"chrome/browser/renderer_host/download_throttling_resource_handler.cc":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":26,"num_removed":0,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"A bunch of these includes are not needed:\n\ncert_store\nresource_request_details.h\n\nprobably others. ","draft":false,"lineno":8,"date":"2011-02-10 14:44:34.911615","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"You should probably DCHECK that this is called on the UI thread - although some of the things you call may be doing that as well.\n","draft":false,"lineno":24,"date":"2011-02-10 14:44:34.911763","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Do you want to DCHECK that the notification_type is an expected one?","draft":false,"lineno":24,"date":"2011-02-10 14:44:34.911910","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"You can also do \n\nif (!rvh)\n  return;\n\nto minimize indentation. ","draft":false,"lineno":25,"date":"2011-02-10 14:44:34.912040","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"This certainly simplifies things for prerender, but feels a little weird that the rvhd is being used a source rather than renderviewsource, or Profile, or DownloadManger.\n\nI don't think you need to change for now, but it seems like a mismatch.","draft":false,"lineno":28,"date":"2011-02-10 14:44:34.912167","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Nit: add // namespace to make it clear what this block closes. ","draft":false,"lineno":33,"date":"2011-02-10 14:44:34.912303","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"I thought this was going to move into DownloadResourceHandler as a more centralized location? Am I wrong?","draft":false,"lineno":84,"date":"2011-02-10 14:44:34.912431","left":false},{"author":"rdsmith","author_email":"rdsmith@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> This certainly simplifies things for prerender, but feels a little weird that\n> the rvhd is being used a source rather than renderviewsource, or Profile, or\n> DownloadManger.\n> \n> I don't think you need to change for now, but it seems like a mismatch.\n\nI would agree with this comment, and unless it really makes your life difficult, I'd like to see it changed.  Temporary solutions aren't, and this would be weird and wrong to have in the code long-term.\n","draft":false,"lineno":28,"date":"2011-02-10 16:57:10.382747","left":false},{"author":"rdsmith","author_email":"rdsmith@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> I thought this was going to move into DownloadResourceHandler as a more\n> centralized location? Am I wrong?\n\nWe never get to DownloadResourceHandler, so he can't put it there.","draft":false,"lineno":84,"date":"2011-02-10 16:57:10.382880","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> A bunch of these includes are not needed:\n> \n> cert_store\n> resource_request_details.h\n> \n> probably others. \n\nDone.","draft":false,"lineno":8,"date":"2011-02-10 18:46:22.741866","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> You should probably DCHECK that this is called on the UI thread - although some\n> of the things you call may be doing that as well.\n\nDone.","draft":false,"lineno":24,"date":"2011-02-10 18:46:22.742023","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 14:44:34, cbentzel wrote:\n> Do you want to DCHECK that the notification_type is an expected one?\nI can, but given this is local to the file and is written to be generic, I don't think it's necessary. Especially if I use the handler as a Source.\n","draft":false,"lineno":24,"date":"2011-02-10 18:46:22.742262","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 16:57:10, rdsmith wrote:\n> On 2011/02/10 14:44:34, cbentzel wrote:\n> > This certainly simplifies things for prerender, but feels a little weird that\n> > the rvhd is being used a source rather than renderviewsource, or Profile, or\n> > DownloadManger.\n> > \n> > I don't think you need to change for now, but it seems like a mismatch.\n> \n> I would agree with this comment, and unless it really makes your life difficult,\n> I'd like to see it changed.  Temporary solutions aren't, and this would be weird\n> and wrong to have in the code long-term.\n\nDone.","draft":false,"lineno":28,"date":"2011-02-10 18:46:22.742463","left":false}],"id":10013,"is_binary":false}},"owner_email":"dominich@chromium.org","owner":"dominich","message":"Now with conflicts resolved","try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win&number=14998","timestamp":"2011-02-10 18:46:22.927057","builder":"win","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUY_ZyKAwwLEghQYXRjaFNldBj7VQwLEgxUcnlKb2JSZXN1bHQYpe8CDA","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac&number=12315","timestamp":"2011-02-10 18:46:22.927057","builder":"mac","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUY_ZyKAwwLEghQYXRjaFNldBj7VQwLEgxUcnlKb2JSZXN1bHQYpu8CDA","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux&number=11897","timestamp":"2011-02-10 18:46:22.927057","builder":"linux","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUY_ZyKAwwLEghQYXRjaFNldBj7VQwLEgxUcnlKb2JSZXN1bHQYp-8CDA","requester":null,"buildnumber":null,"revision":null}],"created":"2011-02-09 23:45:33.865163","url":null,"num_comments":21,"modified":"2012-01-13 14:36:19.046069","patchset":11003,"issue":6459005}