{"files":{"chrome/browser/prerender/prerender_contents.cc":{"status":"M    ","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":22,"num_removed":1,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"May not hurt to be defensive and check that rvh is non-NULL. ","draft":false,"lineno":224,"date":"2011-02-10 19:32:18.992036","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"move return next to Destroy and make this break, to be similar to Observe.","draft":false,"lineno":227,"date":"2011-02-10 19:32:18.992293","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 19:32:18, cbentzel wrote:\n> May not hurt to be defensive and check that rvh is non-NULL. \n\nDone.","draft":false,"lineno":224,"date":"2011-02-10 20:02:17.985952","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 19:32:18, cbentzel wrote:\n> move return next to Destroy and make this break, to be similar to Observe.\n\nDone.","draft":false,"lineno":227,"date":"2011-02-10 20:02:17.986203","left":false}],"id":15002,"is_binary":false},"chrome/browser/prerender/prerender_contents.h":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":15003,"is_binary":false},"chrome/common/notification_type.h":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":0,"messages":[],"id":15005,"is_binary":false},"chrome/test/data/prerender/prerender_download_iframe.html":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":7,"num_removed":0,"messages":[],"id":15006,"is_binary":false},"chrome/browser/prerender/prerender_browsertest.cc":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":22,"num_removed":2,"messages":[],"id":15001,"is_binary":false},"chrome/test/data/prerender/prerender_download_refresh.html":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":6,"num_removed":0,"messages":[],"id":15008,"is_binary":false},"chrome/test/data/prerender/prerender_download_location.html":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":11,"num_removed":0,"messages":[],"id":15007,"is_binary":false},"chrome/browser/renderer_host/download_throttling_resource_handler.cc":{"status":"M    ","num_chunks":7,"no_base_file":false,"property_changes":"","num_added":38,"num_removed":1,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"I really don't think this is what you want - it will send out a notification each time some bytes are read from the stream. ","draft":false,"lineno":145,"date":"2011-02-10 19:32:18.992539","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"Moving this to OnWillStart for the same reasons as outlined below. This is called once but only once we've started.","draft":false,"lineno":108,"date":"2011-02-10 20:02:17.986435","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 19:32:18, cbentzel wrote:\n> I really don't think this is what you want - it will send out a notification\n> each time some bytes are read from the stream. \n\nYou're right - I was going from rdsmith's diagram of entry points but it looks like this one can't be hit without one of the other entry points being hit first.\n\n\n\n","draft":false,"lineno":145,"date":"2011-02-10 20:02:17.986674","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/10 19:32:18, cbentzel wrote:\n> I really don't think this is what you want - it will send out a notification\n> each time some bytes are read from the stream. \n\nDone.","draft":false,"lineno":145,"date":"2011-02-10 20:02:17.986919","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"This suffers from the same issue as above. Even though it is an entry point from RDH, it is only called when a download request cannot be initiated or has completed. Neither match the concept of an initiated download so I'm removing this too.","draft":false,"lineno":159,"date":"2011-02-10 20:02:17.987169","left":false},{"author":"rdsmith","author_email":"rdsmith@chromium.org","text":"Why do separate notifications for request redirected and response started?  It's a single download.  \n\nMy inclination would be to put the notification in the constructor; any reason not to do that?","draft":false,"lineno":86,"date":"2011-02-11 18:44:15.561221","left":false},{"author":"rdsmith","author_email":"rdsmith@chromium.org","text":"On 2011/02/10 20:02:17, dominic wrote:\n> You're right - I was going from rdsmith's diagram of entry points but it looks\n> like this one can't be hit without one of the other entry points being hit\n> first.\n\nSorry; that diagram shows control flow within the download system.  For all the reasons we've talked about, that's probably not relevant to you; the limiter keeps the download from actually starting in the common case.  I think you want the notification just from the constructor.\n","draft":false,"lineno":145,"date":"2011-02-11 18:44:15.561483","left":false},{"author":"dominich","author_email":"dominich@chromium.org","text":"On 2011/02/11 18:44:15, rdsmith wrote:\n> Why do separate notifications for request redirected and response started?  It's\n> a single download.  \n> \n> My inclination would be to put the notification in the constructor; any reason\n> not to do that?\n\nDone.","draft":false,"lineno":86,"date":"2011-02-11 22:51:54.283191","left":false}],"id":15004,"is_binary":false}},"owner_email":"dominich@chromium.org","owner":"dominich","message":"Changed source of notification and now notify on all entry points for download initiation.","try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win&number=15209","timestamp":"2011-02-11 22:51:54.304874","builder":"win","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUY_ZyKAwwLEghQYXRjaFNldBixbQwLEgxUcnlKb2JSZXN1bHQYqO8CDA","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux&number=12060","timestamp":"2011-02-11 22:51:54.304874","builder":"linux","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUY_ZyKAwwLEghQYXRjaFNldBixbQwLEgxUcnlKb2JSZXN1bHQYqe8CDA","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac&number=12499","timestamp":"2011-02-11 22:51:54.304874","builder":"mac","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIxCxIFSXNzdWUY_ZyKAwwLEghQYXRjaFNldBixbQwLEgxUcnlKb2JSZXN1bHQYqu8CDA","requester":null,"buildnumber":null,"revision":null}],"created":"2011-02-10 18:45:58.648030","url":null,"num_comments":12,"modified":"2012-01-13 14:36:19.048653","patchset":14001,"issue":6459005}