{"files":{"chrome/chrome_tests_unit.gypi":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":2,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"I don't think these tests need to move.","draft":false,"lineno":1448,"date":"2012-12-27 17:16:17.934770","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> I don't think these tests need to move.\n\nDone. Moved back to its original place.","draft":false,"lineno":1448,"date":"2012-12-30 04:26:00.745140","left":false},{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"On 2012/12/30 04:26:00, Joe Thomas wrote:\n> On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > I don't think these tests need to move.\n> \n> Done. Moved back to its original place.\n\nThey still seem to be deleted in the latest patchset...","draft":false,"lineno":1448,"date":"2013-01-03 01:45:54.941840","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2013/01/03 01:45:54, Yoyo Zhou wrote:\n> On 2012/12/30 04:26:00, Joe Thomas wrote:\n> > On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > > I don't think these tests need to move.\n> > \n> > Done. Moved back to its original place.\n> \n> They still seem to be deleted in the latest patchset...\n\nIt was showing with \"D\" symbol but side-by-side diff shows the modification. Not sure whether it was a bug with the system.\n\nI corrected it by uploading the new patchset in two steps.","draft":false,"lineno":1448,"date":"2013-01-03 19:56:31.432280","left":false},{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"On 2013/01/03 19:56:31, Joe Thomas wrote:\n> On 2013/01/03 01:45:54, Yoyo Zhou wrote:\n> > On 2012/12/30 04:26:00, Joe Thomas wrote:\n> > > On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > > > I don't think these tests need to move.\n> > > \n> > > Done. Moved back to its original place.\n> > \n> > They still seem to be deleted in the latest patchset...\n> \n> It was showing with \"D\" symbol but side-by-side diff shows the modification. Not\n> sure whether it was a bug with the system.\n> \n> I corrected it by uploading the new patchset in two steps.\n\nOk, that's weird. I filed a bug about this. https://code.google.com/p/rietveld/issues/detail?id=410","draft":false,"lineno":1448,"date":"2013-01-03 22:55:32.690230","left":false}],"id":9015,"is_binary":false},"chrome/common/extensions/extension.cc":{"status":"M","num_chunks":9,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":45,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"Why is this being moved? By the way, Devlin is changing this thread safety check in\n\nhttps://chromiumcodereview.appspot.com/11644057/\n\nso it should work better.","draft":false,"lineno":1583,"date":"2012-12-27 17:16:17.935720","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> Why is this being moved? By the way, Devlin is changing this thread safety check\n> in\n> \n> https://chromiumcodereview.appspot.com/11644057/\n> \n> so it should work better.\n\nPermissionSet constructor below queries for \"devtools_page\" URL through PermissionSet::InitImplicitExtensionPermissions and hits DCHECK in Extension::GetManifestData. So I think it's reasonable to move this setter up as Manifest parsing is already completed. \n\nI will revisit this change once https://chromiumcodereview.appspot.com/11644057/ lands and move it back.","draft":false,"lineno":1583,"date":"2012-12-30 04:26:00.746060","left":false},{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"On 2012/12/30 04:26:00, Joe Thomas wrote:\n> On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > Why is this being moved? By the way, Devlin is changing this thread safety\n> check\n> > in\n> > \n> > https://chromiumcodereview.appspot.com/11644057/\n> > \n> > so it should work better.\n> \n> PermissionSet constructor below queries for \"devtools_page\" URL through\n> PermissionSet::InitImplicitExtensionPermissions and hits DCHECK in\n> Extension::GetManifestData. So I think it's reasonable to move this setter up as\n> Manifest parsing is already completed. \n> \n> I will revisit this change once https://chromiumcodereview.appspot.com/11644057/\n> lands and move it back.\n\nOnce that lands, you should not need to change this. But your change here is not a good workaround; finished_parsing_manifest_ tells us that the extension is done being constructed and safe to read from other threads. But this is not true if the permissions haven't been set yet.","draft":false,"lineno":1583,"date":"2013-01-03 01:45:54.942430","left":false}],"id":9024,"is_binary":false},"chrome/browser/extensions/api/management/management_api.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":2,"messages":[],"id":9005,"is_binary":false},"chrome/common/extensions/api/url_parser/homepage_url_handler.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":47,"num_removed":0,"messages":[],"id":9019,"is_binary":false},"chrome/common/extensions/manifest_tests/extension_manifests_homepage_unittest.cc":{"status":"D","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":44,"messages":[],"id":9002,"is_binary":false},"chrome/common/extensions/api/url_parser/homepage_url_handler.h":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":32,"num_removed":0,"messages":[],"id":9020,"is_binary":false},"chrome/browser/extensions/api/url_parser/url_parser_api_factory.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":38,"num_removed":0,"messages":[],"id":9008,"is_binary":false},"chrome/browser/ui/webui/extensions/extension_settings_handler.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":2,"messages":[],"id":9012,"is_binary":false},"chrome/browser/extensions/api/url_parser/url_parser_api.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":25,"num_removed":0,"messages":[],"id":9006,"is_binary":false},"chrome/browser/extensions/api/url_parser/url_parser_api.h":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":25,"num_removed":0,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"Hmm, I'm not sure if this name makes sense. I think I'd prefer this just to be in chrome/browser/extensions/manifest_url_parser as ManifestURLParser.","draft":false,"lineno":15,"date":"2012-12-27 17:16:17.934390","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> Hmm, I'm not sure if this name makes sense. I think I'd prefer this just to be\n> in chrome/browser/extensions/manifest_url_parser as ManifestURLParser.\n\nDone.","draft":false,"lineno":15,"date":"2012-12-30 04:26:00.744530","left":false}],"id":9007,"is_binary":false},"chrome/browser/extensions/api/developer_private/developer_private_api.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":1,"messages":[],"id":9004,"is_binary":false},"chrome/common/extensions/api/url_parser/devtools_page_handler.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":39,"num_removed":0,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"Make sure you only include what you use.","draft":false,"lineno":8,"date":"2012-12-27 17:16:17.934960","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> Make sure you only include what you use.\n\nASCIIToUTF16 which is used in DevToolsPageHandler::Parse function is defined in base/utf_string_conversions.h","draft":false,"lineno":8,"date":"2012-12-30 04:26:00.745390","left":false},{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"On 2012/12/30 04:26:00, Joe Thomas wrote:\n> On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > Make sure you only include what you use.\n> \n> ASCIIToUTF16 which is used in DevToolsPageHandler::Parse function is defined in\n> base/utf_string_conversions.h\n\nAh, sorry. Thanks for paying more attention than me.","draft":false,"lineno":8,"date":"2013-01-03 01:45:54.942030","left":false}],"id":9016,"is_binary":false},"chrome/renderer/extensions/resource_request_policy.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":1,"messages":[],"id":9028,"is_binary":false},"chrome/common/extensions/api/url_parser/devtools_page_manifests_unittest.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":39,"num_removed":0,"messages":[],"id":9018,"is_binary":false},"chrome/chrome_browser_extensions.gypi":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":0,"messages":[],"id":9013,"is_binary":false},"chrome/common/extensions/permissions/permission_set.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":2,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"This is in the extensions namespace.","draft":false,"lineno":533,"date":"2012-12-27 17:16:17.935950","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> This is in the extensions namespace.\n\nDone.","draft":false,"lineno":533,"date":"2012-12-30 04:26:00.746220","left":false}],"id":9026,"is_binary":false},"chrome/common/extensions/manifest_tests/extension_manifests_devtools_unittest.cc":{"status":"D","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":22,"messages":[],"id":9001,"is_binary":false},"chrome/chrome_common.gypi":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":0,"messages":[],"id":9014,"is_binary":false},"chrome/common/extensions/api/url_parser/url_info.h":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":29,"num_removed":0,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"I don't think this interface makes sense. Why not\nGetDevToolsPage(extension)\nGetHomepageURL(extension)\n?","draft":false,"lineno":16,"date":"2012-12-27 17:16:17.935380","left":false},{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"This should be of type const GURL& to avoid making a copy.","draft":false,"lineno":24,"date":"2012-12-27 17:16:17.935550","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> I don't think this interface makes sense. Why not\n> GetDevToolsPage(extension)\n> GetHomepageURL(extension)\n> ?\n\nDone.","draft":false,"lineno":16,"date":"2012-12-30 04:26:00.745720","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> This should be of type const GURL& to avoid making a copy.\n\nSince we create a temporary GURL object inside GetHomepageURL(extension) function, a reference cannot be returned for GetHomepageURL.\n","draft":false,"lineno":24,"date":"2012-12-30 04:26:00.745890","left":false},{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"On 2012/12/30 04:26:00, Joe Thomas wrote:\n> On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > This should be of type const GURL& to avoid making a copy.\n> \n> Since we create a temporary GURL object inside GetHomepageURL(extension)\n> function, a reference cannot be returned for GetHomepageURL.\n\nThis was my point about GURL::EmptyGURL - you can avoid a temporary.","draft":false,"lineno":24,"date":"2013-01-03 01:45:54.942210","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2013/01/03 01:45:54, Yoyo Zhou wrote:\n> On 2012/12/30 04:26:00, Joe Thomas wrote:\n> > On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > > This should be of type const GURL& to avoid making a copy.\n> > \n> > Since we create a temporary GURL object inside GetHomepageURL(extension)\n> > function, a reference cannot be returned for GetHomepageURL.\n> \n> This was my point about GURL::EmptyGURL - you can avoid a temporary.\n\nIf you look at ManifestURL::GetHomepageURL definition, apart from creating the EmptyURL, we need to create one more temporary GURL object with \"extension_urls::GetWebstoreItemDetailURLPrefix() + extension->id()\". Because of that we will not be able to return reference in that one getter function.\n","draft":false,"lineno":24,"date":"2013-01-03 19:56:31.432540","left":false},{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"On 2013/01/03 19:56:31, Joe Thomas wrote:\n> On 2013/01/03 01:45:54, Yoyo Zhou wrote:\n> > On 2012/12/30 04:26:00, Joe Thomas wrote:\n> > > On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> > > > This should be of type const GURL& to avoid making a copy.\n> > > \n> > > Since we create a temporary GURL object inside GetHomepageURL(extension)\n> > > function, a reference cannot be returned for GetHomepageURL.\n> > \n> > This was my point about GURL::EmptyGURL - you can avoid a temporary.\n> \n> If you look at ManifestURL::GetHomepageURL definition, apart from creating the\n> EmptyURL, we need to create one more temporary GURL object with\n> \"extension_urls::GetWebstoreItemDetailURLPrefix() + extension->id()\". Because of\n> that we will not be able to return reference in that one getter function.\n\nOh, okay. This will be the same as the old GetHomepageURL then, so that's fine.","draft":false,"lineno":24,"date":"2013-01-03 22:55:32.690510","left":false}],"id":9023,"is_binary":false},"chrome/common/extensions/api/url_parser/devtools_page_handler.h":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":30,"num_removed":0,"messages":[],"id":9017,"is_binary":false},"chrome/common/extensions/api/url_parser/url_info.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":42,"num_removed":0,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"You can use GURL::EmptyGURL for the missing value case.","draft":false,"lineno":22,"date":"2012-12-27 17:16:17.935140","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> You can use GURL::EmptyGURL for the missing value case.\n\nDone.","draft":false,"lineno":22,"date":"2012-12-30 04:26:00.745560","left":false}],"id":9022,"is_binary":false},"chrome/renderer/chrome_content_renderer_client.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":13,"num_removed":0,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"This should probably be called RegisterExtensionManifestHandlers. The comment should say \"all extension ManifestHandlers needed to parse fields used in the renderer.\"","draft":false,"lineno":125,"date":"2012-12-27 17:16:17.936160","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> This should probably be called RegisterExtensionManifestHandlers. The comment\n> should say \"all extension ManifestHandlers needed to parse fields used in the\n> renderer.\"\n\nDone.","draft":false,"lineno":125,"date":"2012-12-30 04:26:00.746380","left":false}],"id":9027,"is_binary":false},"chrome/browser/devtools/devtools_window.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":3,"messages":[],"id":9003,"is_binary":false},"chrome/browser/profiles/profile_dependency_manager.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":0,"messages":[],"id":9011,"is_binary":false},"chrome/common/extensions/extension.h":{"status":"M","num_chunks":6,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":15,"messages":[],"id":9025,"is_binary":false},"chrome/browser/extensions/api/url_parser/url_parser_api_factory.h":{"status":"A +","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":10,"num_removed":9,"messages":[{"author":"Yoyo Zhou","author_email":"yoz@chromium.org","text":"Check out the ProfileKeyedAPIFactory.","draft":false,"lineno":15,"date":"2012-12-27 17:16:17.934600","left":false},{"author":"Joe Thomas","author_email":"MHX348@motorola.com","text":"On 2012/12/27 17:16:17, Yoyo Zhou wrote:\n> Check out the ProfileKeyedAPIFactory.\n\nDone.","draft":false,"lineno":15,"date":"2012-12-30 04:26:00.744860","left":false}],"id":9009,"is_binary":false},"chrome/browser/extensions/extension_context_menu_model.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":4,"messages":[],"id":9010,"is_binary":false},"chrome/common/extensions/api/url_parser/homepage_url_manifests_unittest.cc":{"status":"A +","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":26,"num_removed":9,"messages":[],"id":9021,"is_binary":false}},"owner_email":"MHX348@motorola.com","owner":"Joe Thomas","message":" ","try_job_results":[],"created":"2012-12-27 01:32:18.834520","url":null,"num_comments":28,"modified":"2013-01-03 22:55:32.875810","patchset":8001,"issue":11624036}