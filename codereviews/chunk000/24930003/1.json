{"files":{"chrome/common/pref_names.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":1,"messages":[],"id":1004,"is_binary":false},"chrome/browser/prefs/pref_metrics_service.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":5,"messages":[],"id":1002,"is_binary":false},"chrome/common/pref_names.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":0,"messages":[],"id":1005,"is_binary":false},"chrome/browser/prefs/pref_metrics_service.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":24,"num_removed":7,"messages":[{"author":"grt","author_email":"grt@chromium.org","text":"to match when Log..() is called by the ChangeRegistrar, use \"Settings.StartupURLsResetTime.PushedToSync\". alternatively, call OnPrefChanged to simulate a true pref change.","draft":false,"lineno":167,"date":"2013-09-27 13:24:45.507280","left":false},{"author":"grt","author_email":"grt@chromium.org","text":"why not use this on line 273 (it should be \"Settings.StartupURLsResetTime.PushedToSync\" when invoked by the OnPrefChanged)?","draft":false,"lineno":260,"date":"2013-09-27 13:24:45.507560","left":false},{"author":"grt","author_email":"grt@chromium.org","text":"do you want to log initial migration?","draft":false,"lineno":266,"date":"2013-09-27 13:24:45.507840","left":false},{"author":"MAD","author_email":"mad@chromium.org","text":"I don't think I need that since this is not a sync'able pref.\n","draft":false,"lineno":167,"date":"2013-09-27 14:54:20.233100","left":false},{"author":"MAD","author_email":"mad@chromium.org","text":"Because this is not a sync'able pref.","draft":false,"lineno":260,"date":"2013-09-27 14:54:20.233410","left":false},{"author":"MAD","author_email":"mad@chromium.org","text":"It is logged with a value of 0.0.","draft":false,"lineno":266,"date":"2013-09-27 14:54:20.233740","left":false},{"author":"grt","author_email":"grt@chromium.org","text":"On 2013/09/27 14:54:20, MAD wrote:\n> Because this is not a sync'able pref.\n\nThis code is confusing as-is. There are two ways to get into this function: from PrefMetricsService::OnPrefChanged by way of the SyncedPrefChangeRegistrar, and from the direct call on line 167. In the former case, histogram_name is \"Settings.StartupURLsResetTime.PushedToSync\". In the latter case, histogram_name is \"StartupURLsResetTime\". In both cases it is ignored. Please change something here. I think things are more obvious if the histogram name is consistent with the other histograms, and if argument values aren't different and ignored.","draft":false,"lineno":260,"date":"2013-09-27 15:50:21.422970","left":false},{"author":"grt","author_email":"grt@chromium.org","text":"On 2013/09/27 14:54:20, MAD wrote:\n> It is logged with a value of 0.0.\n\nIf I understand the use of histograms here, there are only 50 buckets for a range from 60 to 604800 seconds, so the 0.0 value may be in the same bucket as a fairly large reset-delta range. Will we be able to extract meaning from this first bucket?","draft":false,"lineno":266,"date":"2013-09-27 15:50:21.423220","left":false},{"author":"MAD","author_email":"mad@chromium.org","text":"OK, you convinced me, I'll work something up...\n","draft":false,"lineno":260,"date":"2013-09-27 17:35:39.893870","left":false},{"author":"MAD","author_email":"mad@chromium.org","text":"D'Ho! Of course... I didn't realize that because all my tests needed enough time to reach the next bucket...\n\nThanks!\n\n","draft":false,"lineno":266,"date":"2013-09-27 17:35:39.894150","left":false}],"id":1001,"is_binary":false},"chrome/browser/prefs/session_startup_pref.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":16,"num_removed":1,"messages":[],"id":1003,"is_binary":false}},"owner_email":"mad@chromium.org","owner":"MAD","message":null,"try_job_results":[],"created":"2013-09-27 02:20:22.860300","url":null,"num_comments":10,"modified":"2013-09-27 17:35:39.942150","patchset":1,"issue":24930003}