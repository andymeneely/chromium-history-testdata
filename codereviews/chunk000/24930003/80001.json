{"files":{"chrome/test/data/extensions/profiles/content_scripts50/Default/Preferences":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81010,"is_binary":false},"chrome/test/data/policy/policy_test_cases.json":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81012,"is_binary":false},"chrome/browser/resources/options/browser_options.js":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":2,"messages":[],"id":81004,"is_binary":false},"chrome/test/data/extensions/profiles/content_scripts10/Default/Preferences":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81009,"is_binary":false},"chrome/common/pref_names.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":0,"messages":[],"id":81007,"is_binary":false},"chrome/test/data/extensions/profiles/content_scripts1/Default/Preferences":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81008,"is_binary":false},"chrome/browser/prefs/pref_model_associator.cc":{"status":"M","num_chunks":7,"no_base_file":false,"property_changes":"","num_added":98,"num_removed":12,"messages":[{"author":"Nicolas Zea","author_email":"zea@chromium.org","text":"It occurs to me this isn't always correct (and this is likely the reason the tests are failing). We should only UPDATE if the old pref exists, else we should ADD.\n\nIt's a bit tricky to know if a synced version of a preference exists at this point, because we're still iterating over the set of synced preferences during the MergeDataAndStartSyncing call. It might be better to wait to push these changes until the end of MergeDataAndStartSyncing, when you know whether a synced version of the old pref exists or not.","draft":false,"lineno":172,"date":"2013-10-09 17:40:52.759800","left":false},{"author":"Nicolas Zea","author_email":"zea@chromium.org","text":"here too. We can check synced_preferences_.count(old_name) to see if it exists or not","draft":false,"lineno":594,"date":"2013-10-09 17:40:52.760250","left":false},{"author":"robertshield","author_email":"robertshield@chromium.org","text":"On 2013/10/09 17:40:52, Nicolas Zea wrote:\n> It occurs to me this isn't always correct (and this is likely the reason the\n> tests are failing). We should only UPDATE if the old pref exists, else we should\n> ADD.\n> \n> It's a bit tricky to know if a synced version of a preference exists at this\n> point, because we're still iterating over the set of synced preferences during\n> the MergeDataAndStartSyncing call. It might be better to wait to push these\n> changes until the end of MergeDataAndStartSyncing, when you know whether a\n> synced version of the old pref exists or not.\n\nDone.","draft":false,"lineno":172,"date":"2013-10-10 00:40:18.253010","left":false},{"author":"robertshield","author_email":"robertshield@chromium.org","text":"On 2013/10/09 17:40:52, Nicolas Zea wrote:\n> here too. We can check synced_preferences_.count(old_name) to see if it exists\n> or not\n\nDone.","draft":false,"lineno":594,"date":"2013-10-10 00:40:18.253410","left":false}],"id":81001,"is_binary":false},"chrome/test/data/profiles/profile_with_complex_theme/Default/PreferencesTemplate":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81013,"is_binary":false},"chrome/browser/resources/options/startup_section.html":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81005,"is_binary":false},"chrome/common/pref_names.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":1,"messages":[],"id":81006,"is_binary":false},"chrome/test/data/extensions/profiles/empty/Default/Preferences":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81011,"is_binary":false},"tools/metrics/histograms/histograms.xml":{"status":"M","num_chunks":2,"no_base_file":true,"property_changes":"","num_added":16,"num_removed":0,"messages":[],"id":81014,"is_binary":false},"chrome/browser/profile_resetter/profile_resetter_unittest.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":81003,"is_binary":false},"chrome/browser/prefs/session_startup_pref.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":61,"num_removed":1,"messages":[],"id":81002,"is_binary":false}},"owner_email":"mad@chromium.org","owner":"MAD","message":"Rebase again, this time picking up the EOL fix.","try_job_results":[{"parent_name":null,"tests":["compile"],"slave":"vm337-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win/builds/114872","timestamp":"2013-10-09 01:02:45.846176","builder":"win","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA18wLDA","requester":"robertshield@chromium.org","buildnumber":"114872","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm164-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win7_aura/builds/86884","timestamp":"2013-10-09 00:53:13.214526","builder":"win7_aura","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA18wIDA","requester":"robertshield@chromium.org","buildnumber":"86884","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave297-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_asan/builds/49543","timestamp":"2013-10-09 00:44:26.834040","builder":"linux_asan","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA18wJDA","requester":"robertshield@chromium.org","buildnumber":"49543","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm321-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/206672","timestamp":"2013-10-09 00:37:19.583352","builder":"win_rel","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA1-wJDA","requester":"robertshield@chromium.org","buildnumber":"206672","revision":"227588"},{"parent_name":"win_rel","tests":["defaulttests"],"slave":"slave519-c4#11","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/52966","timestamp":"2013-10-09 00:25:46.289435","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(swarm_triggered)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA77AKDA","requester":null,"buildnumber":"52966","revision":"227588"},{"parent_name":null,"tests":["compile"],"slave":"vm245-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_x64_rel/builds/43946","timestamp":"2013-10-09 00:20:04.934777","builder":"win_x64_rel","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA1-wLDA","requester":"robertshield@chromium.org","buildnumber":"43946","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave329-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_chromeos/builds/162823","timestamp":"2013-10-09 00:19:10.771206","builder":"linux_chromeos","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA14wLDA","requester":"robertshield@chromium.org","buildnumber":"162823","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm676-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_rel/builds/175773","timestamp":"2013-10-09 00:14:48.762811","builder":"mac_rel","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA16wIDA","requester":"robertshield@chromium.org","buildnumber":"175773","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave380-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_aura/builds/85591","timestamp":"2013-10-09 00:13:54.961183","builder":"linux_aura","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA14wJDA","requester":"robertshield@chromium.org","buildnumber":"85591","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave296-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_rel/builds/176251","timestamp":"2013-10-09 00:10:32.334877","builder":"linux_rel","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA15wIDA","requester":"robertshield@chromium.org","buildnumber":"176251","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave549-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_aosp/builds/18464","timestamp":"2013-10-09 00:10:16.440347","builder":"android_aosp","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA14wKDA","requester":"robertshield@chromium.org","buildnumber":"18464","revision":"227588"},{"parent_name":null,"tests":["compile"],"slave":"vm719-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac/builds/91519","timestamp":"2013-10-09 00:09:57.736587","builder":"mac","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA16wLDA","requester":"robertshield@chromium.org","buildnumber":"91519","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm412-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg/builds/110436","timestamp":"2013-10-09 00:09:06.794355","builder":"android_dbg","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA1-wIDA","requester":"robertshield@chromium.org","buildnumber":"110436","revision":"227588"},{"parent_name":"mac_rel","tests":["defaulttests"],"slave":"slave514-c4#19","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/52950","timestamp":"2013-10-09 00:08:33.502013","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICAz5gKDA","requester":null,"buildnumber":"52950","revision":"227588"},{"parent_name":"linux_rel","tests":["defaulttests"],"slave":"slave512-c4#18","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/52946","timestamp":"2013-10-09 00:07:24.167070","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(swarm_triggered)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA96QKDA","requester":null,"buildnumber":"52946","revision":"227588"},{"parent_name":null,"tests":["compile"],"slave":"slave284-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_clang/builds/145417","timestamp":"2013-10-09 00:04:48.042202","builder":"linux_clang","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA1-wKDA","requester":"robertshield@chromium.org","buildnumber":"145417","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"mini35-l1","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_dbg_simulator/builds/91360","timestamp":"2013-10-09 00:04:35.966970","builder":"ios_dbg_simulator","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA16wKDA","requester":"robertshield@chromium.org","buildnumber":"91360","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm406-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_clang_dbg/builds/82589","timestamp":"2013-10-08 23:57:32.608251","builder":"android_clang_dbg","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA18wKDA","requester":"robertshield@chromium.org","buildnumber":"82589","revision":"227588"},{"parent_name":null,"tests":["defaulttests"],"slave":"mini25-l1","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_rel_device/builds/85917","timestamp":"2013-10-08 23:56:29.153347","builder":"ios_rel_device","clobber":false,"project":"Chromium Try Server","reason":"mad2","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI3CxIFSXNzdWUY083xCwwLEghQYXRjaFNldBiB8QQMCxIMVHJ5Sm9iUmVzdWx0GICAgICA16wJDA","requester":"robertshield@chromium.org","buildnumber":"85917","revision":"227588"}],"created":"2013-10-08 23:43:59.099310","url":null,"num_comments":4,"modified":"2013-10-10 00:40:18.296170","patchset":80001,"issue":24930003}