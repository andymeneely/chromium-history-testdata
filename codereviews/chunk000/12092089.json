{"description":"Display an info banner on the clear browsing data dialog if the browsing data was cleared within the last 24h. The displayed info banner suggest to use the incognito mode instead.\n\n\nBUG=164600\n\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=180372","cc":["chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"reviewers":["sky@chromium.org","jhawkins@chromium.org"],"messages":[{"sender":"markusheintz@chromium.org","recipients":["markusheintz@chromium.org","estade@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org"],"text":"@Evan: Could you please review this CL? You'll find all necessary screenshots and mocks in the referenced issue.\n\n@Scott: Please review the changes in  chrome/browser/ui/browser_ui_prefs.cc\nPlease let me know if it is fine to TRB you or another ui OWNER in such cases.\n\n\nThanks a lot!\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/resources/options/clear_browser_data_overlay.html\nFile chrome/browser/resources/options/clear_browser_data_overlay.html (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/resources/options/clear_browser_data_overlay.html#newcode5\nchrome/browser/resources/options/clear_browser_data_overlay.html:5: <div class=\"info-bar\">\nPlease note that I could probably get rid of on div and us the margin instead of the padding.\n\nNot sure if that makes much of a difference or if one way is preferred over the other. I tried to follow the examples of the code in this file, where it looks like padding is favored over using margin. But I may misinterpret this.","disapproval":false,"date":"2013-01-31 18:08:52.336130","approval":false},{"sender":"sky@chromium.org","recipients":["markusheintz@chromium.org","estade@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org"],"text":"LGTM","disapproval":false,"date":"2013-01-31 21:07:13.627270","approval":true},{"sender":"markusheintz@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"@Scott: Thanks a lot.\n\nJust seeing that Evan is OOO. Replacing Evan with James as reviewer.\n\n@James: Please review this CL. You'll find all necessary screenshots and mocks in the referenced bug.\n\nThanks a lot.","disapproval":false,"date":"2013-02-01 08:28:51.363700","approval":false},{"sender":"jhawkins@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"Nice, clean CL.  Just a few comments.\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/app/generated_resources.grd\nFile chrome/app/generated_resources.grd (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/app/generated_resources.grd#newcode8099\nchrome/app/generated_resources.grd:8099: +        Psst! Incognito mode (<ph name=\"INCOGNITO_MODE_SHORTCUT\">$1<ex>Shift+Ctrl+N</ex></ph>) may come in useful next time.\nI don't think \"may come in useful\" is proper english grammar.  Consider:\n\n* may be useful next time.\n* may come in handy next time. <- Danger, colloquialism.\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/resources/options/clear_browser_data_overlay.html\nFile chrome/browser/resources/options/clear_browser_data_overlay.html (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/resources/options/clear_browser_data_overlay.html#newcode5\nchrome/browser/resources/options/clear_browser_data_overlay.html:5: <div class=\"info-bar\">\nOn 2013/01/31 18:08:52, markusheintz_ wrote:\n> Please note that I could probably get rid of on div and us the margin instead of\n> the padding.\n> \n> Not sure if that makes much of a difference or if one way is preferred over the\n> other. I tried to follow the examples of the code in this file, where it looks\n> like padding is favored over using margin. But I may misinterpret this.\n\nYeah, prefer margin instead of padding.\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.cc\nFile chrome/browser/ui/webui/options/clear_browser_data_handler.cc (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.cc#newcode60\nchrome/browser/ui/webui/options/clear_browser_data_handler.cc:60: base::TimeDelta::FromHours(24);\nnit: Pull 24 out into a named constant.  Check around to see if we already have one somewhere in the code base.\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.h\nFile chrome/browser/ui/webui/options/clear_browser_data_handler.h (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.h#newcode21\nchrome/browser/ui/webui/options/clear_browser_data_handler.h:21: void UpdateInfoBannerVisibility();\nOptional nit: Move non-inherited methods below the interface implementations.","disapproval":false,"date":"2013-02-01 17:42:02.307020","approval":false},{"sender":"markusheintz@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"https://codereview.chromium.org/12092089/diff/11/chrome/app/generated_resources.grd\nFile chrome/app/generated_resources.grd (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/app/generated_resources.grd#newcode8099\nchrome/app/generated_resources.grd:8099: +        Psst! Incognito mode (<ph name=\"INCOGNITO_MODE_SHORTCUT\">$1<ex>Shift+Ctrl+N</ex></ph>) may come in useful next time.\nOn 2013/02/01 17:42:02, James Hawkins wrote:\n> I don't think \"may come in useful\" is proper english grammar.  Consider:\n> \n> * may be useful next time.\n> * may come in handy next time. <- Danger, colloquialism.\n\nThanks for pointing this out. I changed it \"handy\". I sticked to the more colloquial version as this is what UX suggested. I also had to modify this string in anther place to stay consistent. This is fine according to the comments on the bug.\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/resources/options/clear_browser_data_overlay.html\nFile chrome/browser/resources/options/clear_browser_data_overlay.html (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/resources/options/clear_browser_data_overlay.html#newcode5\nchrome/browser/resources/options/clear_browser_data_overlay.html:5: <div class=\"info-bar\">\nOn 2013/02/01 17:42:02, James Hawkins wrote:\n> On 2013/01/31 18:08:52, markusheintz_ wrote:\n> > Please note that I could probably get rid of on div and us the margin instead\n> of\n> > the padding.\n> > \n> > Not sure if that makes much of a difference or if one way is preferred over\n> the\n> > other. I tried to follow the examples of the code in this file, where it looks\n> > like padding is favored over using margin. But I may misinterpret this.\n> \n> Yeah, prefer margin instead of padding.\n\nDone.\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.cc\nFile chrome/browser/ui/webui/options/clear_browser_data_handler.cc (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.cc#newcode60\nchrome/browser/ui/webui/options/clear_browser_data_handler.cc:60: base::TimeDelta::FromHours(24);\nOn 2013/02/01 17:42:02, James Hawkins wrote:\n> nit: Pull 24 out into a named constant.  Check around to see if we already have\n> one somewhere in the code base.\n\nAfter searching a bit in the code (\"_PER_DAY\", \"kHoursPerDat\", \"HOURSPERDAY\") it looks like such a const or macro is only used in third party code.\n\nSo I create a const in the anonymous namespace here.\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.h\nFile chrome/browser/ui/webui/options/clear_browser_data_handler.h (right):\n\nhttps://codereview.chromium.org/12092089/diff/11/chrome/browser/ui/webui/options/clear_browser_data_handler.h#newcode21\nchrome/browser/ui/webui/options/clear_browser_data_handler.h:21: void UpdateInfoBannerVisibility();\nOn 2013/02/01 17:42:02, James Hawkins wrote:\n> Optional nit: Move non-inherited methods below the interface implementations.\n\nDone.","disapproval":false,"date":"2013-02-01 18:43:17.732980","approval":false},{"sender":"jhawkins@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"LGTM with comment.\n\nhttps://codereview.chromium.org/12092089/diff/3011/chrome/browser/ui/webui/options/clear_browser_data_handler.cc\nFile chrome/browser/ui/webui/options/clear_browser_data_handler.cc (right):\n\nhttps://codereview.chromium.org/12092089/diff/3011/chrome/browser/ui/webui/options/clear_browser_data_handler.cc#newcode28\nchrome/browser/ui/webui/options/clear_browser_data_handler.cc:28: const uint kHoursPerDay = 24;\nGo ahead and keep this inside the method until we need to share it.","disapproval":false,"date":"2013-02-01 18:47:11.547500","approval":true},{"sender":"markusheintz@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"FYI: I change the const type from uint to int64 in order to match the param type of the TimeDelta::FromHours method.\n\nThanks a lot for the super fast responses and the review :).\n\nhttps://codereview.chromium.org/12092089/diff/3011/chrome/browser/ui/webui/options/clear_browser_data_handler.cc\nFile chrome/browser/ui/webui/options/clear_browser_data_handler.cc (right):\n\nhttps://codereview.chromium.org/12092089/diff/3011/chrome/browser/ui/webui/options/clear_browser_data_handler.cc#newcode28\nchrome/browser/ui/webui/options/clear_browser_data_handler.cc:28: const uint kHoursPerDay = 24;\nOn 2013/02/01 18:47:11, James Hawkins wrote:\n> Go ahead and keep this inside the method until we need to share it.\n\nDone.","disapproval":false,"date":"2013-02-01 18:52:18.565400","approval":false},{"sender":"commit-bot@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/markusheintz@chromium.org/12092089/2002","disapproval":false,"date":"2013-02-01 19:02:54.340180","approval":false},{"sender":"commit-bot@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"Retried try job too often on win_rel for step(s) browser_tests\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win_rel&number=106450","disapproval":false,"date":"2013-02-01 22:35:45.367560","approval":false},{"sender":"commit-bot@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/markusheintz@chromium.org/12092089/2002","disapproval":false,"date":"2013-02-04 08:06:52.439230","approval":false},{"sender":"commit-bot@chromium.org","recipients":["markusheintz@chromium.org","sky@chromium.org","jhawkins@chromium.org","chromium-reviews@chromium.org","dbeam+watch-options@chromium.org","arv@chromium.org","estade@chromium.org"],"text":"Change committed as 180372","disapproval":false,"date":"2013-02-04 09:19:33.440420","approval":false}],"owner_email":"markusheintz@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"markusheintz_","subject":"Display an info banner on the clear browsing data dialog if the browsing data was cleared within thâ€¦","created":"2013-01-31 15:16:52.509640","patchsets":[1,2001,11,3011,12001,2002],"modified":"2013-02-04 09:19:33.534840","closed":true,"commit":false,"issue":12092089}