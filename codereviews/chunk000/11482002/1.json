{"files":{"media/audio/mac/audio_input_mac.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":17,"num_removed":1,"messages":[{"author":"Chris Rogers","author_email":"crogers@google.com","text":"As we discussed in offline, this is really a stop-gap very quick-fix solution until we can switch Pepper and speech input API over to the low-latency input path (along with something like AudioInputResampler).\n\nWe need to add a comment here to that affect, along with a bug number.\n\nBecause, these \"sleep\" types of fixes are not good as permanent solutions.\n\nI would also calculate the (buffer_length - elapsed) as a separate variable which you can sanity check to be within a reasonable range before calling Sleep().\n","draft":false,"lineno":207,"date":"2012-12-06 23:19:55.228650","left":false},{"author":"DaleCurtis","author_email":"dalecurtis@chromium.org","text":"On 2012/12/06 23:19:55, Chris Rogers wrote:\n> As we discussed in offline, this is really a stop-gap very quick-fix solution\n> until we can switch Pepper and speech input API over to the low-latency input\n> path (along with something like AudioInputResampler).\n> \n> We need to add a comment here to that affect, along with a bug number.\n> \n> Because, these \"sleep\" types of fixes are not good as permanent solutions.\n> \n> I would also calculate the (buffer_length - elapsed) as a separate variable\n> which you can sanity check to be within a reasonable range before calling\n> Sleep().\n\nAdded a comment. As discussed offline, the calling pattern makes it such that the sleep is always necessary and the value is already sanitized to some effect. ","draft":false,"lineno":207,"date":"2012-12-06 23:41:07.252620","left":false}],"id":2,"is_binary":false},"media/audio/mac/audio_input_mac.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":1,"messages":[{"author":"DaleCurtis","author_email":"dalecurtis@chromium.org","text":"Reverted the old change so we don't back up the system API while delaying delivery for the current buffer.","draft":false,"lineno":66,"date":"2012-12-06 21:48:44.800930","left":false}],"id":3,"is_binary":false}},"owner_email":"dalecurtis@chromium.org","owner":"DaleCurtis","message":null,"try_job_results":[],"created":"2012-12-06 21:42:24.855620","url":null,"num_comments":3,"modified":"2012-12-06 23:41:07.290580","patchset":1,"issue":11482002}