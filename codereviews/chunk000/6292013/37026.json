{"files":{"net/spdy/spdy_proxy_client_socket.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":2,"messages":[{"author":"Satish","author_email":"satish@chromium.org","text":"Looks like adding this was incorrect as SpdyStream is calling this method when sending a request and detaching. SpdyStream doesn't know about the actual POST data so it can't call this method only for chunked POST data. Is it ok if I remove the check and leave the method empty?","draft":false,"lineno":502,"date":"2011-03-03 23:57:06.935445","left":false},{"author":"willchan","author_email":"willchan@chromium.org","text":"On 2011/03/03 23:57:06, Satish wrote:\n> Looks like adding this was incorrect as SpdyStream is calling this method when\n> sending a request and detaching. SpdyStream doesn't know about the actual POST\n> data so it can't call this method only for chunked POST data. Is it ok if I\n> remove the check and leave the method empty?\n\nOK","draft":false,"lineno":502,"date":"2011-03-04 00:02:55.558698","left":false}],"id":37040,"is_binary":false},"net/spdy/spdy_http_stream.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":26,"num_removed":5,"messages":[],"id":37035,"is_binary":false},"net/base/upload_data.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":3,"messages":[],"id":37030,"is_binary":false},"net/spdy/spdy_proxy_client_socket.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":1,"messages":[],"id":37041,"is_binary":false},"net/spdy/spdy_stream_unittest.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":2,"messages":[],"id":37045,"is_binary":false},"net/base/upload_data_stream.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":18,"num_removed":0,"messages":[{"author":"willchan","author_email":"willchan@chromium.org","text":"most chromium code does defined(UNIT_TEST), not just #if UNIT_TEST. It's probably best to be consistent.\n\nPlease add a TODO to remove this. And I expect you to do this one after you submit this changelist, because this is kludgy. I think you should add stuff to UploadData one by one.","draft":false,"lineno":65,"date":"2011-03-03 23:42:32.178634","left":false},{"author":"Satish","author_email":"satish@chromium.org","text":"On 2011/03/03 23:42:32, willchan wrote:\n> most chromium code does defined(UNIT_TEST), not just #if UNIT_TEST. It's\n> probably best to be consistent.\n\nWill do.\n\n> Please add a TODO to remove this. And I expect you to do this one after you\n> submit this changelist, because this is kludgy. I think you should add stuff to\n> UploadData one by one.\n\nWith the current mock read/write testing model, I can't find easily how to break in the middle of an ongoing sequence and add more chunks to the stream. If you have any suggestions please let me know, perhaps topic for a separate mail thread.","draft":false,"lineno":65,"date":"2011-03-03 23:50:59.079355","left":false}],"id":37032,"is_binary":false},"net/spdy/spdy_stream.h":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":14,"num_removed":4,"messages":[],"id":37044,"is_binary":false},"chrome/common/net/url_fetcher.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":15,"num_removed":17,"messages":[],"id":37027,"is_binary":false},"net/url_request/url_request_unittest.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":7,"messages":[],"id":37050,"is_binary":false},"net/spdy/spdy_test_util.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":29,"num_removed":0,"messages":[],"id":37046,"is_binary":false},"net/spdy/spdy_http_utils.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":1,"messages":[],"id":37038,"is_binary":false},"net/base/upload_data_stream.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":21,"num_removed":2,"messages":[{"author":"willchan","author_email":"willchan@chromium.org","text":"What's going on here? Did we catch a bug? It's not immediately obvious what this change is for.","draft":false,"lineno":156,"date":"2011-03-03 23:42:32.178402","left":false},{"author":"Satish","author_email":"satish@chromium.org","text":"On 2011/03/03 23:42:32, willchan wrote:\n> What's going on here? Did we catch a bug? It's not immediately obvious what this\n> change is for.\n\nSorry I missed this. Yes I found a bug when testing with 16k sized chunks. This method should return true only after the whole chunk data was copied over to the IOBuffer. Since we no longer have the old zero-size chunk to indicate the end and instead have the flag on the last valid chunk, next_element_ should have gone past all chunks once the last chunk was read into the IOBuffer.","draft":false,"lineno":156,"date":"2011-03-03 23:50:59.079132","left":false}],"id":37031,"is_binary":false},"net/url_request/url_request.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":8,"messages":[],"id":37048,"is_binary":false},"net/spdy/spdy_http_stream.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":1,"messages":[],"id":37036,"is_binary":false},"net/spdy/spdy_network_transaction_unittest.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":50,"num_removed":0,"messages":[],"id":37039,"is_binary":false},"net/http/http_stream_parser.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":0,"messages":[],"id":37034,"is_binary":false},"net/spdy/spdy_test_util.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":0,"messages":[],"id":37047,"is_binary":false},"net/http/http_stream_parser.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":56,"num_removed":9,"messages":[],"id":37033,"is_binary":false},"net/spdy/spdy_stream.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":19,"num_removed":5,"messages":[],"id":37043,"is_binary":false},"net/spdy/spdy_session.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":37042,"is_binary":false},"chrome/common/net/url_fetcher.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":6,"messages":[],"id":37028,"is_binary":false},"net/url_request/url_request.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":4,"messages":[],"id":37049,"is_binary":false},"net/spdy/spdy_http_stream_unittest.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":64,"num_removed":2,"messages":[],"id":37037,"is_binary":false},"net/base/upload_data.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":8,"num_removed":9,"messages":[],"id":37029,"is_binary":false}},"owner_email":"satish@chromium.org","owner":"Satish","message":".","try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac&number=15544","timestamp":"2011-03-04 00:17:40.914942","builder":"mac","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUYrYSAAwwLEghQYXRjaFNldBiioQIMCxIMVHJ5Sm9iUmVzdWx0GJzvAgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux&number=15112","timestamp":"2011-03-04 00:17:40.914942","builder":"linux","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUYrYSAAwwLEghQYXRjaFNldBiioQIMCxIMVHJ5Sm9iUmVzdWx0GJ3vAgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win&number=19090","timestamp":"2011-03-04 00:17:40.914942","builder":"win","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUYrYSAAwwLEghQYXRjaFNldBiioQIMCxIMVHJ5Sm9iUmVzdWx0GJ7vAgw","requester":null,"buildnumber":null,"revision":null}],"created":"2011-03-03 23:29:28.476678","url":null,"num_comments":6,"modified":"2012-01-13 14:34:14.813108","patchset":37026,"issue":6292013}