{"files":{"views/ime/input_method_base.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":0,"messages":[{"author":"James Su","author_email":"suzhe@chromium.org","text":"In native_widget_gtk.cc IsActive() uses a different flag instead of has_focus_. So we'd better not to use it as focus state.","draft":false,"lineno":42,"date":"2011-06-23 01:50:05.917182","left":false},{"author":"James Su","author_email":"suzhe@chromium.org","text":"OnFocus() should be called by native widget implementations just after creating and initializing the input method instance.","draft":false,"lineno":43,"date":"2011-06-23 01:50:05.917346","left":false},{"author":"Peng","author_email":"penghuang@chromium.org","text":"On 2011/06/23 01:50:05, James Su wrote:\n> In native_widget_gtk.cc IsActive() uses a different flag instead of has_focus_.\n> So we'd better not to use it as focus state.\n\nhttp://en.wikipedia.org/wiki/Active_window\n\nFrom here, the active window should be equal to focused window. And we widget does not have better function to get focus state.\n\n","draft":false,"lineno":42,"date":"2011-06-23 03:17:41.068652","left":false},{"author":"Peng","author_email":"penghuang@chromium.org","text":"On 2011/06/23 01:50:05, James Su wrote:\n> OnFocus() should be called by native widget implementations just after creating\n> and initializing the input method instance.\n\nIf the OnFocuse() is called by native widget, where to call FocusWillChange()? I think FocusWillChange() should be called in Init(). But OnFocuse() will be called after Init(). So during Init(), the widget_focused_  can not be true.\n\n","draft":false,"lineno":43,"date":"2011-06-23 03:17:41.068884","left":false},{"author":"James Su","author_email":"suzhe@chromium.org","text":"On 2011/06/23 03:17:41, Peng wrote:\n> On 2011/06/23 01:50:05, James Su wrote:\n> > In native_widget_gtk.cc IsActive() uses a different flag instead of\n> has_focus_.\n> > So we'd better not to use it as focus state.\n> \n> http://en.wikipedia.org/wiki/Active_window\n> \n> From here, the active window should be equal to focused window. And we widget\n> does not have better function to get focus state.\n> \n\nin native_widget_gtk.cc, this two states use different code path, so they may be set at different time. The IsActive state comes from window manager indicating if the window is activated in the WM, but the focus state comes from gdk's event layer (from Xserver).","draft":false,"lineno":42,"date":"2011-06-23 04:02:59.165694","left":false},{"author":"James Su","author_email":"suzhe@chromium.org","text":"On 2011/06/23 03:17:41, Peng wrote:\n> On 2011/06/23 01:50:05, James Su wrote:\n> > OnFocus() should be called by native widget implementations just after\n> creating\n> > and initializing the input method instance.\n> \n> If the OnFocuse() is called by native widget, where to call FocusWillChange()? I\n> think FocusWillChange() should be called in Init(). But OnFocuse() will be\n> called after Init(). So during Init(), the widget_focused_  can not be true.\n> \nIt's ok to call FocusWillChange() with widget_focused_ == false.\n","draft":false,"lineno":43,"date":"2011-06-23 04:02:59.165839","left":false}],"id":6002,"is_binary":false}},"owner_email":"penghuang@chromium.org","owner":"Peng","message":"Update","try_job_results":[],"created":"2011-06-22 17:20:58.973665","url":null,"num_comments":6,"modified":"2011-06-23 04:02:59.191873","patchset":6001,"issue":7222007}