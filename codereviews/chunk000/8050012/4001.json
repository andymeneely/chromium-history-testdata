{"files":{"content/common/gpu/media/omx_video_decode_accelerator.cc":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":1,"messages":[{"author":"Ami Fischman","author_email":"fischman@chromium.org","text":"Can you add a test for the bug you're fixing (i.e. repros the problem before your .cc change, works after your .cc change).","draft":false,"lineno":425,"date":"2011-09-27 15:41:44.432074","left":false},{"author":"Ami Fischman","author_email":"fischman@chromium.org","text":"IMO this conditional is quite unclear.\nI think it makes a lot more sense to put it at the callsite for OutputPortFlushDone() where it's clearer that the alternative is DESTROYING.","draft":false,"lineno":428,"date":"2011-09-27 15:41:44.432309","left":false},{"author":"Ami Fischman","author_email":"fischman@chromium.org","text":"Note that this contains the same kind of latent bug.\nInstead I think line 903 wants to have a:\nif (current_state_change_ == DESTROYING)\n  return;\npreceding the data2 checks.","draft":false,"lineno":904,"date":"2011-09-27 15:41:44.432534","left":false},{"author":"ashok","author_email":"ashokm@nvidia.com","text":"Please see my reply comment.\n\nOn 2011/09/27 15:41:44, Ami Fischman wrote:\n> Can you add a test for the bug you're fixing (i.e. repros the problem before\n> your .cc change, works after your .cc change).\n\n","draft":false,"lineno":425,"date":"2011-09-28 16:33:41.218815","left":false},{"author":"ashok","author_email":"ashokm@nvidia.com","text":"On 2011/09/27 15:41:44, Ami Fischman wrote:\n> IMO this conditional is quite unclear.\n> I think it makes a lot more sense to put it at the callsite for\n> OutputPortFlushDone() where it's clearer that the alternative is DESTROYING.\n\nDone.","draft":false,"lineno":428,"date":"2011-09-28 16:33:41.219038","left":false},{"author":"ashok","author_email":"ashokm@nvidia.com","text":"On 2011/09/27 15:41:44, Ami Fischman wrote:\n> Note that this contains the same kind of latent bug.\n> Instead I think line 903 wants to have a:\n> if (current_state_change_ == DESTROYING)\n>   return;\n> preceding the data2 checks.\n\nDone.","draft":false,"lineno":904,"date":"2011-09-28 16:33:41.219209","left":false}],"id":2003,"is_binary":false}},"owner_email":"ashokm@nvidia.com","owner":"ashok","message":"''","try_job_results":[],"created":"2011-09-27 13:30:47.429817","url":null,"num_comments":6,"modified":"2011-09-28 16:33:41.286749","patchset":4001,"issue":8050012}