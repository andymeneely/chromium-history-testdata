{"description":"Fixes bug in handling of spaces in the search provider. The problem\noccurred because AutocompleteInput strips whitespace, but whitespace\nmatters for suggest text.\n\nBUG=65701\nTEST=see bug\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=68659","cc":["chromium-reviews@chromium.org","pam+watch@chromium.org","ben+cc@chromium.org"],"reviewers":["pkasting@chromium.org"],"messages":[{"sender":"sky@chromium.org","recipients":["sky@chromium.org","pkasting@chromium.org","chromium-reviews@chromium.org","pam+watch@chromium.org","ben+cc@chromium.org"],"text":"","disapproval":false,"date":"2010-12-08 19:22:11.466078","approval":false},{"sender":"pkasting@chromium.org","recipients":["sky@chromium.org","pkasting@chromium.org","chromium-reviews@chromium.org","pam+watch@chromium.org","ben+cc@chromium.org"],"text":"LGTM although this instant stuff has gone beyond my ability to truly grasp all of what's happening\n\nhttp://codereview.chromium.org/5561008/diff/2001/chrome/browser/autocomplete/autocomplete_edit_view_mac.mm\nFile chrome/browser/autocomplete/autocomplete_edit_view_mac.mm (right):\n\nhttp://codereview.chromium.org/5561008/diff/2001/chrome/browser/autocomplete/autocomplete_edit_view_mac.mm#newcode480\nchrome/browser/autocomplete/autocomplete_edit_view_mac.mm:480: size_t initial_suggest_text_length = suggest_text_length_;\nNit: Another route that is the same length but might be slightly clearer is to avoid |initial_suggest_text_length| and instead start with:\n\n  std::wstring input_text(GetText());\n\n...then in the FinalizeInstantQuery() call, you can pass (input_text, text.substr(input_text.length()).  At least I think so, if I understand things right.\n\nhttp://codereview.chromium.org/5561008/diff/2001/chrome/browser/autocomplete/search_provider.cc\nFile chrome/browser/autocomplete/search_provider.cc (right):\n\nhttp://codereview.chromium.org/5561008/diff/2001/chrome/browser/autocomplete/search_provider.cc#newcode85\nchrome/browser/autocomplete/search_provider.cc:85: const std::wstring text = adjusted_input_text + suggest_text;\nWHAT, LOCAL CONST?!","disapproval":false,"date":"2010-12-08 19:53:17.575970","approval":true}],"owner_email":"sky@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"sky","subject":"Fixes bug in handling of spaces in the search provider. The problem","created":"2010-12-08 19:17:55.830807","patchsets":[1,2001,8001],"modified":"2011-05-09 13:43:50.611997","closed":true,"commit":false,"issue":5561008}