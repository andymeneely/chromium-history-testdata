{"description":"Disable AppApiTest.AppProcess on Windows -- it sometimes hangs\r\n\r\nBUG=58810\r\nTEST=none\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=62466","cc":["chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","ben+cc@chromium.org","pam+watch@chromium.org","phajdan.jr@chromium.org"],"reviewers":["evan@chromium.org"],"messages":[{"sender":"isherman@chromium.org","recipients":["isherman@chromium.org","evan@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","ben+cc@chromium.org","pam+watch@chromium.org","phajdan.jr@chromium.org"],"text":"","disapproval":false,"date":"2010-10-11 22:09:08.066454","approval":false},{"sender":"evan@chromium.org","recipients":["isherman@chromium.org","evan@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","ben+cc@chromium.org","pam+watch@chromium.org","phajdan.jr@chromium.org"],"text":"I think it might be better to mark this flaky.  It rarely times out and the timeout is short.","disapproval":false,"date":"2010-10-11 22:11:48.671445","approval":false},{"sender":"isherman@chromium.org","recipients":["isherman@chromium.org","evan@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","ben+cc@chromium.org","pam+watch@chromium.org","phajdan.jr@chromium.org"],"text":"On 2010/10/11 22:11:48, Evan Martin wrote:\n> I think it might be better to mark this flaky.  It rarely times out and the\n> timeout is short.\n\nOkay.","disapproval":false,"date":"2010-10-11 23:39:02.425166","approval":false},{"sender":"phajdan.jr@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"No. If it times out, the flaky mark will have no effect. The tree would\nstill be red.\n\nOn Tue, Oct 12, 2010 at 00:11, <evan@chromium.org> wrote:\n\n> I think it might be better to mark this flaky.  It rarely times out and the\n> timeout is short.\n>\n>\n> http://codereview.chromium.org/3706004/show\n>\n","disapproval":false,"date":"2010-10-12 06:42:25.781152","approval":false},{"sender":"isherman@chromium.org","recipients":["isherman@chromium.org","evan@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","ben+cc@chromium.org","pam+watch@chromium.org","phajdan.jr@chromium.org"],"text":"On 2010/10/12 06:42:25, Paweł Hajdan Jr. wrote:\n> No. If it times out, the flaky mark will have no effect. The tree would\n> still be red.\n\nCan you explain why this is?  The test binary launches each test separately, so it should not (and does not) prevent other tests from running.  Thus, this test timing out should not cause the tree to be red.  If it does, that really sounds to me like a bug with our reporting -- is there something I'm missing?","disapproval":false,"date":"2010-10-12 11:02:33.481927","approval":false},{"sender":"phajdan.jr@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"We still want to detect certain classes of failures (crashes, timeouts) even\nfor tests marked FLAKY. For this reason, those events make the tree red on\npurpose.\n\nIt's suboptimal - ideally we should stop running unstable tests on the main\nwaterfall, and get rid of all different prefixes. We're just waiting for\nmore machines and someone to make reporting infrastructure for those\nunstable tests.\n\nOn Tue, Oct 12, 2010 at 13:02, <isherman@chromium.org> wrote:\n\n> On 2010/10/12 06:42:25, Paweł Hajdan Jr. wrote:\n>\n>> No. If it times out, the flaky mark will have no effect. The tree would\n>> still be red.\n>>\n>\n> Can you explain why this is?  The test binary launches each test\n> separately, so\n> it should not (and does not) prevent other tests from running.  Thus, this\n> test\n> timing out should not cause the tree to be red.  If it does, that really\n> sounds\n> to me like a bug with our reporting -- is there something I'm missing?\n>\n>\n> http://codereview.chromium.org/3706004/show\n>\n","disapproval":false,"date":"2010-10-12 11:52:46.395881","approval":false},{"sender":"isherman@chromium.org","recipients":["isherman@chromium.org","evan@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","ben+cc@chromium.org","pam+watch@chromium.org","phajdan.jr@chromium.org"],"text":"Ok, Paweł has pretty much convinced me that DISABLED is the right prefix here.  Marking a test FLAKY means something like: Ignore the current infrequent failures for this test, but act on more frequent or more severe failures.  In the case of a test that flakily times out, this amounts to watching for two things (1) frequent timeouts; or (2) crashes.  With our current infrastructure, we cannot redden the tree only when the test starts to time out frequently -- we can choose between always having a red tree when a FLAKY test times out, or never.\n\nIf we choose never, then the tree will effectively help to identify crashes (2).  However, it seems likely that in this case no one will ever notice when the test starts to time out frequently, so the FLAKY prefix has not helped us with (1).  Moreover, frequently timing out tests slow down the cycle time considerably, so we can't afford to ignore them.  Yes, we have slowness dashboards; but without automated nagging, these will probably not be sufficient to keep frequently failing tests out of the pipeline.\n\nOn the other hand, if we choose to always redden the tree on a timeout, then the tree will sometimes be red without good cause.  This is kind of okay, as a good sheriff can still tell the difference between a flaky test occasionally timing out and a flaky test regularly timing out (1) or crashing (2).  However, making that distinction requires extra digging, and so trains people to pay less attention to \"mere\" tree redness.  An ideal sheriff would still do the right thing; but a busy sheriff with lots of things calling for his attention might overlook the failures.\n\nIn short, it seems that our infrastructure does not give us a good option for dealing with FLAKY tests that time out infrequently.  As such, we should mark all tests that time out as DISABLED.\n\nEvan, WDYT?","disapproval":false,"date":"2010-10-13 08:58:02.843473","approval":false},{"sender":"phajdan.jr@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"Just in case: technically we can keep the tree green for hangy FLAKY tests,\nbut it allows the timeouts to creep in unnoticed, which slows down the tree.\n\nOn Wed, Oct 13, 2010 at 10:58, <isherman@chromium.org> wrote:\n\n> Ok, Paweł has pretty much convinced me that DISABLED is the right prefix\n> here.\n> Marking a test FLAKY means something like: Ignore the current infrequent\n> failures for this test, but act on more frequent or more severe failures.\n>  In\n> the case of a test that flakily times out, this amounts to watching for two\n> things (1) frequent timeouts; or (2) crashes.  With our current\n> infrastructure,\n> we cannot redden the tree only when the test starts to time out frequently\n> -- we\n> can choose between always having a red tree when a FLAKY test times out, or\n> never.\n>\n> If we choose never, then the tree will effectively help to identify crashes\n> (2).\n>  However, it seems likely that in this case no one will ever notice when\n> the\n> test starts to time out frequently, so the FLAKY prefix has not helped us\n> with\n> (1).  Moreover, frequently timing out tests slow down the cycle time\n> considerably, so we can't afford to ignore them.  Yes, we have slowness\n> dashboards; but without automated nagging, these will probably not be\n> sufficient\n> to keep frequently failing tests out of the pipeline.\n>\n> On the other hand, if we choose to always redden the tree on a timeout,\n> then the\n> tree will sometimes be red without good cause.  This is kind of okay, as a\n> good\n> sheriff can still tell the difference between a flaky test occasionally\n> timing\n> out and a flaky test regularly timing out (1) or crashing (2).  However,\n> making\n> that distinction requires extra digging, and so trains people to pay less\n> attention to \"mere\" tree redness.  An ideal sheriff would still do the\n> right\n> thing; but a busy sheriff with lots of things calling for his attention\n> might\n> overlook the failures.\n>\n> In short, it seems that our infrastructure does not give us a good option\n> for\n> dealing with FLAKY tests that time out infrequently.  As such, we should\n> mark\n> all tests that time out as DISABLED.\n>\n> Evan, WDYT?\n>\n>\n> http://codereview.chromium.org/3706004/show\n>\n","disapproval":false,"date":"2010-10-13 09:05:00.103699","approval":false},{"sender":"evan@chromium.org","recipients":["isherman@chromium.org","evan@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","erikkay@chromium.org","ben+cc@chromium.org","pam+watch@chromium.org","phajdan.jr@chromium.org"],"text":"Go for it!  (Pawel knows way more about this than me, too, so you should always just do what he says.)","disapproval":false,"date":"2010-10-13 16:30:21.028474","approval":false}],"owner_email":"isherman@chromium.org","private":false,"base_url":"http://src.chromium.org/git/chromium.git","owner":"Ilya Sherman","subject":"Disable AppApiTest.AppProcess on Windows -- it sometimes hangs","created":"2010-10-11 21:49:08.987774","patchsets":[1,4001,13001],"modified":"2011-05-20 02:40:27.184921","closed":true,"commit":false,"issue":3706004}