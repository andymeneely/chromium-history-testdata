{"files":{"media/base/android/media_codec_bridge.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":10,"num_removed":0,"messages":[{"author":"xhwang","author_email":"xhwang@chromium.org","text":"add include for std::pair","draft":false,"lineno":55,"date":"2013-09-10 00:30:20.694170","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"s/ContainerCodecPairs/ContainerCodec_s_Pairs","draft":false,"lineno":58,"date":"2013-09-10 00:30:20.694470","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"pass by pointer for output parameters?","draft":false,"lineno":59,"date":"2013-09-10 00:30:20.694770","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"s/container_codec_pairs/container_codec's'_pairs to be consistent.","draft":false,"lineno":59,"date":"2013-09-10 00:30:20.695070","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/10 00:30:20, xhwang wrote:\n> add include for std::pair\n\n<utility> included.","draft":false,"lineno":55,"date":"2013-09-10 02:49:12.820410","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/10 00:30:20, xhwang wrote:\n> s/ContainerCodecPairs/ContainerCodec_s_Pairs\n\nDone.","draft":false,"lineno":58,"date":"2013-09-10 02:49:12.820620","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/10 00:30:20, xhwang wrote:\n> pass by pointer for output parameters?\n\nDone.","draft":false,"lineno":59,"date":"2013-09-10 02:49:12.820830","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/10 00:30:20, xhwang wrote:\n> s/container_codec_pairs/container_codec's'_pairs to be consistent.\n\nDone.","draft":false,"lineno":59,"date":"2013-09-10 02:49:12.821030","left":false}],"id":4003,"is_binary":false},"media/base/android/media_codec_bridge.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":28,"num_removed":1,"messages":[{"author":"xhwang","author_email":"xhwang@chromium.org","text":"Oh my, I hate JNI :)","draft":false,"lineno":104,"date":"2013-09-10 00:30:20.693660","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"remove one extra empty line","draft":false,"lineno":108,"date":"2013-09-10 00:30:20.693890","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/10 00:30:20, xhwang wrote:\n> remove one extra empty line\n\nDone.","draft":false,"lineno":108,"date":"2013-09-10 02:49:12.820140","left":false}],"id":4002,"is_binary":false},"media/base/android/java/src/org/chromium/media/MediaCodecBridge.java":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":62,"num_removed":5,"messages":[{"author":"xhwang","author_email":"xhwang@chromium.org","text":"Add documentation w/ examples for easier understanding. Also, in the native side, we use Codec's' sometimes. I like it with 's' more since it's more clear. At least we should be consistent.","draft":false,"lineno":80,"date":"2013-09-10 00:30:20.692230","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"Add comment about what this function is expected to do? Without the context of ddorwin's CL, it's hard to understand what we are doing here.","draft":false,"lineno":134,"date":"2013-09-10 00:30:20.692550","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"So we don't care about the L3 decoders? If we care, then it seems we can reuse the logic on line 200.","draft":false,"lineno":147,"date":"2013-09-10 00:30:20.692850","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"Will containerCodecMap.get() work if the key is not in the map? If so we can always call:\n\nString existingCodecs = containerCodecMap.get(supportedTypes[j]);\ncontainerCodecMap.put(supportedTypes[j], existingCodecs + \",\n                      \" + codecString);\n\nand drop the \"else\" block on line 158. If supportedTypes[j] is not in the map, existingCodecs will be empty, so this code should still work.","draft":false,"lineno":156,"date":"2013-09-10 00:30:20.693090","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"Newbie question: Is ArrayList and toArray the only way we can pass a list to the native side? It seems that this can be wrapped into a static function.","draft":false,"lineno":167,"date":"2013-09-10 00:30:20.693380","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/10 00:30:20, xhwang wrote:\n> Add documentation w/ examples for easier understanding. Also, in the native\n> side, we use Codec's' sometimes. I like it with 's' more since it's more clear.\n> At least we should be consistent.\n\nDone.","draft":false,"lineno":80,"date":"2013-09-10 02:49:12.818490","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/10 00:30:20, xhwang wrote:\n> Add comment about what this function is expected to do? Without the context of\n> ddorwin's CL, it's hard to understand what we are doing here.\n\nDone.","draft":false,"lineno":134,"date":"2013-09-10 02:49:12.818840","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"All the codecs returned by MediaCodecList should support L3, so we don't need to instantiate them.\n\nOn 2013/09/10 00:30:20, xhwang wrote:\n> So we don't care about the L3 decoders? If we care, then it seems we can reuse\n> the logic on line 200.\n\n","draft":false,"lineno":147,"date":"2013-09-10 02:49:12.819170","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"This will add an extra \",\" at the beginning of the string. The if-else statement is trying to avoid that.\n\nOn 2013/09/10 00:30:20, xhwang wrote:\n> Will containerCodecMap.get() work if the key is not in the map? If so we can\n> always call:\n> \n> String existingCodecs = containerCodecMap.get(supportedTypes[j]);\n> containerCodecMap.put(supportedTypes[j], existingCodecs + \",\n>                       \" + codecString);\n> \n> and drop the \"else\" block on line 158. If supportedTypes[j] is not in the map,\n> existingCodecs will be empty, so this code should still work.\n\n","draft":false,"lineno":156,"date":"2013-09-10 02:49:12.819530","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"All container types(ArrayList, Hashmap\uff0c etc) is a java object, so native side don't have a way to read the individual element. To parse a container object, native need to call jni function to first get the size of the java container object, and then use jni calls to get each element of it. Array, on the other hand, let the native side to access each elemen.\nThe function is pretty short, and the code is not being reused by others. I would rather leave it in the current state.\n\n\nOn 2013/09/10 00:30:20, xhwang wrote:\n> Newbie question: Is ArrayList and toArray the only way we can pass a list to the\n> native side? It seems that this can be wrapped into a static function.\n\n","draft":false,"lineno":167,"date":"2013-09-10 02:49:12.819860","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"On 2013/09/10 02:49:12, qinmin wrote:\n> This will add an extra \",\" at the beginning of the string. The if-else statement\n> is trying to avoid that.\n> \n> On 2013/09/10 00:30:20, xhwang wrote:\n> > Will containerCodecMap.get() work if the key is not in the map? If so we can\n> > always call:\n> > \n> > String existingCodecs = containerCodecMap.get(supportedTypes[j]);\n> > containerCodecMap.put(supportedTypes[j], existingCodecs + \",\n> >                       \" + codecString);\n> > \n> > and drop the \"else\" block on line 158. If supportedTypes[j] is not in the map,\n> > existingCodecs will be empty, so this code should still work.\n> \n\nHmm, can we always append the \",\" after the codec name? e.g.\n\nString existingCodecs = containerCodecMap.get(supportedTypes[j]);\ncontainerCodecMap.put(supportedTypes[j], existingCodecs + codecString + \",\");\n\nThen when we copy the list into the array, we always strip the last char?","draft":false,"lineno":156,"date":"2013-09-10 16:00:58.855870","left":false}],"id":4001,"is_binary":false}},"owner_email":"qinmin@chromium.org","owner":"qinmin","message":" ","try_job_results":[],"created":"2013-09-09 17:25:25.354300","url":null,"num_comments":22,"modified":"2013-09-10 16:00:58.932610","patchset":3001,"issue":23549021}