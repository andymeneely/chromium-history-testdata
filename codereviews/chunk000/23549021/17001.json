{"files":{"media/base/android/media_codec_bridge.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":13,"num_removed":0,"messages":[],"id":18003,"is_binary":false},"media/base/android/media_codec_bridge.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":27,"num_removed":1,"messages":[],"id":18002,"is_binary":false},"media/base/android/java/src/org/chromium/media/MediaCodecBridge.java":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":104,"num_removed":5,"messages":[{"author":"xhwang","author_email":"xhwang@chromium.org","text":"I am confused here, we are supposed to get a container-codec pair list. But it seems supportedTypes[j] is also a codec type (based on the list on 192. \n\nActually MediaCodec doesn't care about container type (e.g. mp4 or webm). Only Demuxer and MediaDrm cares about container. Demuxer needs to know the container type to be able to parse it correctly. MediaDrm needs to support the initdata which is container type specific. So in our case, it seems that container type and codec type are orthogonal: we can get a list of codec separately and then just multiply it with the container type we support.","draft":false,"lineno":177,"date":"2013-09-11 00:29:23.412680","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"s/containerType/codecType/\n\navc, vorbis etc are all codec names.","draft":false,"lineno":191,"date":"2013-09-11 00:29:23.412980","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"This function is kind of the reverse of https://code.google.com/p/chromium/codesearch#chromium/src/media/base/android/media_codec_bridge.cc&sq=package:chromium&l=55\n\nIt'll be nice to have both functions in the same layer (native or java), and have a static map that we can use to do the conversion. But that can be done in a separate CL.","draft":false,"lineno":191,"date":"2013-09-11 00:29:23.413200","left":false},{"author":"xhwang","author_email":"xhwang@chromium.org","text":"4 space indent","draft":false,"lineno":213,"date":"2013-09-11 00:29:23.413450","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"Just return mime types and secure decoder information to the native side.\nAnd added 2 calls in native to map mime to container type and codecs.\n\nOn 2013/09/11 00:29:23, xhwang wrote:\n> I am confused here, we are supposed to get a container-codec pair list. But it\n> seems supportedTypes[j] is also a codec type (based on the list on 192. \n> \n> Actually MediaCodec doesn't care about container type (e.g. mp4 or webm). Only\n> Demuxer and MediaDrm cares about container. Demuxer needs to know the container\n> type to be able to parse it correctly. MediaDrm needs to support the initdata\n> which is container type specific. So in our case, it seems that container type\n> and codec type are orthogonal: we can get a list of codec separately and then\n> just multiply it with the container type we support.\n\n","draft":false,"lineno":177,"date":"2013-09-11 02:20:14.126940","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"this function is moved to native and renamed.\nOn 2013/09/11 00:29:23, xhwang wrote:\n> s/containerType/codecType/\n> \n> avc, vorbis etc are all codec names.\n\n","draft":false,"lineno":191,"date":"2013-09-11 02:20:14.127230","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"to be consistent, moved this to native side.\nOn 2013/09/11 00:29:23, xhwang wrote:\n> This function is kind of the reverse of\n> https://code.google.com/p/chromium/codesearch#chromium/src/media/base/android/media_codec_bridge.cc&sq=package:chromium&l=55\n> \n> It'll be nice to have both functions in the same layer (native or java), and\n> have a static map that we can use to do the conversion. But that can be done in\n> a separate CL.\n\n","draft":false,"lineno":191,"date":"2013-09-11 02:20:14.127430","left":false},{"author":"qinmin","author_email":"qinmin@chromium.org","text":"On 2013/09/11 00:29:23, xhwang wrote:\n> 4 space indent\n\nDone.","draft":false,"lineno":213,"date":"2013-09-11 02:20:14.127600","left":false}],"id":18001,"is_binary":false}},"owner_email":"qinmin@chromium.org","owner":"qinmin","message":"hardcode codecs from container types","try_job_results":[],"created":"2013-09-10 23:49:55.403620","url":null,"num_comments":8,"modified":"2013-09-11 02:20:14.175410","patchset":17001,"issue":23549021}