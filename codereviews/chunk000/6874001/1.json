{"files":{"chrome/browser/sync/glue/theme_change_processor.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":92,"messages":[{"author":"Nicolas Zea","author_email":"zea@chromium.org","text":"Hurray!","draft":false,"lineno":34,"date":"2011-04-15 04:47:26.355664","left":false}],"id":5,"is_binary":false},"chrome/browser/themes/theme_service.cc":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":13,"num_removed":6,"messages":[],"id":6,"is_binary":false},"chrome/browser/themes/theme_service.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":3,"messages":[],"id":7,"is_binary":false},"chrome/browser/extensions/theme_installed_infobar_delegate.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":2,"messages":[],"id":4,"is_binary":false},"content/common/notification_type.h":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":5,"messages":[{"author":"Antony Sargent","author_email":"asargent@chromium.org","text":"Out of curiousity, why'd you remove the Extension* details? Is it because you don't want the abiguity about NULL either meaning \"no theme\" or \"gtk native theme\"?\n\nIt looks like there's at least one place in this CL where the listener for this notification has to turn around and ask the theme service for the theme id, and I can see possible future scenarios where code would want to get a handle to the Extension too (I might need to do this in the management API, for instance). \n","draft":false,"lineno":264,"date":"2011-04-15 19:03:29.304484","left":false},{"author":"akalin","author_email":"akalin@chromium.org","text":"On 2011/04/15 19:03:29, Antony Sargent wrote:\n> Out of curiousity, why'd you remove the Extension* details? Is it because you\n> don't want the abiguity about NULL either meaning \"no theme\" or \"gtk native\n> theme\"?\n>\n> It looks like there's at least one place in this CL where the listener for this\n> notification has to turn around and ask the theme service for the theme id, and\n> I can see possible future scenarios where code would want to get a handle to the\n> Extension too (I might need to do this in the management API, for instance). \n\nWell, that's part of it.  I was the one that originally added the Extension* details to the notification, and that was to work around the problem this CL solves w.r.t. listeners to BROWSER_THEME_CHANGED not being able to query the extension service for the theme (since it's installed but not loaded yet).  Thinking about it, that wasn't a very good solution.  Ideally, stuff that deals with themes notifications shouldn't have to know that themes are implemented as extensions, just that they're identified by IDs.  Even more ideally, the ID would be different for default vs. native.  If that were the case, and if transporting the ID via notification weren't a pain, I would have added the ID as the notification details.\n\nI think I removed the one place where themes were treated differently by the extension service (THEME_INSTALLED vs. EXTENSION_INSTALLED).  So shouldn't stuff that listens to extension notifications (like the management API) automatically handle themes, and thus have no need to listen to BROWSER_THEME_CHANGED?","draft":false,"lineno":264,"date":"2011-04-15 19:31:50.931037","left":false}],"id":10,"is_binary":false},"chrome/browser/extensions/extension_service.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":13,"messages":[],"id":2,"is_binary":false},"chrome/browser/ui/gtk/gtk_theme_service.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":4,"messages":[],"id":8,"is_binary":false},"chrome/browser/extensions/extension_service_unittest.cc":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":3,"messages":[],"id":3,"is_binary":false},"chrome/browser/ui/gtk/gtk_theme_service.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":9,"is_binary":false}},"owner_email":"akalin@chromium.org","owner":"akalin","message":null,"try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_sync&number=1859","timestamp":"2011-04-15 21:19:13.776930","builder":"linux_sync","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYkcejAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjZNgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win_sync&number=1607","timestamp":"2011-04-15 21:19:13.776930","builder":"win_sync","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYkcejAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjaNgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac_sync&number=1608","timestamp":"2011-04-15 21:19:13.776930","builder":"mac_sync","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYkcejAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjbNgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win&number=26608","timestamp":"2011-04-15 21:19:13.776930","builder":"win","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYkcejAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjcNgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_clang&number=720","timestamp":"2011-04-15 21:19:13.776930","builder":"linux_clang","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYkcejAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjdNgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux&number=22050","timestamp":"2011-04-15 21:19:13.776930","builder":"linux","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYkcejAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjeNgw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac&number=22448","timestamp":"2011-04-15 21:19:13.776930","builder":"mac","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUYkcejAwwLEghQYXRjaFNldBgBDAsSDFRyeUpvYlJlc3VsdBjfNgw","requester":null,"buildnumber":null,"revision":null}],"created":"2011-04-15 04:20:05.981964","url":null,"num_comments":3,"modified":"2012-01-13 14:33:25.362549","patchset":1,"issue":6874001}