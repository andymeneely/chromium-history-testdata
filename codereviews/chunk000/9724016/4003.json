{"files":{"chrome/browser/sync/profile_sync_service.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":10,"messages":[],"id":16,"is_binary":false},"chrome/common/url_constants.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":25,"is_binary":false},"chrome/browser/extensions/app_notify_channel_ui.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":14,"is_binary":false},"chrome/browser/ui/browser.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":17,"is_binary":false},"chrome/browser/ui/webui/sync_setup_handler.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":15,"num_removed":7,"messages":[{"author":"James Hawkins","author_email":"jhawkins@chromium.org","text":"Document what false implies here.","draft":false,"lineno":703,"date":"2012-03-18 02:22:14.269505","left":false},{"author":"Andrew T Wilson","author_email":"atwilson@chromium.org","text":"On 2012/03/18 02:22:14, James Hawkins wrote:\n> Document what false implies here.\n\nDone.","draft":false,"lineno":703,"date":"2012-03-18 03:17:02.056045","left":false}],"id":22,"is_binary":false},"chrome/browser/ui/webui/sync_promo/sync_promo_handler.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[{"author":"James Hawkins","author_email":"jhawkins@chromium.org","text":"Document what true implies here.","draft":false,"lineno":228,"date":"2012-03-18 02:22:14.269371","left":false},{"author":"Andrew T Wilson","author_email":"atwilson@chromium.org","text":"On 2012/03/18 02:22:14, James Hawkins wrote:\n> Document what true implies here.\nDone.","draft":false,"lineno":228,"date":"2012-03-18 03:17:02.055913","left":false}],"id":20,"is_binary":false},"chrome/browser/ui/webui/signin/login_ui_service.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":3,"messages":[],"id":18,"is_binary":false},"chrome/browser/ui/webui/signin/login_ui_service.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":2,"messages":[{"author":"James Hawkins","author_email":"jhawkins@chromium.org","text":"I think we're reaching a fragile state with this method, but I don't have an idea for how to fix it.  fwiw the fragility has to do with the 'Does X if Y; otherwise Z' nature of this method.  With |force_login| the logic becomes more complicated.","draft":false,"lineno":48,"date":"2012-03-18 02:22:14.269227","left":false},{"author":"Andrew T Wilson","author_email":"atwilson@chromium.org","text":"Sounds good to me. I'll add a TODO and follow up with you in email to figure out where we want to go with this.","draft":false,"lineno":48,"date":"2012-03-18 03:17:02.055748","left":false}],"id":19,"is_binary":false},"chrome/browser/resources/sync_setup_overlay.js":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":1,"messages":[{"author":"Dan Beam","author_email":"dbeam@chromium.org","text":"nit: ... only [use parentheses] where required by the syntax and semantics.\nhttp://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml#Parentheses","draft":false,"lineno":76,"date":"2012-03-18 21:55:44.076331","left":false},{"author":"Dan Beam","author_email":"dbeam@chromium.org","text":"we already serialize objects to JSON and decode them when doing the message passing so you're double serializing whenever you do this, additionally you could probably just pass a boolean and convert to object or array later if necessary","draft":false,"lineno":77,"date":"2012-03-18 21:55:44.076475","left":false},{"author":"Andrew T Wilson","author_email":"atwilson@chromium.org","text":"On 2012/03/18 21:55:44, Dan Beam wrote:\n> nit: ... only [use parentheses] where required by the syntax and semantics.\n> http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml#Parentheses\n\nDone.","draft":false,"lineno":76,"date":"2012-03-19 04:11:31.297256","left":false},{"author":"Andrew T Wilson","author_email":"atwilson@chromium.org","text":"On 2012/03/18 21:55:44, Dan Beam wrote:\n> we already serialize objects to JSON and decode them when doing the message\n> passing so you're double serializing whenever you do this, additionally you\n> could probably just pass a boolean and convert to object or array later if\n> necessary\n\nWhen I try to do this, like so:\n didShowPage: function() {                                                    \n      var forceLogin = document.location.hash == \"#forceLogin\";                  \n      var result = {'forceLogin': forceLogin};                                   \n      chrome.send('SyncSetupAttachHandler', [result]);                           \n    },     \n\nI hit a DCHECK down in the webkit/glue code trying to marshal the parameters up to chromium:\n\n[28631:-1610357440:383651369584481:FATAL:cpp_variant.cc(245)] Check failed: fals\\\ne.                                                                               \nBacktrace:                                                                       \n        0   Chromium Framework                  0x06ce401f base::debug::StackTra\\\nce::StackTrace() + 63                                                            \n        1   Chromium Framework                  0x06ce3fbb base::debug::StackTra\\\nce::StackTrace() + 43                                                            \n        2   Chromium Framework                  0x06d337cc logging::LogMessage::\\\n~LogMessage() + 76                                                               \n        3   Chromium Framework                  0x06d322cb logging::LogMessage::\\\n~LogMessage() + 43                                                               \n        4   Chromium Framework                  0x073b2391 CppVariant::ToVector(\\\n) const + 1185                                                                   \n        5   Chromium Framework                  0x07eeced5 (anonymous namespace)\\\n::CreateValueFromCppVariant(CppVariant const&) + 325                             \n        6   Chromium Framework                  0x07eecf40 (anonymous namespace)\\\n::CreateValueFromCppVariant(CppVariant const&) + 432                             \n        7   Chromium Framework                  0x07eec905 WebUIBindings::Send(s\\\ntd::vector<CppVariant, std::allocator<CppVariant> > const&, CppVariant*) + 357   \n        8   Chromium Framework                  0x07eef18e base::internal::Runna\\\nbleAdapter<void (WebUIBindings::*)(std::vector<CppVariant, std::allocator<CppVar\\\niant> > const&, CppVariant*)>::Run(WebUIBindings*, std::vector<CppVariant, std::\\\nallocator<CppVariant> > const&, CppVariant* const&) + 190                        \n \nLooks like cpp_variant.cc expects the passed param to have a \"length\" attribute, and when it doesn't it hits NOTREACHED. Is there something different I have to do here?","draft":false,"lineno":77,"date":"2012-03-19 04:11:31.297404","left":false}],"id":15,"is_binary":false},"chrome/browser/ui/webui/sync_setup_handler.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":2,"messages":[],"id":23,"is_binary":false},"chrome/browser/ui/webui/sync_setup_handler_unittest.cc":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":5,"num_removed":5,"messages":[],"id":24,"is_binary":false},"chrome/browser/ui/webui/sync_setup_browsertest.js":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":21,"is_binary":false},"chrome/common/url_constants.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":26,"is_binary":false}},"owner_email":"atwilson@chromium.org","owner":"Andrew T Wilson","message":"Fixed test.","try_job_results":[{"parent_name":null,"tests":[],"slave":"vm303-m4","url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win_rel&number=11259","timestamp":"2012-03-17 22:15:48.836579","builder":"win_rel","clobber":null,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUY8MDRBAwLEghQYXRjaFNldBijHwwLEgxUcnlKb2JSZXN1bHQY9QcM","requester":null,"buildnumber":"11259","revision":"127368"},{"parent_name":null,"tests":[],"slave":"vm401-m4","url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_chromeos&number=4511","timestamp":"2012-03-17 21:44:49.234418","builder":"linux_chromeos","clobber":null,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIwCxIFSXNzdWUY8MDRBAwLEghQYXRjaFNldBijHwwLEgxUcnlKb2JSZXN1bHQY9i4M","requester":null,"buildnumber":"4511","revision":"127368"},{"parent_name":null,"tests":[],"slave":"vm392-m4","url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_rel&number=10038","timestamp":"2012-03-17 21:32:09.180135","builder":"linux_rel","clobber":null,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY8MDRBAwLEghQYXRjaFNldBijHwwLEgxUcnlKb2JSZXN1bHQYHAw","requester":null,"buildnumber":"10038","revision":"127368"},{"parent_name":null,"tests":[],"slave":"vm395-m4","url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=linux_clang&number=7985","timestamp":"2012-03-17 21:23:43.281776","builder":"linux_clang","clobber":null,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY8MDRBAwLEghQYXRjaFNldBijHwwLEgxUcnlKb2JSZXN1bHQYGww","requester":null,"buildnumber":"7985","revision":"127368"},{"parent_name":null,"tests":[],"slave":"mini9-m4","url":"http://build.chromium.org/p/tryserver.chromium/buildstatus?builder=mac_rel&number=10123","timestamp":"2012-03-17 21:05:20.698606","builder":"mac_rel","clobber":null,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIvCxIFSXNzdWUY8MDRBAwLEghQYXRjaFNldBijHwwLEgxUcnlKb2JSZXN1bHQYHQw","requester":null,"buildnumber":"10123","revision":"127368"}],"created":"2012-03-17 20:48:52.856754","url":null,"num_comments":10,"modified":"2012-03-19 04:11:31.323853","patchset":4003,"issue":9724016}