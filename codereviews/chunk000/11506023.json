{"description":"InstantExtended: support a new CLICKED_QUERY_SUGGESTION reason for show()\n\nCalling show(CLICKED_QUERY_SUGGESTION, '100%') will maximize the overlay and\ncommit it. This is necessary because otherwise, clicking on a query suggestion\nwhen the overlay is partially visible results in an uncommitted search page.\n\n\nTESTED=manual, per bug\nBUG=164447\n\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=172812","cc":["chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"reviewers":["jered@chromium.org","sky@chromium.org"],"messages":[{"sender":"samarth@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org","jered@chromium.org"],"text":"Please review.\n\nThanks,\nSamarth","disapproval":false,"date":"2012-12-11 05:26:58.993390","approval":false},{"sender":"jered@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org","jered@chromium.org"],"text":"https://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc\nFile chrome/browser/instant/instant_controller.cc (right):\n\nhttps://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc#newcode452\nchrome/browser/instant/instant_controller.cc:452: else if (type != INSTANT_COMMIT_NAVIGATED)\nDo you still want to call Submit() here?\n\nhttps://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc#newcode985\nchrome/browser/instant/instant_controller.cc:985: CommitIfPossible(INSTANT_COMMIT_CLICKED_QUERY_SUGGESTION);\nI still think this is weird. I'd prefer to use navigatecontentwindow() with no URL---it always shows at 100% height and commits, and all suggestions call it (just queries have no associated URLs).","disapproval":false,"date":"2012-12-11 16:43:47.992860","approval":false},{"sender":"jered@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"lgtm\n\nOn 2012/12/11 16:43:47, Jered wrote:\n> https://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc\n> File chrome/browser/instant/instant_controller.cc (right):\n> \n> https://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc#newcode452\n> chrome/browser/instant/instant_controller.cc:452: else if (type !=\n> INSTANT_COMMIT_NAVIGATED)\n> Do you still want to call Submit() here?\n> \n> https://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc#newcode985\n> chrome/browser/instant/instant_controller.cc:985:\n> CommitIfPossible(INSTANT_COMMIT_CLICKED_QUERY_SUGGESTION);\n> I still think this is weird. I'd prefer to use navigatecontentwindow() with no\n> URL---it always shows at 100% height and commits, and all suggestions call it\n> (just queries have no associated URLs).","disapproval":false,"date":"2012-12-11 20:02:47.097150","approval":true},{"sender":"samarth@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"sky: can you review for Instant?\n\nThanks!\nSamarth\n\n(ps: sorry for continuing to slam you with reviews; only a few more days :))\n\nhttps://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc\nFile chrome/browser/instant/instant_controller.cc (right):\n\nhttps://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc#newcode452\nchrome/browser/instant/instant_controller.cc:452: else if (type != INSTANT_COMMIT_NAVIGATED)\nOn 2012/12/11 16:43:48, Jered wrote:\n> Do you still want to call Submit() here?\n\nYes, actually the submit is needed here to commit the suggestion which was set using setValue().\n\nhttps://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc#newcode985\nchrome/browser/instant/instant_controller.cc:985: CommitIfPossible(INSTANT_COMMIT_CLICKED_QUERY_SUGGESTION);\nOn 2012/12/11 16:43:48, Jered wrote:\n> I still think this is weird. I'd prefer to use navigatecontentwindow() with no\n> URL---it always shows at 100% height and commits, and all suggestions call it\n> (just queries have no associated URLs).\n\nAs we discussed offline with Shishir and David, let's do this like so for now.  We should reconsider how committing works in general once we're paste the M25 branch point.","disapproval":false,"date":"2012-12-12 04:15:20.056440","approval":false},{"sender":"samarth@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"https://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc\nFile chrome/browser/instant/instant_controller.cc (right):\n\nhttps://codereview.chromium.org/11506023/diff/1/chrome/browser/instant/instant_controller.cc#newcode452\nchrome/browser/instant/instant_controller.cc:452: else if (type != INSTANT_COMMIT_NAVIGATED)\nOn 2012/12/12 04:15:20, samarth wrote:\n> On 2012/12/11 16:43:48, Jered wrote:\n> > Do you still want to call Submit() here?\n> \n> Yes, actually the submit is needed here to commit the suggestion which was set\n> using setValue().\n\nSorry, no, you're right -- we don't need an extra submit here.  Took it out.","disapproval":false,"date":"2012-12-12 04:47:58.145580","approval":false},{"sender":"sky@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"LGTM","disapproval":false,"date":"2012-12-12 17:10:43.570280","approval":true},{"sender":"commit-bot@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/samarth@chromium.org/11506023/12005","disapproval":false,"date":"2012-12-12 17:22:50.288560","approval":false},{"sender":"commit-bot@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"Retried try job too often on linux_chromeos for step(s) browser_tests","disapproval":false,"date":"2012-12-12 19:54:24.435040","approval":false},{"sender":"commit-bot@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/samarth@chromium.org/11506023/12005","disapproval":false,"date":"2012-12-12 20:20:35.432360","approval":false},{"sender":"commit-bot@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"Retried try job too often on linux_chromeos for step(s) browser_tests","disapproval":false,"date":"2012-12-12 23:07:01.576970","approval":false},{"sender":"commit-bot@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/samarth@chromium.org/11506023/12005","disapproval":false,"date":"2012-12-13 00:41:20.976510","approval":false},{"sender":"commit-bot@chromium.org","recipients":["samarth@chromium.org","jered@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","melevin@chromium.org","samarth@chromium.org","sreeram@chromium.org","gideonwald@chromium.org","dominich@chromium.org","aa@chromium.org","dcblack@chromium.org","darin-cc@chromium.org","chromium-apps-reviews@chromium.org"],"text":"Change committed as 172812","disapproval":false,"date":"2012-12-13 04:04:47.143570","approval":false}],"owner_email":"samarth@chromium.org","private":false,"base_url":"http://git.chromium.org/chromium/src.git@master","owner":"samarth","subject":"InstantExtended: support a new CLICKED_QUERY_SUGGESTION reason for show()","created":"2012-12-11 05:18:20.486050","patchsets":[1,7001,9003,11001,12005],"modified":"2012-12-13 04:04:47.543270","closed":true,"commit":false,"issue":11506023}