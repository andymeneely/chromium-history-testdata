{"description":"Fix WebstoreInlineInstaller ASAN bugs\n\nCertain code paths which called back onto a raw pointer to a\nWebstoreInlineInstaller could not guarantee the object's existence at\ncallback time.\n\nAdditional ref counts have been added to ensure that this is no longer the case.\n\nThis is a continuation of the reverted https://codereview.chromium.org/24839002/\ndue to a previously missed test case.\n\nBUG=236513, 241431, 241432, 247774, 263004\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=228522","cc":["chromium-reviews@chromium.org","chromium-apps-reviews@chromium.org","extensions-reviews@chromium.org"],"reviewers":["asargent@chromium.org"],"messages":[{"sender":"rockot@chromium.org","recipients":["rockot@chromium.org","asargent@chromium.org","chromium-reviews@chromium.org","chromium-apps-reviews@chromium.org","extensions-reviews@chromium.org"],"text":"Old CL was reverted, missed an ASAN test case before. Fixed here. PTAL","disapproval":false,"date":"2013-10-14 17:13:46.182900","approval":false},{"sender":"asargent@chromium.org","recipients":["rockot@chromium.org","asargent@chromium.org","chromium-reviews@chromium.org","chromium-apps-reviews@chromium.org","extensions-reviews@chromium.org"],"text":"Can you highlight (via a comment or something) what's different from the previous CL?","disapproval":false,"date":"2013-10-14 17:36:16.519690","approval":false},{"sender":"rockot@chromium.org","recipients":["rockot@chromium.org","asargent@chromium.org","chromium-reviews@chromium.org","chromium-apps-reviews@chromium.org","extensions-reviews@chromium.org"],"text":"One change:\n\nhttps://codereview.chromium.org/27034008/diff/1/chrome/browser/extensions/webstore_standalone_installer.cc\nFile chrome/browser/extensions/webstore_standalone_installer.cc (right):\n\nhttps://codereview.chromium.org/27034008/diff/1/chrome/browser/extensions/webstore_standalone_installer.cc#newcode196\nchrome/browser/extensions/webstore_standalone_installer.cc:196: AddRef();\nThis was added to address the case where the install prompt is skipped but the code otherwise follows the same path that ShowInstallUI would follow if it successfully created a UI\n\nNote that ShowInstallUI is not guaranteed to succeed, so it would be incorrect to factor the AddRef out into OnWebstoreParseSuccess. :|","disapproval":false,"date":"2013-10-14 17:41:56.852720","approval":false},{"sender":"asargent@chromium.org","recipients":["rockot@chromium.org","asargent@chromium.org","chromium-reviews@chromium.org","chromium-apps-reviews@chromium.org","extensions-reviews@chromium.org"],"text":"Thanks, lgtm.","disapproval":false,"date":"2013-10-14 17:50:23.417320","approval":true},{"sender":"commit-bot@chromium.org","recipients":["rockot@chromium.org","asargent@chromium.org","chromium-reviews@chromium.org","chromium-apps-reviews@chromium.org","extensions-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/rockot@chromium.org/27034008/1","disapproval":false,"date":"2013-10-14 18:02:53.763280","approval":false},{"sender":"commit-bot@chromium.org","recipients":["rockot@chromium.org","asargent@chromium.org","chromium-reviews@chromium.org","chromium-apps-reviews@chromium.org","extensions-reviews@chromium.org"],"text":"Change committed as 228522","disapproval":false,"date":"2013-10-14 20:44:59.793160","approval":false}],"owner_email":"rockot@chromium.org","private":false,"base_url":"https://chromium.googlesource.com/chromium/src.git@master","owner":"Ken Rockot","subject":"Fix WebstoreInlineInstaller ASAN bugs","created":"2013-10-12 00:07:00.189930","patchsets":[1],"modified":"2013-10-14 20:44:59.965460","closed":true,"commit":false,"issue":27034008}