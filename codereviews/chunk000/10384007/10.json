{"files":{"chrome/browser/ui/views/autocomplete/autocomplete_result_view.cc":{"status":"M","num_chunks":7,"no_base_file":false,"property_changes":"","num_added":30,"num_removed":24,"messages":[],"id":1011,"is_binary":false},"chrome/browser/ui/views/autocomplete/touch_autocomplete_popup_contents_view.cc":{"status":"M","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":47,"num_removed":35,"messages":[{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"It's not safe to use hardcoded colors because everything else in the omnibox uses shades of system colors.\n\nYou can try to adjust these based on the background color but it's going to be tricky to make this look right.  Perhaps you want to use some of the predefined system colors for 3D objects?\n\nNit: Define these in the function that uses them and use SkColorSetRGB().","draft":false,"lineno":18,"date":"2012-05-04 23:33:31.201671","left":false},{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Nit: if (match.description.empty()) { ... } else { ... }\n\nThis avoids the temp and shortens this stuff a bit","draft":false,"lineno":51,"date":"2012-05-04 23:33:31.201865","left":false},{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Don't we need to do this all the time, not just when there's a description?  Otherwise won't the icon paint in the top half of the box when we have a single centered line?","draft":false,"lineno":71,"date":"2012-05-04 23:33:31.202087","left":false},{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Nit: The linebreak makes it look as if you're dividing by \"2 + x\" rather than dividing by 2, then adding.  Break/indent differently?","draft":false,"lineno":74,"date":"2012-05-04 23:33:31.202290","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> It's not safe to use hardcoded colors because everything else in the omnibox\n> uses shades of system colors.\n> \n> You can try to adjust these based on the background color but it's going to be\n> tricky to make this look right.  Perhaps you want to use some of the predefined\n> system colors for 3D objects?\n> \n> Nit: Define these in the function that uses them and use SkColorSetRGB().\n\nGood point, will look into using the system colors.","draft":false,"lineno":18,"date":"2012-05-04 23:52:19.858366","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Don't we need to do this all the time, not just when there's a description? \n> Otherwise won't the icon paint in the top half of the box when we have a single\n> centered line?\n\nThe default case is that it's centered on the whole results item, i.e. centered on GetContentBounds().","draft":false,"lineno":71,"date":"2012-05-04 23:52:19.858566","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> It's not safe to use hardcoded colors because everything else in the omnibox\n> uses shades of system colors.\n> \n> You can try to adjust these based on the background color but it's going to be\n> tricky to make this look right.  Perhaps you want to use some of the predefined\n> system colors for 3D objects?\n> \n> Nit: Define these in the function that uses them and use SkColorSetRGB().\n\nI've switched to using system colors, am waiting to hear from sgabriel@ on which colors to use on Windows, and which hard-coded values to use on Aura.","draft":false,"lineno":18,"date":"2012-05-07 16:26:18.886009","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: if (match.description.empty()) { ... } else { ... }\n> \n> This avoids the temp and shortens this stuff a bit\n\nDone.","draft":false,"lineno":51,"date":"2012-05-07 16:26:18.886215","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Don't we need to do this all the time, not just when there's a description? \n> Otherwise won't the icon paint in the top half of the box when we have a single\n> centered line?\n\nAdded to the comment to explain why we don't need to do anything in the two-line case.","draft":false,"lineno":71,"date":"2012-05-07 16:26:18.886410","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: The linebreak makes it look as if you're dividing by \"2 + x\" rather than\n> dividing by 2, then adding.  Break/indent differently?\n\nDone.","draft":false,"lineno":74,"date":"2012-05-07 16:26:18.886609","left":false}],"id":1013,"is_binary":false},"chrome/browser/ui/views/autocomplete/touch_autocomplete_popup_contents_view.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":2,"messages":[{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Nit: I tend to prefer avoiding using statements, and I think they may be banned entirely in headers anyway.  (Plus it doesn't look like you actually need this in the .cc file?)","draft":false,"lineno":31,"date":"2012-05-04 23:33:31.202483","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: I tend to prefer avoiding using statements, and I think they may be banned\n> entirely in headers anyway.  (Plus it doesn't look like you actually need this\n> in the .cc file?)\n\nThis one is just to make the method public in this subclass instead of protected as it is in the base.\n\nThere are two other alternatives, I felt this one was neatest.  The others are:\n\na) Add a [ friend class TouchAutocompletePopupContentsView ] declaration.  This exposes more of the object than necessary;\n\nb) Spell out what the using clause does, i.e. add a method like\n\nAutocompleteResultView::ResultViewState GetState() {\n  return AutocompleteResultView::GetState();\n}\n\nwhich I'm pretty sure is semantically identical to the using statement, just more statements of code and more work to maintain (when the function signature changes).\n\nWe've been using this type of using statement in several places in the code where subclasses (especially but I think not exclusively testing subclasses) need to change the access to some members.","draft":false,"lineno":31,"date":"2012-05-04 23:52:19.858792","left":false}],"id":1014,"is_binary":false},"chrome/browser/ui/views/omnibox/omnibox_view_win.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":3,"messages":[],"id":1016,"is_binary":false},"chrome/browser/ui/views/autocomplete/autocomplete_popup_contents_view.cc":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":29,"num_removed":0,"messages":[{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Nit: I think this goes below the next #include?","draft":false,"lineno":26,"date":"2012-05-04 23:33:31.200814","left":false},{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Nit: Indent 4","draft":false,"lineno":83,"date":"2012-05-04 23:33:31.201045","left":false},{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Nit: Use if/else rather than switch","draft":false,"lineno":89,"date":"2012-05-04 23:33:31.201266","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: I think this goes below the next #include?\n\nFixed here and checked other files to be sure there were no other instances of this.","draft":false,"lineno":26,"date":"2012-05-07 16:26:18.885140","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: Indent 4\n\nDone.","draft":false,"lineno":83,"date":"2012-05-07 16:26:18.885353","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: Use if/else rather than switch\n\nDone.","draft":false,"lineno":89,"date":"2012-05-07 16:26:18.885562","left":false}],"id":1009,"is_binary":false},"chrome/browser/ui/views/autocomplete/autocomplete_result_view.h":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":13,"num_removed":1,"messages":[{"author":"Peter Kasting","author_email":"pkasting@chromium.org","text":"Nit: The Google style guide says to use overrideable accessors or else setters rather than exposing data members to subclasses directly.","draft":false,"lineno":92,"date":"2012-05-04 23:33:31.201474","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: The Google style guide says to use overrideable accessors or else setters\n> rather than exposing data members to subclasses directly.\n\nWanted to avoid the virtual methods since these get accessed a lot.  I guess I'll make these private and add protected setters to comply with that bit of the style guide.","draft":false,"lineno":92,"date":"2012-05-04 23:52:19.858136","left":false},{"author":"J\u00f3i","author_email":"joi@chromium.org","text":"On 2012/05/04 23:33:31, Peter Kasting wrote:\n> Nit: The Google style guide says to use overrideable accessors or else setters\n> rather than exposing data members to subclasses directly.\n\nDone.","draft":false,"lineno":92,"date":"2012-05-07 16:26:18.885800","left":false}],"id":1012,"is_binary":false},"chrome/browser/ui/views/autocomplete/autocomplete_popup_contents_view.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":11,"num_removed":0,"messages":[],"id":1010,"is_binary":false},"chrome/browser/ui/views/omnibox/omnibox_view_views.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":1015,"is_binary":false}},"owner_email":"joi@chromium.org","owner":"J\u00f3i","message":".","try_job_results":[],"created":"2012-05-04 17:19:35.183120","url":null,"num_comments":21,"modified":"2012-05-07 16:26:19.072284","patchset":10,"issue":10384007}