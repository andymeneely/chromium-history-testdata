{"description":"Block printing from blocked popup. \nAdds a check in the window.print call to make window.print fail if called from a blocked popup.\nCreates a new notification sent by BlockedContentTabHelper to let other parts of the code know about the state of blocked content.\nBased off of https://chromiumcodereview.appspot.com/9762004.\nAlso adds handling to print_preview_tab_controller.cc to mark preview as done if the creation of the print preview ui fails.\n\n\nBUG=117955\nTEST=Open test page attached to bug 117955. Allow the blocked popup. Ctrl-P should work normally.\nR=thestig@chromium.org\n\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=128349","cc":["chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"reviewers":["thestig@chromium.org","ben@chromium.org","pkasting@chromium.org","sky@chromium.org"],"messages":[{"sender":"abodenha@chromium.org","recipients":["abodenha@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"text":"","disapproval":false,"date":"2012-03-21 17:54:20.964558","approval":false},{"sender":"thestig@chromium.org","recipients":["abodenha@chromium.org","thestig@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"text":"LGTM with one nit below:\n\nhttps://chromiumcodereview.appspot.com/9815014/diff/6001/chrome/renderer/print_web_view_helper.h\nFile chrome/renderer/print_web_view_helper.h (right):\n\nhttps://chromiumcodereview.appspot.com/9815014/diff/6001/chrome/renderer/print_web_view_helper.h#newcode476\nchrome/renderer/print_web_view_helper.h:476: FRIEND_TEST_ALL_PREFIXES(PrintWebViewHelperTest,\nnit: Put this near line 101-103. Friends stick together. ;)","disapproval":false,"date":"2012-03-22 00:05:54.694196","approval":true},{"sender":"abodenha@chromium.org","recipients":["abodenha@chromium.org","thestig@chromium.org","ben@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"text":"+Ben for owners approval for chrome/browser/ui/blocked_content/blocked_content_tab_helper.cc/h","disapproval":false,"date":"2012-03-22 00:44:31.590085","approval":false},{"sender":"abodenha@chromium.org","recipients":["abodenha@chromium.org","thestig@chromium.org","ben@chromium.org","pkasting@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"text":"+pkasting & sky\n\nHi guys,\n\nWould one of you mind taking a look at this?  Lei has already reviewed overall, but I need OWNERS signoff for the changes in chrome/browser/ui/blocked_content.\n\nThanks much.","disapproval":false,"date":"2012-03-22 21:19:17.852390","approval":false},{"sender":"sky@chromium.org","recipients":["abodenha@chromium.org","thestig@chromium.org","ben@chromium.org","pkasting@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"text":"LGTM","disapproval":false,"date":"2012-03-22 22:20:19.433813","approval":true},{"sender":"commit-bot@chromium.org","recipients":["abodenha@chromium.org","thestig@chromium.org","ben@chromium.org","pkasting@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/abodenha@chromium.org/9815014/10001","disapproval":false,"date":"2012-03-22 22:21:39.391215","approval":false},{"sender":"commit-bot@chromium.org","recipients":["abodenha@chromium.org","thestig@chromium.org","ben@chromium.org","pkasting@chromium.org","sky@chromium.org","chromium-reviews@chromium.org","joi+watch-content@chromium.org","darin-cc@chromium.org","jam@chromium.org","brettw-cc@chromium.org"],"text":"Change committed as 128349","disapproval":false,"date":"2012-03-23 00:03:33.088706","approval":false}],"owner_email":"abodenha@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Albert Bodenhamer","subject":"Block printing from blocked popup.","created":"2012-03-21 17:29:01.349916","patchsets":[1,6001,10001],"modified":"2012-03-23 00:03:33.176967","closed":true,"commit":false,"issue":9815014}