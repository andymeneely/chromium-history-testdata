{"description":"Replace JSON (de)serialization of extension messages with direct Value pickling.\n\nBUG=55316\nTBR=mpcomplete@chromium.org\n\nCommitted: https://src.chromium.org/viewvc/chrome?view=rev&revision=204067","cc":["chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"reviewers":["mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org"],"messages":[{"sender":"kalman@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"mpcomplete for everything\ncdn for extension_messages.h","disapproval":false,"date":"2013-05-30 22:08:34.059120","approval":false},{"sender":"mpcomplete@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"lgtm","disapproval":false,"date":"2013-05-30 23:06:03.867150","approval":true},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/kalman@chromium.org/16226004/11001","disapproval":false,"date":"2013-05-31 00:08:12.844840","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"Retried try job too often on win_rel for step(s) unit_tests\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win_rel&number=156119","disapproval":false,"date":"2013-05-31 03:53:10.836230","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/kalman@chromium.org/16226004/28001","disapproval":false,"date":"2013-05-31 05:35:28.316080","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"Retried try job too often on win_rel for step(s) unit_tests\nhttp://build.chromium.org/p/tryserver.chromium/buildstatus?builder=win_rel&number=156208","disapproval":false,"date":"2013-05-31 07:57:36.316950","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/kalman@chromium.org/16226004/24002","disapproval":false,"date":"2013-05-31 16:44:11.218760","approval":false},{"sender":"sergeyu@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"https://codereview.chromium.org/16226004/diff/24002/chrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc\nFile chrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc (right):\n\nhttps://codereview.chromium.org/16226004/diff/24002/chrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc#newcode199\nchrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc:199: base::FilePath temp_input_file = CreateTempFileWithMessage(std::string());\nThis writes a zero-size message to the input file. Previously NativeMessageProcessHost treated those messages as valid, but not anymore. It fails on windows only because async IO in net::FileStream works differently.","disapproval":false,"date":"2013-05-31 19:29:54.262850","approval":false},{"sender":"sergeyu@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"I unchecked commit bit - I think the problem is not Windows-specific and the test is likely to become flaky on Linux on Mac if you land it as is.","disapproval":false,"date":"2013-05-31 19:34:12.555060","approval":false},{"sender":"kalman@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"https://codereview.chromium.org/16226004/diff/24002/chrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc\nFile chrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc (right):\n\nhttps://codereview.chromium.org/16226004/diff/24002/chrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc#newcode199\nchrome/browser/extensions/api/messaging/native_message_process_host_unittest.cc:199: base::FilePath temp_input_file = CreateTempFileWithMessage(std::string());\nOn 2013/05/31 19:29:54, Sergey Ulanov wrote:\n> This writes a zero-size message to the input file. Previously\n> NativeMessageProcessHost treated those messages as valid, but not anymore. It\n> fails on windows only because async IO in net::FileStream works differently.\n\nDone.","disapproval":false,"date":"2013-05-31 19:51:59.697820","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/kalman@chromium.org/16226004/58001","disapproval":false,"date":"2013-05-31 19:52:13.833860","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"Change committed as 203489","disapproval":false,"date":"2013-05-31 21:52:59.203440","approval":false},{"sender":"commit-bot@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/kalman@chromium.org/16226004/77001","disapproval":false,"date":"2013-06-04 20:58:37.099860","approval":false},{"sender":"kalman@chromium.org","recipients":["kalman@chromium.org","mpcomplete@chromium.org","cdn@chromium.org","sergeyu@chromium.org","chromium-reviews@chromium.org","aa@chromium.org","chromium-apps-reviews@chromium.org"],"text":"Committed patchset #8 manually as r204067 (presubmit successful).","disapproval":false,"date":"2013-06-04 23:18:57.951010","approval":false}],"owner_email":"kalman@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"kalman","subject":"Replace JSON (de)serialization of extension messages with direct Value pickling.","created":"2013-05-30 22:01:41.883590","patchsets":[1,7001,11001,28001,44001,24002,58001,77001],"modified":"2013-06-04 23:18:58.155310","closed":true,"commit":false,"issue":16226004}