{"files":{"net/spdy/spdy_http_stream.cc":{"status":"M    ","num_chunks":5,"no_base_file":false,"property_changes":"","num_added":24,"num_removed":4,"messages":[],"id":6062,"is_binary":false},"net/http/http_stream_factory.h":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":113,"num_removed":0,"messages":[],"id":6053,"is_binary":false},"net/socket/client_socket_handle.h":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":0,"num_removed":13,"messages":[],"id":6061,"is_binary":false},"net/http/http_network_transaction.h":{"status":"M    ","num_chunks":13,"no_base_file":false,"property_changes":"","num_added":26,"num_removed":111,"messages":[],"id":6048,"is_binary":false},"net/spdy/spdy_stream.h":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":0,"messages":[],"id":6068,"is_binary":false},"net/spdy/spdy_http_stream.h":{"status":"M    ","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":15,"num_removed":2,"messages":[],"id":6063,"is_binary":false},"net/http/http_basic_stream.cc":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":21,"num_removed":0,"messages":[],"id":6042,"is_binary":false},"net/http/http_proxy_client_socket.h":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":1,"messages":[],"id":6050,"is_binary":false},"net/http/http_network_transaction_unittest.cc":{"status":"M    ","num_chunks":20,"no_base_file":false,"property_changes":"","num_added":41,"num_removed":40,"messages":[],"id":6049,"is_binary":false},"chrome/browser/browser_main.cc":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":3,"messages":[],"id":6040,"is_binary":false},"net/http/http_stream.h":{"status":"M    ","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":32,"num_removed":2,"messages":[],"id":6051,"is_binary":false},"net/http/http_network_layer.cc":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":10,"num_removed":10,"messages":[],"id":6044,"is_binary":false},"net/spdy/spdy_network_transaction_unittest.cc":{"status":"M    ","num_chunks":12,"no_base_file":false,"property_changes":"","num_added":23,"num_removed":24,"messages":[],"id":6064,"is_binary":false},"net/net.gyp":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":0,"messages":[],"id":6060,"is_binary":false},"net/http/http_stream_handle.h":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":103,"num_removed":0,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Nit: 2010","draft":false,"lineno":1,"date":"2010-08-18 17:23:58.116069","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"It doesn't seem like this class buys much over just having a scoped_ptr<ClientSocketHandle> and scoped_ptr<HttpStream> at the same location, but I'm assuming that you added it to simplify/dedup logic. ","draft":false,"lineno":19,"date":"2010-08-18 17:23:58.116280","left":false}],"id":6054,"is_binary":false},"net/spdy/spdy_session.h":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":6,"messages":[],"id":6066,"is_binary":false},"net/http/http_stream_request.h":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":204,"num_removed":0,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"session should be const-ref here (it's just used as argument for session_'s copy constructor)","draft":false,"lineno":33,"date":"2010-08-18 17:23:58.117510","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Nit: not necessary, but maybe prefix with virtual here to help indicate that these are part of the interface? ","draft":false,"lineno":37,"date":"2010-08-18 17:23:58.117697","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Nit: move State above request_info() etc.,","draft":false,"lineno":65,"date":"2010-08-18 17:23:58.117882","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Question: will this be a circular reference?","draft":false,"lineno":147,"date":"2010-08-18 17:23:58.118070","left":false}],"id":6058,"is_binary":false},"net/http/http_stream_parser.h":{"status":"M    ","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":12,"num_removed":0,"messages":[],"id":6056,"is_binary":false},"net/http/http_network_session.cc":{"status":"M    ","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":3,"num_removed":0,"messages":[],"id":6045,"is_binary":false},"net/http/http_basic_stream.h":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":10,"num_removed":0,"messages":[],"id":6043,"is_binary":false},"net/http/http_stream_parser.cc":{"status":"M    ","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":41,"num_removed":1,"messages":[],"id":6055,"is_binary":false},"net/http/http_stream_request.cc":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":893,"num_removed":0,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Should delegate_ be null'ed out in this case? For example, it's called in the HttpNetworkTransaction's destructor. It's preferable to get a segfault in that case than touching arbitrary memory.","draft":false,"lineno":102,"date":"2010-08-18 17:23:58.116477","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"These callbacks should guard for the case that the HttpStreamRequest was cancelled between when RunLoop was called and the IO thread processes the task associated with this callback.","draft":false,"lineno":180,"date":"2010-08-18 17:23:58.116673","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Should you be trying to use the alternate procotol in NPN_SPDY_1 case? We'll do the PAC lookup for https, and then just do a standard http request. ","draft":false,"lineno":349,"date":"2010-08-18 17:23:58.116857","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"I don't think we were doing this in the old code, but it might be worth retrying ResolveProxy with a non-alternate-endpoint-url_ if there was an error or an unsupported proxy scheme is found (as well as marking broken alternate protocol). I'm fine with leaving it as a TODO here.","draft":false,"lineno":376,"date":"2010-08-18 17:23:58.117115","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Nit: s/carefully/careful","draft":false,"lineno":581,"date":"2010-08-18 17:23:58.117314","left":false}],"id":6057,"is_binary":false},"net/http/stream_factory.h":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":148,"num_removed":0,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Do the RequestJob's need to be refcounted? It appears that there will only be one owner at a time (the HttpNetworkTransaction which generates it). Destroying it at the same time as the HttpNetworkTransaction is destroyed would remove the need for any cancelled_ logic in HttpStreamRequest.","draft":false,"lineno":70,"date":"2010-08-18 17:23:58.118269","left":false}],"id":6059,"is_binary":false},"net/spdy/spdy_stream.cc":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":0,"messages":[],"id":6067,"is_binary":false},"net/spdy/spdy_session.cc":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":11,"num_removed":0,"messages":[],"id":6065,"is_binary":false},"net/http/http_stream_factory.cc":{"status":"A    ","num_chunks":1,"no_base_file":false,"property_changes":"\nAdded: svn:eol-style\n   + LF\n","num_added":138,"num_removed":0,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"None of the net/spdy includes look necessary. Perhaps some of the other includes could also be purged.","draft":false,"lineno":15,"date":"2010-08-18 17:23:58.115879","left":false}],"id":6052,"is_binary":false},"net/http/http_network_transaction.cc":{"status":"M    ","num_chunks":36,"no_base_file":false,"property_changes":"","num_added":268,"num_removed":934,"messages":[{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"Is establishing_tunnel_ needed? Would non-NULL stream_request_ be sufficient here?","draft":false,"lineno":241,"date":"2010-08-18 17:23:58.115445","left":false},{"author":"cbentzel","author_email":"cbentzel@chromium.org","text":"The stream_.get() seems a little disconnected here. Should this be done at DoInitStreamComplete time instead?","draft":false,"lineno":623,"date":"2010-08-18 17:23:58.115684","left":false}],"id":6047,"is_binary":false},"net/http/http_network_session.h":{"status":"M    ","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":6,"num_removed":0,"messages":[],"id":6046,"is_binary":false},"net/http/http_auth_controller.cc":{"status":"M    ","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":6041,"is_binary":false}},"owner_email":"mbelshe@chromium.org","owner":"Mike Belshe","message":"''","try_job_results":[{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/buildbot/try-server/buildstatus?builder=linux&number=42839","timestamp":"2010-08-18 17:23:58.268930","builder":"linux","clobber":null,"project":null,"reason":null,"result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUYusXBAQwLEghQYXRjaFNldBj9ogQMCxIMVHJ5Sm9iUmVzdWx0GJ3mBQw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/buildbot/try-server/buildstatus?builder=linux_valgrind&number=1869","timestamp":"2010-08-18 17:23:58.268930","builder":"linux_valgrind","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUYusXBAQwLEghQYXRjaFNldBj9ogQMCxIMVHJ5Sm9iUmVzdWx0GJ7mBQw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/buildbot/try-server/buildstatus?builder=mac&number=42699","timestamp":"2010-08-18 17:23:58.268930","builder":"mac","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUYusXBAQwLEghQYXRjaFNldBj9ogQMCxIMVHJ5Sm9iUmVzdWx0GJ_mBQw","requester":null,"buildnumber":null,"revision":null},{"parent_name":null,"tests":[],"slave":null,"url":"http://build.chromium.org/buildbot/try-server/buildstatus?builder=win&number=45236","timestamp":"2010-08-18 17:23:58.268930","builder":"win","clobber":null,"project":null,"reason":null,"result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUYusXBAQwLEghQYXRjaFNldBj9ogQMCxIMVHJ5Sm9iUmVzdWx0GKDmBQw","requester":null,"buildnumber":null,"revision":null}],"created":"2010-08-17 23:41:03.928852","url":null,"num_comments":15,"modified":"2012-01-13 14:33:37.348902","patchset":70013,"issue":3171002}