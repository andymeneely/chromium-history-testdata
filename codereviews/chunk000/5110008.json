{"description":"Refactoring in RTP reader code: sequence number wrapping logic moved to \nRtpReader\n\nBUG=None\nTEST=Unittests\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=67212","cc":["chromium-reviews@chromium.org","sergeyu@chromium.org","dmaclach@chromium.org","ajwong@chromium.org","garykac@chromium.org","phajdan.jr@chromium.org"],"reviewers":["hclam@chromium.org","ajwong@chromium.org"],"messages":[{"sender":"sergeyu@chromium.org","recipients":["sergeyu@chromium.org","hclam@chromium.org","ajwong@chromium.org","chromium-reviews@chromium.org","hclam@chromium.org","sergeyu@chromium.org","dmaclach@chromium.org","ajwong@chromium.org","garykac@chromium.org","phajdan.jr@chromium.org"],"text":"","disapproval":false,"date":"2010-11-20 00:38:39.272693","approval":false},{"sender":"hclam@chromium.org","recipients":["sergeyu@chromium.org","hclam@chromium.org","ajwong@chromium.org","chromium-reviews@chromium.org","hclam@chromium.org","sergeyu@chromium.org","dmaclach@chromium.org","ajwong@chromium.org","garykac@chromium.org","phajdan.jr@chromium.org"],"text":"Mostly good with small style nits and one question.\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.cc\nFile remoting/protocol/rtp_reader.cc (right):\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.cc#newcode28\nremoting/protocol/rtp_reader.cc:28: RtpReader::~RtpReader() {\nempty. line before this line\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.h\nFile remoting/protocol/rtp_reader.h (right):\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.h#newcode45\nremoting/protocol/rtp_reader.h:45: // socket parses them, calculates extended sequence number and then\n, parses them,\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_video_reader_unittest.cc\nFile remoting/protocol/rtp_video_reader_unittest.cc (right):\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_video_reader_unittest.cc#newcode84\nremoting/protocol/rtp_video_reader_unittest.cc:84: header.padding = false;\nThese part of reseting values can be done using a memset or default constructor.\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_video_reader_unittest.cc#newcode112\nremoting/protocol/rtp_video_reader_unittest.cc:112: reader_->rtp_reader_.OnDataReceived(buffer, size);\nIs this method defined in this patch?","disapproval":false,"date":"2010-11-23 20:30:26.176846","approval":false},{"sender":"sergeyu@chromium.org","recipients":["sergeyu@chromium.org","hclam@chromium.org","ajwong@chromium.org","chromium-reviews@chromium.org","hclam@chromium.org","sergeyu@chromium.org","dmaclach@chromium.org","ajwong@chromium.org","garykac@chromium.org","phajdan.jr@chromium.org"],"text":"http://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.cc\nFile remoting/protocol/rtp_reader.cc (right):\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.cc#newcode28\nremoting/protocol/rtp_reader.cc:28: RtpReader::~RtpReader() {\nOn 2010/11/23 20:30:26, Alpha wrote:\n> empty. line before this line\n\nDone.\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.h\nFile remoting/protocol/rtp_reader.h (right):\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_reader.h#newcode45\nremoting/protocol/rtp_reader.h:45: // socket parses them, calculates extended sequence number and then\nOn 2010/11/23 20:30:26, Alpha wrote:\n> , parses them,\n\nDone.\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_video_reader_unittest.cc\nFile remoting/protocol/rtp_video_reader_unittest.cc (right):\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_video_reader_unittest.cc#newcode84\nremoting/protocol/rtp_video_reader_unittest.cc:84: header.padding = false;\nOn 2010/11/23 20:30:26, Alpha wrote:\n> These part of reseting values can be done using a memset or default constructor.\nAdded default constructor for RtpHeader and Vp8Descriptor.\n\nhttp://codereview.chromium.org/5110008/diff/7001/remoting/protocol/rtp_video_reader_unittest.cc#newcode112\nremoting/protocol/rtp_video_reader_unittest.cc:112: reader_->rtp_reader_.OnDataReceived(buffer, size);\nOn 2010/11/23 20:30:26, Alpha wrote:\n> Is this method defined in this patch?\nOnDataReceived() is already defined in RtpReader.. Here I just changed how the test passes packets to |reader_|: now it passes them unparsed to rtp_reader_, instead of calling OnRtpPacket.","disapproval":false,"date":"2010-11-23 22:53:08.121428","approval":false},{"sender":"hclam@chromium.org","recipients":["sergeyu@chromium.org","hclam@chromium.org","ajwong@chromium.org","chromium-reviews@chromium.org","sergeyu@chromium.org","dmaclach@chromium.org","ajwong@chromium.org","garykac@chromium.org","phajdan.jr@chromium.org"],"text":"LGTM.","disapproval":false,"date":"2010-11-24 03:54:07.309370","approval":true}],"owner_email":"sergeyu@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Sergey Ulanov","subject":"Refactoring in RTP reader code: sequence number wrapping logic moved to ","created":"2010-11-20 00:36:34.420878","patchsets":[1,2001,7001,13001,17001,19001],"modified":"2011-05-09 13:40:39.965484","closed":true,"commit":false,"issue":5110008}