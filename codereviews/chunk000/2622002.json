{"description":"Adding support for .mov.  We might have to remove this later if we find that too many are not h.264.\n\nBUG=none\nTEST=none\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=48985","cc":["chromium-reviews@chromium.org","ben+cc@chromium.org"],"reviewers":["zelidrag@chromium.org","arv@chromium.org"],"messages":[{"sender":"dhg@chromium.org","recipients":["dhg@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","arv@chromium.org","ben+cc@chromium.org"],"text":"","disapproval":false,"date":"2010-06-04 16:33:38.263636","approval":false},{"sender":"zelidrag@chromium.org","recipients":["dhg@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","arv@chromium.org","ben+cc@chromium.org"],"text":"LGTM","disapproval":false,"date":"2010-06-04 16:40:34.700386","approval":true},{"sender":"arv@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"Can you put this code into a single place?\n\nerik\n\n\n\nOn Fri, Jun 4, 2010 at 09:33,  <dhg@chromium.org> wrote:\n> Reviewers: zel,\n>\n> Description:\n> Adding support for .mov.  We might have to remove this later if we find that\n> too\n> many are not h.264.\n>\n> BUG=none\n> TEST=none\n>\n> Please review this at http://codereview.chromium.org/2622002/show\n>\n> SVN Base: svn://chrome-svn/chrome/trunk/src/\n>\n> Affected files:\n>  M     chrome/browser/resources/filebrowse.html\n>  M     chrome/browser/resources/mediaplayer.html\n>\n>\n> Index: chrome/browser/resources/filebrowse.html\n> ===================================================================\n> --- chrome/browser/resources/filebrowse.html    (revision 48749)\n> +++ chrome/browser/resources/filebrowse.html    (working copy)\n> @@ -718,7 +718,7 @@\n>  }\n>\n>  function pathIsVideoFile(path) {\n> -  return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n> +  return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n>  }\n>\n>  function pathIsAudioFile(path) {\n> Index: chrome/browser/resources/mediaplayer.html\n> ===================================================================\n> --- chrome/browser/resources/mediaplayer.html   (revision 48747)\n> +++ chrome/browser/resources/mediaplayer.html   (working copy)\n> @@ -283,7 +283,7 @@\n>  }\n>\n>  function pathIsVideoFile(path) {\n> -  return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n> +  return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n>  };\n>\n>  function pathIsAudioFile(path) {\n>\n>\n>\n","disapproval":false,"date":"2010-06-04 16:46:29.220930","approval":false},{"sender":"dhg@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"How?  As far as i knew there was no way to include .js.\n\nOn Fri, Jun 4, 2010 at 9:45 AM, Erik Arvidsson <arv@chromium.org> wrote:\n> Can you put this code into a single place?\n>\n> erik\n>\n>\n>\n> On Fri, Jun 4, 2010 at 09:33,  <dhg@chromium.org> wrote:\n>> Reviewers: zel,\n>>\n>> Description:\n>> Adding support for .mov.  We might have to remove this later if we find that\n>> too\n>> many are not h.264.\n>>\n>> BUG=none\n>> TEST=none\n>>\n>> Please review this at http://codereview.chromium.org/2622002/show\n>>\n>> SVN Base: svn://chrome-svn/chrome/trunk/src/\n>>\n>> Affected files:\n>>  M     chrome/browser/resources/filebrowse.html\n>>  M     chrome/browser/resources/mediaplayer.html\n>>\n>>\n>> Index: chrome/browser/resources/filebrowse.html\n>> ===================================================================\n>> --- chrome/browser/resources/filebrowse.html    (revision 48749)\n>> +++ chrome/browser/resources/filebrowse.html    (working copy)\n>> @@ -718,7 +718,7 @@\n>>  }\n>>\n>>  function pathIsVideoFile(path) {\n>> -  return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n>> +  return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n>>  }\n>>\n>>  function pathIsAudioFile(path) {\n>> Index: chrome/browser/resources/mediaplayer.html\n>> ===================================================================\n>> --- chrome/browser/resources/mediaplayer.html   (revision 48747)\n>> +++ chrome/browser/resources/mediaplayer.html   (working copy)\n>> @@ -283,7 +283,7 @@\n>>  }\n>>\n>>  function pathIsVideoFile(path) {\n>> -  return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n>> +  return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n>>  };\n>>\n>>  function pathIsAudioFile(path) {\n>>\n>>\n>>\n>\n","disapproval":false,"date":"2010-06-04 16:48:33.889764","approval":false},{"sender":"arv@chromium.org","recipients":["reply@chromiumcodereview.appspotmail.com"],"text":"Our build tools supports this. The flattenhtml=\"true\" in the grd files\ntells our build tools to inline js, css and images. All you need to do\nis:\n\n<script src=\"...\"></script>\n\nI see that you already have flattenhtml=\"true\" in the grd file for these two.\n\nThe inlining is implemented in tools/grit/grit/format/html_inline.py\n\nHTH,\n\nerik\n\n\n\nOn Fri, Jun 4, 2010 at 09:48, David Garcia <dhg@chromium.org> wrote:\n> How?  As far as i knew there was no way to include .js.\n>\n> On Fri, Jun 4, 2010 at 9:45 AM, Erik Arvidsson <arv@chromium.org> wrote:\n>> Can you put this code into a single place?\n>>\n>> erik\n>>\n>>\n>>\n>> On Fri, Jun 4, 2010 at 09:33,  <dhg@chromium.org> wrote:\n>>> Reviewers: zel,\n>>>\n>>> Description:\n>>> Adding support for .mov.  We might have to remove this later if we find that\n>>> too\n>>> many are not h.264.\n>>>\n>>> BUG=none\n>>> TEST=none\n>>>\n>>> Please review this at http://codereview.chromium.org/2622002/show\n>>>\n>>> SVN Base: svn://chrome-svn/chrome/trunk/src/\n>>>\n>>> Affected files:\n>>>  M     chrome/browser/resources/filebrowse.html\n>>>  M     chrome/browser/resources/mediaplayer.html\n>>>\n>>>\n>>> Index: chrome/browser/resources/filebrowse.html\n>>> ===================================================================\n>>> --- chrome/browser/resources/filebrowse.html    (revision 48749)\n>>> +++ chrome/browser/resources/filebrowse.html    (working copy)\n>>> @@ -718,7 +718,7 @@\n>>>  }\n>>>\n>>>  function pathIsVideoFile(path) {\n>>> -  return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n>>> +  return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n>>>  }\n>>>\n>>>  function pathIsAudioFile(path) {\n>>> Index: chrome/browser/resources/mediaplayer.html\n>>> ===================================================================\n>>> --- chrome/browser/resources/mediaplayer.html   (revision 48747)\n>>> +++ chrome/browser/resources/mediaplayer.html   (working copy)\n>>> @@ -283,7 +283,7 @@\n>>>  }\n>>>\n>>>  function pathIsVideoFile(path) {\n>>> -  return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n>>> +  return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n>>>  };\n>>>\n>>>  function pathIsAudioFile(path) {\n>>>\n>>>\n>>>\n>>\n>\n","disapproval":false,"date":"2010-06-04 17:24:30.204398","approval":false},{"sender":"dhg@chromium.org","recipients":["dhg@chromium.org","zelidrag@chromium.org","chromium-reviews@chromium.org","arv@chromium.org","ben+cc@chromium.org"],"text":"arv, take another look?  I moved out the functions into another file.\n\nI'll keep an eye out for other places where i can.\n\nOn 2010/06/04 17:24:30, arv wrote:\n> Our build tools supports this. The flattenhtml=\"true\" in the grd files\n> tells our build tools to inline js, css and images. All you need to do\n> is:\n> \n> <script src=\"...\"></script>\n> \n> I see that you already have flattenhtml=\"true\" in the grd file for these two.\n> \n> The inlining is implemented in tools/grit/grit/format/html_inline.py\n> \n> HTH,\n> \n> erik\n> \n> \n> \n> On Fri, Jun 4, 2010 at 09:48, David Garcia <mailto:dhg@chromium.org> wrote:\n> > How? &nbsp;As far as i knew there was no way to include .js.\n> >\n> > On Fri, Jun 4, 2010 at 9:45 AM, Erik Arvidsson <mailto:arv@chromium.org> wrote:\n> >> Can you put this code into a single place?\n> >>\n> >> erik\n> >>\n> >>\n> >>\n> >> On Fri, Jun 4, 2010 at 09:33, mailto: <dhg@chromium.org> wrote:\n> >>> Reviewers: zel,\n> >>>\n> >>> Description:\n> >>> Adding support for .mov. &nbsp;We might have to remove this later if we find that\n> >>> too\n> >>> many are not h.264.\n> >>>\n> >>> BUG=none\n> >>> TEST=none\n> >>>\n> >>> Please review this at http://codereview.chromium.org/2622002/show\n> >>>\n> >>> SVN Base: svn://chrome-svn/chrome/trunk/src/\n> >>>\n> >>> Affected files:\n> >>> &nbsp;M &nbsp; &nbsp; chrome/browser/resources/filebrowse.html\n> >>> &nbsp;M &nbsp; &nbsp; chrome/browser/resources/mediaplayer.html\n> >>>\n> >>>\n> >>> Index: chrome/browser/resources/filebrowse.html\n> >>> ===================================================================\n> >>> --- chrome/browser/resources/filebrowse.html &nbsp; &nbsp;(revision 48749)\n> >>> +++ chrome/browser/resources/filebrowse.html &nbsp; &nbsp;(working copy)\n> >>> @@ -718,7 +718,7 @@\n> >>> &nbsp;}\n> >>>\n> >>> &nbsp;function pathIsVideoFile(path) {\n> >>> - &nbsp;return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n> >>> + &nbsp;return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n> >>> &nbsp;}\n> >>>\n> >>> &nbsp;function pathIsAudioFile(path) {\n> >>> Index: chrome/browser/resources/mediaplayer.html\n> >>> ===================================================================\n> >>> --- chrome/browser/resources/mediaplayer.html &nbsp; (revision 48747)\n> >>> +++ chrome/browser/resources/mediaplayer.html &nbsp; (working copy)\n> >>> @@ -283,7 +283,7 @@\n> >>> &nbsp;}\n> >>>\n> >>> &nbsp;function pathIsVideoFile(path) {\n> >>> - &nbsp;return /\\.(mp4|ogg|mpg|avi)$/i.test(path);\n> >>> + &nbsp;return /\\.(mp4|ogg|mpg|avi|mov)$/i.test(path);\n> >>> &nbsp;};\n> >>>\n> >>> &nbsp;function pathIsAudioFile(path) {\n> >>>\n> >>>\n> >>>\n> >>\n> >\n>","disapproval":false,"date":"2010-06-04 18:12:15.812798","approval":false},{"sender":"arv@chromium.org","recipients":["dhg@chromium.org","zelidrag@chromium.org","arv@chromium.org","chromium-reviews@chromium.org","ben+cc@chromium.org"],"text":"LGTM with the grd file fixed.\n\nhttp://codereview.chromium.org/2622002/diff/2002/9001\nFile chrome/browser/browser_resources.grd (right):\n\nhttp://codereview.chromium.org/2622002/diff/2002/9001#newcode42\nchrome/browser/browser_resources.grd:42: <include name=\"IDR_MEDIA_COMMON_JS\" file=\"resources\\media_common.js\" type=\"BINDATA\" />\nno need to put these in here","disapproval":false,"date":"2010-06-04 18:22:21.523825","approval":true}],"owner_email":"dhg@chromium.org","private":false,"base_url":"svn://chrome-svn/chrome/trunk/src/","owner":"dhg","subject":"Adding support for .mov.  We might have to remove this later if we find that ...","created":"2010-06-04 16:33:07.725770","patchsets":[1,7001,2002,1003],"modified":"2011-05-09 13:19:37.998839","closed":true,"commit":false,"issue":2622002}