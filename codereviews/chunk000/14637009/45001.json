{"files":{"components/webdata/common/web_database_service.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":2,"messages":[],"id":46013,"is_binary":false},"android_webview/browser/aw_pref_store.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":75,"num_removed":0,"messages":[],"id":46005,"is_binary":false},"android_webview/browser/aw_pref_store.h":{"status":"A +","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":12,"num_removed":37,"messages":[],"id":46006,"is_binary":false},"components/autofill.gypi":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":2,"num_removed":0,"messages":[],"id":46012,"is_binary":false},"android_webview/native/aw_settings.h":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":46011,"is_binary":false},"android_webview/java/src/org/chromium/android_webview/AwSettings.java":{"status":"M","num_chunks":3,"no_base_file":false,"property_changes":"","num_added":31,"num_removed":0,"messages":[],"id":46007,"is_binary":false},"android_webview/android_webview.gyp":{"status":"M","num_chunks":2,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":0,"messages":[],"id":46001,"is_binary":false},"android_webview/native/aw_settings.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":16,"num_removed":0,"messages":[],"id":46010,"is_binary":false},"android_webview/native/aw_contents.cc":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":40,"num_removed":1,"messages":[{"author":"benm","author_email":"benm@chromium.org","text":"this asymmetry seems a bit funny. Could we only call InitAutoFill in SetWebContents if there's no AutofillManager (so don't check the value of save_form_data_ in SetWebContents). That way these will match and we'll always have an AutoFillManger created. (but see my other comment too)\n\nalong the same lines, must we create an autofill manager if enabled == false?\n\nif enabled == true\n - InitAutofill (if necessary)\nif enabled == false\n - if autofill manager == null, return\n - else delegate->SetSaceFormData(false)\n","draft":false,"lineno":164,"date":"2013-05-09 18:17:46.306580","left":false},{"author":"benm","author_email":"benm@chromium.org","text":"I think we could add a if (AutofillManager::FromWebContents(web_contents_.get()) return;\n\nhere, then we could unconditionally call InitAutoFill from both sites above (maybe rename this function InitAutoFillIfNecessary() )","draft":false,"lineno":172,"date":"2013-05-09 18:17:46.306770","left":false},{"author":"sgurun","author_email":"sgurun@chromium.org","text":"I thought you suggested lazy creation (which I like). I interpret this as \"create if enabled\". This is why we need to check for save_form_data_ before creating. \n\nI agree that we don't have to create the autofillmanager if it is not disabled and setsaveformdata(false) is called. However don't forget that you need to set the pref to true if enabled = true and autofill manager is already created.\n\nOne thing I would avoid is over-optimizing for the edge cases. I think readability is more important here, which I think what you are also aiming for.\n\nOn 2013/05/09 18:17:46, benm wrote:\n> this asymmetry seems a bit funny. Could we only call InitAutoFill in\n> SetWebContents if there's no AutofillManager (so don't check the value of\n> save_form_data_ in SetWebContents). That way these will match and we'll always\n> have an AutoFillManger created. (but see my other comment too)\n> \n> along the same lines, must we create an autofill manager if enabled == false?\n> \n> if enabled == true\n>  - InitAutofill (if necessary)\n> if enabled == false\n>  - if autofill manager == null, return\n>  - else delegate->SetSaceFormData(false)\n\n","draft":false,"lineno":164,"date":"2013-05-09 21:30:58.471070","left":false},{"author":"sgurun","author_email":"sgurun@chromium.org","text":"On 2013/05/09 18:17:46, benm wrote:\n> I think we could add a if (AutofillManager::FromWebContents(web_contents_.get())\n> return;\n> \n> here, then we could unconditionally call InitAutoFill from both sites above\n> (maybe rename this function InitAutoFillIfNecessary() )\n\nDone.","draft":false,"lineno":172,"date":"2013-05-09 21:30:58.471400","left":false}],"id":46008,"is_binary":false},"android_webview/native/aw_contents.h":{"status":"M","num_chunks":4,"no_base_file":false,"property_changes":"","num_added":7,"num_removed":0,"messages":[],"id":46009,"is_binary":false},"android_webview/browser/aw_autofill_manager_delegate.cc":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":123,"num_removed":0,"messages":[],"id":46003,"is_binary":false},"android_webview/browser/aw_autofill_manager_delegate.h":{"status":"A","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":84,"num_removed":0,"messages":[],"id":46004,"is_binary":false},"android_webview/browser/DEPS":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":1,"num_removed":0,"messages":[],"id":46002,"is_binary":false}},"owner_email":"sgurun@chromium.org","owner":"sgurun","message":"reflect the changes in the autofill_manager_delegate interface","try_job_results":[{"parent_name":null,"tests":[],"slave":"vm528-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/146206","timestamp":"2013-05-09 17:38:50.670038","builder":"win_rel","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJHFAww","requester":"sgurun@chromium.org","buildnumber":"146206","revision":"199223"},{"parent_name":null,"tests":[],"slave":"slave115-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_rel/builds/879","timestamp":"2013-05-09 17:38:41.149518","builder":"android_rel","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GKy9Aww","requester":"sgurun@chromium.org","buildnumber":"879","revision":"199223"},{"parent_name":null,"tests":[],"slave":"vm435-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_fyi_dbg/builds/2031","timestamp":"2013-05-09 17:35:37.940687","builder":"android_fyi_dbg","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GKu9Aww","requester":"sgurun@chromium.org","buildnumber":"2031","revision":"199223"},{"parent_name":null,"tests":[],"slave":"vm466-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg/builds/61858","timestamp":"2013-05-09 17:35:31.283248","builder":"android_dbg","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GKq9Aww","requester":"sgurun@chromium.org","buildnumber":"61858","revision":"199223"},{"parent_name":null,"tests":[],"slave":"vm437-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_clang_dbg/builds/42216","timestamp":"2013-05-09 17:35:13.527238","builder":"android_clang_dbg","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GKm9Aww","requester":"sgurun@chromium.org","buildnumber":"42216","revision":"199223"},{"parent_name":null,"tests":[],"slave":"vm731-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_rel/builds/126938","timestamp":"2013-05-09 17:34:53.264178","builder":"mac_rel","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GK29Aww","requester":"sgurun@chromium.org","buildnumber":"126938","revision":"199223"},{"parent_name":"android_dbg","tests":[],"slave":"chromeperf53","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg_triggered_tests/builds/52358","timestamp":"2013-05-09 00:38:30.762298","builder":"android_dbg_triggered_tests","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(android_dbg)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GKGWAww","requester":null,"buildnumber":"52358","revision":"198941"},{"parent_name":"android_fyi_dbg","tests":[],"slave":"chromeperf67","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_fyi_dbg_triggered_tests/builds/1560","timestamp":"2013-05-09 00:36:42.496493","builder":"android_fyi_dbg_triggered_tests","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(android_fyi_dbg)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GNGGAww","requester":null,"buildnumber":"1560","revision":"198941"},{"parent_name":"android_rel","tests":[],"slave":"chromeperf28","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_rel_triggered_tests/builds/674","timestamp":"2013-05-09 00:33:03.558510","builder":"android_rel_triggered_tests","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(android_rel)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GLmOAww","requester":null,"buildnumber":"674","revision":"198941"},{"parent_name":null,"tests":[],"slave":"vm518-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/145762","timestamp":"2013-05-08 23:53:47.756165","builder":"win_rel","clobber":false,"project":"Chromium Try Server","reason":"","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJ_vAgw","requester":"sgurun@chromium.org","buildnumber":"145762","revision":"198941"},{"parent_name":null,"tests":[],"slave":"vm709-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_rel/builds/126664","timestamp":"2013-05-08 22:25:12.297510","builder":"mac_rel","clobber":false,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJ7vAgw","requester":"sgurun@chromium.org","buildnumber":"126664","revision":"198941"},{"parent_name":null,"tests":[],"slave":"vm464-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg/builds/61490","timestamp":"2013-05-08 22:04:02.085440","builder":"android_dbg","clobber":false,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJrvAgw","requester":"sgurun@chromium.org","buildnumber":"61490","revision":"198941"},{"parent_name":null,"tests":[],"slave":"slave114-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_rel/builds/869","timestamp":"2013-05-08 21:46:20.577762","builder":"android_rel","clobber":false,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJzvAgw","requester":"sgurun@chromium.org","buildnumber":"869","revision":"198941"},{"parent_name":null,"tests":[],"slave":"vm453-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_fyi_dbg/builds/2025","timestamp":"2013-05-08 21:43:24.251770","builder":"android_fyi_dbg","clobber":false,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJvvAgw","requester":"sgurun@chromium.org","buildnumber":"2025","revision":"198941"},{"parent_name":null,"tests":[],"slave":"vm457-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_clang_dbg/builds/41973","timestamp":"2013-05-08 21:42:47.476323","builder":"android_clang_dbg","clobber":false,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJnvAgw","requester":"sgurun@chromium.org","buildnumber":"41973","revision":"198941"},{"parent_name":null,"tests":[],"slave":"vm754-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_clang/builds/105941","timestamp":"2013-05-08 21:37:35.118748","builder":"linux_clang","clobber":false,"project":"Chromium Try Server","reason":"","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnIyCxIFSXNzdWUY0a_9BgwLEghQYXRjaFNldBjJ3wIMCxIMVHJ5Sm9iUmVzdWx0GJ3vAgw","requester":"sgurun@chromium.org","buildnumber":"105941","revision":"198941"}],"created":"2013-05-08 21:20:35.196020","url":null,"num_comments":4,"modified":"2013-05-09 21:30:58.505800","patchset":45001,"issue":14637009}