{"files":{"chrome/browser/chromeos/fileapi/file_system_backend.cc":{"status":"M","num_chunks":1,"no_base_file":false,"property_changes":"","num_added":4,"num_removed":3,"messages":[{"author":"kinuko","author_email":"kinuko@chromium.org","text":"Hmm... this looks to be a very unfortunate change, I think at least we need a TODO comment here.\n\nHere's why: if cros backend's going to migrate to multiple filesystems this should return a root URL that includes mount-name path for the given fs type (like we do for syncfs).  It doesn't look correct to always assume kExternal type for all filesystem types either.\n\nSome more thoughts:\n- OpenFileSystem for non-sandboxed filesystems should be probably just deprecated as it has no points.  Existing callsites (there're three, [1]) should be revised either to use ResolveURL or to directly use GetFileSystemRootURI / GetExternalFileSystemRootURIString\n- When crbug.com/284963 is done ResolveURI should start to return the correct root URI which includes the mount name for isolated/external types (and the part must be able to be generalized so that we don't need to call per-backend OpenFileSystem for non-sandboxed filesystems just to get the rootURI & name)\n\n[1] https://code.google.com/p/chromium/codesearch#search/&q=%5C-%3EOpenFileSystem%20file:src/chrome/browser/chromeos/*&sq=package:chromium&type=cs","draft":false,"lineno":116,"date":"2013-09-23 23:57:34.900870","left":false},{"author":"satorux1","author_email":"satorux@chromium.org","text":"On 2013/09/23 23:57:34, kinuko wrote:\n> Hmm... this looks to be a very unfortunate change, I think at least we need a\n> TODO comment here.\n> \n> Here's why: if cros backend's going to migrate to multiple filesystems this\n> should return a root URL that includes mount-name path for the given fs type\n> (like we do for syncfs).  It doesn't look correct to always assume kExternal\n> type for all filesystem types either.\n> \n> Some more thoughts:\n> - OpenFileSystem for non-sandboxed filesystems should be probably just\n> deprecated as it has no points.  Existing callsites (there're three, [1]) should\n> be revised either to use ResolveURL or to directly use GetFileSystemRootURI /\n> GetExternalFileSystemRootURIString\n> - When crbug.com/284963 is done ResolveURI should start to return the correct\n> root URI which includes the mount name for isolated/external types (and the part\n> must be able to be generalized so that we don't need to call per-backend\n> OpenFileSystem for non-sandboxed filesystems just to get the rootURI & name)\n> \n> [1]\n> https://code.google.com/p/chromium/codesearch#search/&q=%255C-%253EOpenFileSystem%2520file:src/chrome/browser/chromeos/*&sq=package:chromium&type=cs\n\nAgreed. TODO comment is a crbug.com URL would be nice here.","draft":false,"lineno":116,"date":"2013-09-24 04:12:51.114520","left":false},{"author":"nhiroki","author_email":"nhiroki@chromium.org","text":"On 2013/09/24 04:12:51, satorux1 wrote:\n> On 2013/09/23 23:57:34, kinuko wrote:\n> > Hmm... this looks to be a very unfortunate change, I think at least we need a\n> > TODO comment here.\n> > \n> > Here's why: if cros backend's going to migrate to multiple filesystems this\n> > should return a root URL that includes mount-name path for the given fs type\n> > (like we do for syncfs).  It doesn't look correct to always assume kExternal\n> > type for all filesystem types either.\n> > \n> > Some more thoughts:\n> > - OpenFileSystem for non-sandboxed filesystems should be probably just\n> > deprecated as it has no points.  Existing callsites (there're three, [1])\n> should\n> > be revised either to use ResolveURL or to directly use GetFileSystemRootURI /\n> > GetExternalFileSystemRootURIString\n> > - When crbug.com/284963 is done ResolveURI should start to return the correct\n> > root URI which includes the mount name for isolated/external types (and the\n> part\n> > must be able to be generalized so that we don't need to call per-backend\n> > OpenFileSystem for non-sandboxed filesystems just to get the rootURI & name)\n> > \n> > [1]\n> >\n> https://code.google.com/p/chromium/codesearch#search/&q=%25255C-%25253EOpenFileSystem%252520file:src/chrome/browser/chromeos/*&sq=package:chromium&type=cs\n> \n> Agreed. TODO comment is a http://crbug.com URL would be nice here.\n\nFiled (http://crbug.com/297412) and added a comment.","draft":false,"lineno":116,"date":"2013-09-24 06:14:28.655110","left":false}],"id":4001,"is_binary":false}},"owner_email":"nhiroki@chromium.org","owner":"nhiroki","message":" ","try_job_results":[{"parent_name":null,"tests":["defaulttests"],"slave":"slave278-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_chromeos_asan/builds/9737","timestamp":"2013-09-25 00:02:52.412144","builder":"linux_chromeos_asan","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA3woM","requester":"nhiroki@chromium.org","buildnumber":"9737","revision":"224719"},{"parent_name":"win_rel","tests":["defaulttests"],"slave":"vm15-m4#13","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/46495","timestamp":"2013-09-23 19:17:58.027875","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(swarm_triggered)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDonQoM","requester":null,"buildnumber":"46495","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm502-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_aura/builds/79479","timestamp":"2013-09-23 19:13:33.350791","builder":"linux_aura","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDArwoM","requester":"nhiroki@chromium.org","buildnumber":"79479","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm347-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_rel/builds/201138","timestamp":"2013-09-23 19:02:57.223651","builder":"win_rel","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA3wsM","requester":"nhiroki@chromium.org","buildnumber":"201138","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave331-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_chromeos/builds/157012","timestamp":"2013-09-23 18:59:22.115148","builder":"linux_chromeos","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDArwkM","requester":"nhiroki@chromium.org","buildnumber":"157012","revision":"224719"},{"parent_name":"android_dbg","tests":["defaulttests"],"slave":"chromeperf26","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg_triggered_tests/builds/89305","timestamp":"2013-09-23 18:43:50.979094","builder":"android_dbg_triggered_tests","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(android_dbg)","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDIowoM","requester":null,"buildnumber":"89305","revision":"224719"},{"parent_name":null,"tests":["compile"],"slave":"vm517-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win/builds/110780","timestamp":"2013-09-23 18:31:44.378091","builder":"win","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA7wsM","requester":"nhiroki@chromium.org","buildnumber":"110780","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm210-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win7_aura/builds/81824","timestamp":"2013-09-23 18:27:19.981851","builder":"win7_aura","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDArwsM","requester":"nhiroki@chromium.org","buildnumber":"81824","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave348-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_asan/builds/47710","timestamp":"2013-09-23 18:23:01.406656","builder":"linux_asan","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA7wgM","requester":"nhiroki@chromium.org","buildnumber":"47710","revision":"224719"},{"parent_name":null,"tests":["compile"],"slave":"vm775-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/win_x64_rel/builds/39867","timestamp":"2013-09-23 18:03:29.537085","builder":"win_x64_rel","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDAvwgM","requester":"nhiroki@chromium.org","buildnumber":"39867","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm419-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_dbg/builds/105484","timestamp":"2013-09-23 18:02:03.519372","builder":"android_dbg","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA3wgM","requester":"nhiroki@chromium.org","buildnumber":"105484","revision":"224719"},{"parent_name":null,"tests":["compile"],"slave":"vm703-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac/builds/87665","timestamp":"2013-09-23 18:01:33.586948","builder":"mac","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDAnwsM","requester":"nhiroki@chromium.org","buildnumber":"87665","revision":"224719"},{"parent_name":null,"tests":["compile"],"slave":"slave347-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_clang/builds/141752","timestamp":"2013-09-23 17:57:25.846933","builder":"linux_clang","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA3wkM","requester":"nhiroki@chromium.org","buildnumber":"141752","revision":"224719"},{"parent_name":"linux_rel","tests":["defaulttests"],"slave":"vm14-m4#2","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/46464","timestamp":"2013-09-23 17:55:20.607797","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(swarm_triggered)","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDQuwoM","requester":null,"buildnumber":"46464","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"slave311-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_rel/builds/170648","timestamp":"2013-09-23 17:55:01.364734","builder":"linux_rel","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDAvwoM","requester":"nhiroki@chromium.org","buildnumber":"170648","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm681-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/mac_rel/builds/171337","timestamp":"2013-09-23 17:54:37.804195","builder":"mac_rel","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDAnwgM","requester":"nhiroki@chromium.org","buildnumber":"171337","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"mini35-l1","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_dbg_simulator/builds/87610","timestamp":"2013-09-23 17:50:08.277650","builder":"ios_dbg_simulator","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDAnwoM","requester":"nhiroki@chromium.org","buildnumber":"87610","revision":"224719"},{"parent_name":"mac_rel","tests":["defaulttests"],"slave":"vm9-m4#2","url":"http://build.chromium.org/p/tryserver.chromium/builders/swarm_triggered/builds/46461","timestamp":"2013-09-23 17:49:00.025610","builder":"swarm_triggered","clobber":false,"project":"Chromium Try Server","reason":"Triggerable(swarm_triggered)","result":"2","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDglwoM","requester":null,"buildnumber":"46461","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"vm394-m4","url":"http://build.chromium.org/p/tryserver.chromium/builders/android_clang_dbg/builds/78690","timestamp":"2013-09-23 17:47:19.658174","builder":"android_clang_dbg","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA7woM","requester":"nhiroki@chromium.org","buildnumber":"78690","revision":"224719"},{"parent_name":null,"tests":["compile"],"slave":"slave274-c4","url":"http://build.chromium.org/p/tryserver.chromium/builders/linux_chromeos_clang/builds/48780","timestamp":"2013-09-23 17:43:31.331185","builder":"linux_chromeos_clang","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDA7wkM","requester":"nhiroki@chromium.org","buildnumber":"48780","revision":"224719"},{"parent_name":null,"tests":["defaulttests"],"slave":"mini28-l1","url":"http://build.chromium.org/p/tryserver.chromium/builders/ios_rel_device/builds/82410","timestamp":"2013-09-23 17:42:14.572581","builder":"ios_rel_device","clobber":false,"project":"Chromium Try Server","reason":"fix_chromeos_openfs","result":"0","key":"ahdzfmNocm9taXVtY29kZXJldmlldy1ocnI2CxIFSXNzdWUYis7PCwwLEghQYXRjaFNldBi5FwwLEgxUcnlKb2JSZXN1bHQYgICAgIDAnwkM","requester":"nhiroki@chromium.org","buildnumber":"82410","revision":"224719"}],"created":"2013-09-23 17:26:59.574420","url":null,"num_comments":3,"modified":"2013-09-24 06:14:28.698420","patchset":3001,"issue":24373002}