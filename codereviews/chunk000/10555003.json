{"description":"Allow loading multiple plug-ins with the same base name on Mac.\n\nThe rationale for not allowing it was to let plug-ins from higher in the hierarchy (i.e. ~/Library/Internet Plugins) override plug-ins from deeper (i.e. /Library/Internet Plugins), but loading them earlier already takes care of that.\n\nBUG=132894\nTEST=see bug for manual test\n\n\nCommitted: http://src.chromium.org/viewvc/chrome?view=rev&revision=142723","cc":["chromium-reviews@chromium.org","darin-cc@chromium.org"],"reviewers":["stuartmorgan@chromium.org"],"messages":[{"sender":"bauerb@chromium.org","recipients":["bauerb@chromium.org","stuartmorgan@chromium.org","chromium-reviews@chromium.org","darin-cc@chromium.org"],"text":"Hi Stuart, \n\ncould you review this CL (and tell me if my thinking is right here)? Thanks!","disapproval":false,"date":"2012-06-18 11:39:01.230595","approval":false},{"sender":"stuartmorgan@chromium.org","recipients":["bauerb@chromium.org","stuartmorgan@chromium.org","chromium-reviews@chromium.org","darin-cc@chromium.org"],"text":"So the expected behavior would be that both plugins would load, and show up in about:plugins, but the first one (based on the hierarchy) would get picked at instantiation time?\n\nThat seems potentially confusing, and possibly a bit fragile (e.g., what if the system-level plugin has a higher version number, but the user has specifically added a lower-version plugin in their user directory for compatibility with something they use?). Maybe that's too much of an edge case to worry about?\n\n\nI'm not at all up on how this code has changed/is changing for multi-profile: is the expectation that we only have one PluginList for the whole browser, or one per profile? It seems like we would need the latter to make per-profile extensions work, but if that's true I'm not clear on why this change is necessary.","disapproval":false,"date":"2012-06-18 12:06:18.098174","approval":false},{"sender":"bauerb@chromium.org","recipients":["bauerb@chromium.org","stuartmorgan@chromium.org","chromium-reviews@chromium.org","darin-cc@chromium.org"],"text":"On 2012/06/18 12:06:18, stuartmorgan wrote:\n> So the expected behavior would be that both plugins would load, and show up in\n> about:plugins, but the first one (based on the hierarchy) would get picked at\n> instantiation time?\n\nYes.\n\n> That seems potentially confusing, and possibly a bit fragile (e.g., what if the\n> system-level plugin has a higher version number, but the user has specifically\n> added a lower-version plugin in their user directory for compatibility with\n> something they use?). Maybe that's too much of an edge case to worry about?\n\nIn that case, the user would still get the one in their user directory. Correct me if I'm wrong (in fact, that's why I asked you to review ;-) ), but I think this CL does not change the user-visible behavior.\n\nThe other advantage of loading both plug-ins is that the user can disable the first one in chrome://plugins to use the second one instead, which isn't possible if we don't load it at all.\n\n> I'm not at all up on how this code has changed/is changing for multi-profile: is\n> the expectation that we only have one PluginList for the whole browser, or one\n> per profile? It seems like we would need the latter to make per-profile\n> extensions work, but if that's true I'm not clear on why this change is\n> necessary.\n\nIt's all still a global singleton (neither webkit glue nor content even have the concept of profiles, much less having more than one ;-) ). Per-profile plug-ins are done via (Chrome)PluginServiceFilter, which filters out plug-ins that are disabled or only available to a certain profile.","disapproval":false,"date":"2012-06-18 13:36:59.641583","approval":false},{"sender":"stuartmorgan@chromium.org","recipients":["bauerb@chromium.org","stuartmorgan@chromium.org","chromium-reviews@chromium.org","darin-cc@chromium.org"],"text":"On 2012/06/18 13:36:59, Bernhard Bauer wrote:\n> In that case, the user would still get the one in their user directory. Correct\n> me if I'm wrong (in fact, that's why I asked you to review ;-) ), but I think\n> this CL does not change the user-visible behavior.\n\nI don't actually know any more; PluginList has changed a bunch over time since the last time I really dug into how it works. E.g., the whole \"plugin group\" concept, which IIRC tries to pick the highest-available-version plugin.\n\n> The other advantage of loading both plug-ins is that the user can disable the\n> first one in chrome://plugins to use the second one instead, which isn't\n> possible if we don't load it at all.\n\nThat's true; the code you are removing predates the ability to disable plugins. I guess that's a good argument for making this change regardless; if it does change something about selection order, people can just disable the one they don't want.\n\n\nGiven than LGTM.","disapproval":false,"date":"2012-06-18 14:08:41.859924","approval":true},{"sender":"commit-bot@chromium.org","recipients":["bauerb@chromium.org","stuartmorgan@chromium.org","chromium-reviews@chromium.org","darin-cc@chromium.org"],"text":"CQ is trying da patch. Follow status at\nhttps://chromium-status.appspot.com/cq/bauerb@chromium.org/10555003/1","disapproval":false,"date":"2012-06-18 14:48:01.347561","approval":false},{"sender":"commit-bot@chromium.org","recipients":["bauerb@chromium.org","stuartmorgan@chromium.org","chromium-reviews@chromium.org","darin-cc@chromium.org"],"text":"Change committed as 142723","disapproval":false,"date":"2012-06-18 16:02:44.152394","approval":false}],"owner_email":"bauerb@chromium.org","private":false,"base_url":"svn://svn.chromium.org/chrome/trunk/src","owner":"Bernhard Bauer","subject":"Allow loading multiple plug-ins with the same base name on Mac.","created":"2012-06-15 12:04:53.541269","patchsets":[1],"modified":"2012-06-18 16:02:44.339086","closed":true,"commit":false,"issue":10555003}